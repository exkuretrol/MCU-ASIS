# (PART) åŸºç¤å»ºè¨­ {.unnumbered}

# è™›æ“¬ä¸»æ©Ÿ {#intro}

å› ç‚ºä½¿ç”¨è€…çš„ç¶“é©—ã€èƒ½åŠ›èˆ‡è§£æ±ºå•é¡Œçš„èƒ½åŠ›æœƒæœ‰æ‰€å·®ç•°ï¼Œåœ¨æ¥è§¸æ–°çš„ç³»çµ±ä¹‹å‰ï¼Œæœ€å¥½é‚„æ˜¯å…ˆåœ¨è™›æ“¬ä¸»æ©Ÿä¸Šå…ˆé‹è¡Œéä¸€æ¬¡ï¼Œç¢ºèªæ²’å•é¡Œä¹‹å¾Œå†æŠŠæ“ä½œæ¬åˆ°å¯¦é«”é›»è…¦ä¸Šå»ï¼Œæ‰ä¸æœƒé‡åˆ°é æ–™ä¹‹å¤–çš„å•é¡Œã€‚æœ¬æ›¸æ‰€ä½¿ç”¨é‹è¡Œè™›æ“¬ä¸»æ©Ÿçš„è»Ÿé«”ç‚º VirtualBoxã€‚

## äº‹å‰æº–å‚™

åœ¨é–‹å§‹æ•™å­¸ä¹‹å‰ï¼Œç¢ºå®šä½ çš„ç’°å¢ƒè¦èƒ½ä¸Šç¶²å­˜å–ç¶²è·¯ä¸Šçš„è³‡æºã€‚ å†ä¾†æ˜¯æª¢æŸ¥è‡ªå·±çš„é›»è…¦å¯ä¸å¯ä»¥é‹è¡Œ VirtualBoxï¼ˆæˆ–æ˜¯å…¶ä»–å¯ä»¥é‹è¡Œè™›æ“¬ä¸»æ©Ÿçš„è»Ÿé«”ï¼‰ï¼Œè¦é‹è¡Œè™›æ“¬ä¸»æ©Ÿé€šå¸¸éƒ½è¦å» BIOS æ‰“é–‹ä¸€å€‹å«åšæ“¬åŒ–åŠŸèƒ½ï¼ˆVirtualization Technologyï¼‰çš„åŠŸèƒ½ã€‚

ä¸‹åˆ—æ˜¯æˆ‘æ‰€æ•´ç†å„å» ç‰Œè™›æ“¬åŒ–åŠŸèƒ½çš„é–‹å•Ÿæ–¹å¼ï¼š

| å“ç‰Œ   | é€£çµ                                                                                                                                                                                                                                                                   |
|-----------|-------------------------------------------------------------|
| Acer   | [How to Enable Virtualization Technology on Acer Products - Acer Community](https://community.acer.com/kb/articles/14750)                                                                                                                                              |
| Asus   | [[Motherboard]How to set VT(Virtualization Technology) in BIOS and install Virtual Machine in Windows \| Official Support \| ASUS Global](https://www.asus.com/support/FAQ/1045141/){.uri}                                                                             |
| Dell   | [å¦‚ä½•åœ¨ Dell ç³»çµ±ä¸Šå•Ÿç”¨æˆ–åœç”¨ç¡¬é«”è™›æ“¬åŒ– \| Dell å°ç£](https://www.dell.com/support/kbdoc/zh-tw/000195978/%E5%A6%82%E4%BD%95-%E5%9C%A8-dell-%E7%B3%BB%E7%B5%B1%E4%B8%8A-%E5%95%9F%E7%94%A8-%E6%88%96-%E5%81%9C%E7%94%A8-%E7%A1%AC%E9%AB%94-%E8%99%9B%E6%93%AC%E5%8C%96) |
| HP     | [HP PCs - Enable Virtualization Technology in the BIOS \| HPÂ® Customer Support](https://support.hp.com/us-en/document/ish_5637142-5637191-16)                                                                                                                          |
| Lenovo | [How to enable Virtualization Technology on Lenovo PC computers - Lenovo Support TW](https://support.lenovo.com/tw/en/solutions/ht500006)                                                                                                                              |

## ä¸‹è¼‰ Ubuntu æ˜ åƒæª”

é€²åˆ° Ubuntu å®˜æ–¹ç¶²ç«™å¾Œï¼Œé»é¸å³ä¸Šè§’çš„ã€ŒDownloadã€å±•é–‹ä¸‹è¼‰é é¢ã€‚

```{r, fig.cap='ubuntu.com å®˜æ–¹ç¶²ç«™'}
knitr::include_graphics(path = 'figures/ubuntu-official-website.png')
```

é»é¸ã€ŒGet Ubuntu Serverã€è·³è½‰è‡³ä¸‹è¼‰é é¢ã€‚ 

```{r, fig.cap='ubuntu.com å®˜æ–¹ç¶²ç«™ä¸‹è¼‰é é¢'}
knitr::include_graphics(path = 'figures/ubuntu-official-website-download.png')
```

æŒ‰ç•«é¢ä¸­çš„ç¶ è‰²æŒ‰éˆ•ã€ŒDownload Ubuntu Server 22.04.2 LTSã€æœƒè·³è½‰åˆ°ä¸‹è¼‰é é¢ï¼Œé–‹å§‹ä¸‹è¼‰ Ubuntu ç³»çµ±æ˜ åƒæª”æ¡ˆ (\*.iso)ã€‚

```{r, fig.cap='ubuntu.com Ubuntu ä¼ºæœå™¨ç‰ˆæœ¬ä¸‹è¼‰'}
knitr::include_graphics(path = 'figures/ubuntu-download-server-page.png')
```

é¸é …çš„ç°¡æ˜“èªªæ˜:

-   `Option 1 - Manual server installation`: ä¸‹è¼‰æ˜ åƒæª”æ¡ˆã€‚

-   `Option 2 - Instant Ubuntu VMs`: Multipass æ˜¯å¿«é€Ÿéƒ¨å±¬è™›æ“¬ä¸»æ©Ÿçš„è»Ÿé«”ï¼Œè©³ç´°èªªæ˜å¯ä»¥çœ‹[é€™è£¡](https://github.com/canonical/multipass)ï¼Œè€Œé€™è£¡æˆ‘å€‘å·²ç¶“é¸ç”¨ VirtualBox äº†æ‰€ä»¥ä¸æœƒç”¨åˆ°ã€‚

-   `Option 3 - Automated server provisioning`: åˆ©ç”¨ [MaaS](https://maas.io/) (Metal-as-a-Service) å®‰è£è™›æ“¬æ©Ÿã€‚MaaSæ˜¯ç®¡ç†æ•¸å°è™›æ“¬ä¸»æ©Ÿç”¨çš„æœå‹™ï¼Œä¸¦ä¸å±€é™æ–¼ Ubuntuï¼ŒWindowsã€CentOS èˆ‡ ESXiéƒ½å¯ä»¥åœ¨ä¸Šé¢éƒ¨å±¬ã€‚

## å®‰è£ VirtualBox

é¦–å…ˆåˆ° [VirtualBox å®˜æ–¹ç¶²ç«™](https://www.virtualbox.org/wiki/Downloads)çš„ä¸‹è¼‰é é¢ï¼Œä¸‹è¼‰é©åˆä½ é›»è…¦ç³»çµ±çš„å®‰è£åŸ·è¡Œæª”ï¼Œå‡å¦‚æ˜¯ Windows ç³»çµ±å°±é»æ“Š ã€ŒWindows hostsã€çš„ä¸‹è¼‰é€£çµï¼Œå¦‚æœæ˜¯å…¶ä»–ä½œæ¥­ç³»çµ±å°±æ ¹æ“šä½ çš„ä½œæ¥­ç³»çµ±ä¸‹è¼‰å°æ‡‰çš„å®‰è£ç¨‹å¼ã€‚

```{r , fig.cap='www.virtualbox.org çš„ä¸‹è¼‰é é¢'}
knitr::include_graphics(path = "./figures/www.virtualbox.org-downloads-page.png")
```

å®‰è£çš„éç¨‹ä¸­åªéœ€ä½¿ç”¨é è¨­çš„è¨­å®šå³å¯ï¼Œé è¨­è¨­å®šåšäº†å®‰è£è™›æ“¬ä¸»æ©Ÿçš„é©…å‹•ç¨‹å¼ã€é—œè¯æª”æ¡ˆ...ç­‰ç­‰ï¼Œæ­£å¸¸ä¾†èªªä¸éœ€è¦è®Šæ›´å®ƒã€‚

```{r, fig.cap='virtualbox å®‰è£ç¨‹å¼'}
knitr::include_graphics(path = "./figures/virtualbox-installer-1.png")
```

é€™è£¡æŒ‰ä¸‹ä¸€æ­¥å³å¯ï¼Œå®‰è£éç¨‹ä¸­å¯èƒ½æœƒè·³å‡ºä¸€äº›è­¦å‘Šï¼Œé»æ“Šã€Œæ˜¯ã€å³å¯ã€‚

```{r, fig.cap='virtualbox å®‰è£ç¨‹å¼ï¼ˆé©…å‹•ç¨‹å¼å®‰è£ï¼‰'}
knitr::include_graphics(path = "./figures/virtualbox-installer-2.png")
```

ä¾è³´ç¨‹å¼æç¤ºè¨Šæ¯ã€‚

```{r, fig.cap='virtualbox å®‰è£ç¨‹å¼ï¼ˆä¾è³´ç¨‹å¼å®‰è£ï¼‰'}
knitr::include_graphics(path = "./figures/virtualbox-installer-3.png")
```

å®‰è£ç¨‹å¼å®‰è£ä¸­ã€‚

```{r, fig.cap='virtualbox å®‰è£ç¨‹å¼ï¼ˆå®‰è£ä¸­ï¼‰'}
knitr::include_graphics(path = "./figures/virtualbox-installer-4.png")
```

æœ€å¾Œçœ‹åˆ°å®‰è£æˆåŠŸç•«é¢ä»£è¡¨å®‰è£å®Œæˆã€‚

```{r, fig.cap='virtualbox å®‰è£ç¨‹å¼ï¼ˆå®‰è£å®Œæˆï¼‰'}
knitr::include_graphics(path = "./figures/virtualbox-installer-5.png")
```

## VirtualBox ä»‹é¢ç°¡ä»‹

åœ¨å®‰è£å®Œ VirtualBox å¾Œï¼Œæ‰“é–‹ä¸¦ä¸æœƒæœ‰é å…ˆå®‰è£å¥½çš„ä½œæ¥­ç³»çµ±ï¼Œéœ€è¦åœ¨ VirtualBox å…§è‡ªè¡Œæ–°å¢è™›æ“¬ä¸»æ©Ÿå¾Œï¼Œå†å°‡ä½œæ¥­ç³»çµ±å®‰è£è‡³è™›æ“¬ä¸»æ©Ÿå…§ï¼›åˆæˆ–æ˜¯åŒ¯å…¥ç¾æœ‰çš„è™›æ“¬ä¸»æ©Ÿæ˜ åƒæª”ï¼ˆ\*.ovaã€\*.ovf æ ¼å¼ï¼‰ã€‚

é¦–å…ˆä»‹ç´¹ VirtualBox çš„ä½¿ç”¨è€…ä»‹é¢:

```{r virtualbox-menu, fig.cap='VirtualBox çš„æ“ä½œä»‹é¢'}
knitr::include_graphics("./figures/virtualbox-menu.png", dpi = NA)
```

å¦‚åœ– \@ref(fig:virtualbox-menu) æ‰€ç¤ºï¼Œå³é‚Šä¸»è¦åŠŸèƒ½åœ–ç¤ºç”±å·¦è€Œå³çš„åŠŸèƒ½åˆ†åˆ¥æ˜¯:

1.  `å–œå¥½è¨­å®š`: è¨­å®š VirtualBox çš„æ•´é«”è¨­å®šï¼Œåƒæ˜¯è»Ÿé«”èªè¨€ã€è™›æ“¬ä¸»æ©Ÿé è¨­å­˜æ”¾ä½ç½®...ç­‰ç­‰
2.  `åŒ¯å…¥`: åŒ¯å…¥è™›æ“¬ä¸»æ©Ÿæª”æ¡ˆ (.ovf)
3.  `åŒ¯å‡º`: åŒ¯å‡ºè™›æ“¬ä¸»æ©Ÿæª”æ¡ˆ
4.  `æ–°å¢`: æ–°å¢*æ–°çš„*è™›æ“¬ä¸»æ©Ÿ
5.  `åŠ å…¥`: åŠ å…¥*å·²ç¶“å­˜åœ¨çš„*è™›æ“¬ä¸»æ©Ÿ

## æ–°å¢è™›æ“¬ä¸»æ©Ÿè¨­å®š

æŒ‰ã€Œæ–°å¢ã€æ–°å¢æ–°çš„è™›æ“¬ä¸»æ©Ÿã€‚é€™è£¡å…ˆé»é¸ã€Œå°ˆå®¶æ¨¡å¼ã€ï¼Œå°ˆå®¶æ¨¡å¼å¯ä»¥ä¸€ä½µè¨­å®šè™›æ“¬ä¸»æ©Ÿçš„æ‰€æœ‰è¨­å®šã€‚

```{r, fig.cap='å»ºç«‹è™›æ“¬ä¸»æ©Ÿ'}
knitr::include_graphics(path = "./figures/new-virtual-machine-0.png")
```

### åç¨±å’Œä½œæ¥­ç³»çµ±

åç¨±å¡«å…¥ã€ŒUbuntuã€ï¼ŒISO æ˜ åƒé¸æ“‡å‰›æ‰ä¸‹è¼‰ä¸‹ä¾†çš„ Ubuntu æ˜ åƒæª”ã€‚é€™è£¡è«‹å‹¾é¸ã€Œç•¥éç„¡äººå€¼å®ˆå®‰è£ã€ã€‚

```{r, fig.cap='åç¨±å’Œä½œæ¥­ç³»çµ±è¨­å®š'}
knitr::include_graphics(path = "./figures/new-virtual-machine-1.png")
```

### ç„¡äººå€¼å®ˆå®‰è£

å¦‚æœä¸Šä¸€æ­¥æœ‰å‹¾é¸ç•¥éç„¡äººå€¼å®ˆå®‰è£ï¼Œç•«é¢æœƒåƒä¸‹åœ–ä¸€æ¨£ï¼š

```{r, fig.cap='ç•¥éç„¡äººå€¼å®ˆå®‰è£è¨­å®š'}
knitr::include_graphics(path = "./figures/new-virtual-machine-2.png")
```

### ç¡¬é«”

è¨˜æ†¶é«”å¤§å°æ ¹æ“šæ¯å€‹äººé›»è…¦çš„æ€§èƒ½åšèª¿æ•´ï¼Œè™›æ“¬ä¸»æ©Ÿæ²’ç”¨ä¾†åšä»€éº¼äº‹é‚£è¨­å®š 4 GB å¾ˆå¤ ç”¨äº†ã€‚è™•ç†å™¨å¯ä»¥è¨­å®šç‚º 2 æˆ–æ˜¯æ›´é«˜ï¼Œä½†æ˜¯å»ºè­°ä¸è¦è¶…éåœ–ä¸Šçš„ç¶ è‰²æŒ‡ç¤ºï¼Œä¸ç„¶é›»è…¦æœƒè² è·ä¸äº†ã€‚

```{r, fig.cap='ç¡¬é«”è¨­å®š'}
knitr::include_graphics(path = "./figures/new-virtual-machine-3.png")
```

::: {.infobox}
å› ç‚ºæˆ‘å¯«æ•™å­¸æ™‚æ˜¯ä½¿ç”¨è™›æ“¬ä¸»æ©Ÿæ’°å¯«ï¼Œé›»è…¦è³‡æºæ²’æœ‰é‚£éº¼å¤šï¼Œæ‰€ä»¥ä¸Šåœ–æ‰æœƒåªæœ‰è¨­å®š 2 GBï¼Œè‡ªå·±å®‰è£æ™‚ç…§ä¸Šé¢èªªæ˜å»ºè­°çš„å°±å¯ä»¥äº†
:::

### ç¡¬ç¢Ÿ

å°‡è™›æ“¬ç¡¬ç¢Ÿè¨­å®šç‚º 1.0 TBï¼Œä¸”å°‡ç¡¬ç¢Ÿé¡å‹è®Šæ›´ç‚ºã€ŒVMDKã€æ ¼å¼ï¼Œä¸¦å‹¾é¸ã€Œåˆ†å‰²æˆ 2 GB éƒ¨åˆ†ã€ï¼Œå¦‚ä¸‹åœ–ï¼š

```{r, fig.cap='ç¡¬ç¢Ÿè¨­å®š'}
knitr::include_graphics(path = "./figures/new-virtual-machine-4.png")
```

é è¨­çš„è™›æ“¬ä¸»æ©Ÿå­˜æ”¾ä½ç½®ä½æ–¼ä½¿ç”¨è€…è³‡æ–™å¤¾ä¸­çš„ `Virtual VMs` è³‡æ–™å¤¾ï¼Œå‡å¦‚çš„ä½¿ç”¨è€…æ˜¯ kuazï¼Œé‚£è™›æ“¬ä¸»æ©Ÿå°±ä½æ–¼:

    C:\Users\kuaz\VirtualBox VMs

è¨­å®šå®Œå¾Œé»æ“Šã€Œå®Œæˆã€ä»¥å»ºç«‹è™›æ“¬ä¸»æ©Ÿã€‚

::: {.infobox .rmdtip}
é€™è£¡æˆ‘æœƒé¸ VMDK æ ¼å¼çš„åŸå› æ˜¯å› ç‚ºï¼Œè½‰ç§»è™›æ“¬ä¸»æ©Ÿæª”æ¡ˆæ™‚ï¼Œå–®å€‹æª”æ¡ˆæœƒè¼•æ˜“åœ°è¶…é 4 GBï¼Œè€Œè¶…éæ­¤ä¸Šé™çš„æª”æ¡ˆåœ¨è¤‡è£½æ™‚ï¼Œå¦‚æœéš¨èº«ç¡¬ç¢Ÿè£ç½®æ ¼å¼ä¸æ˜¯ NTFS æ ¼å¼ çš„è©±ï¼Œæœƒæ²’æœ‰è¾¦æ³•è¤‡è£½ã€‚
ç‚ºäº†å…å»åˆ°æ™‚å€™åˆ†å‰²è™›æ“¬ä¸»æ©Ÿçš„éº»ç…©ï¼Œåœ¨é€™é‚Šå…ˆé¸æ“‡ VMDK ä½œç‚ºè™›æ“¬ä¸»æ©Ÿçš„æª”æ¡ˆæ ¼å¼ã€‚
:::

<!--# TODO: é€™é‚Šå¯ä»¥å†åŠ å¦‚æœè™›æ“¬ä¸»æ©Ÿå·²ç¶“æ˜¯ VDI æ ¼å¼æ€éº¼è½‰æ›æˆ VMDK æ ¼å¼çš„æ•™å­¸ -->

å®Œæˆå¾Œï¼Œæœƒåœ¨ VirtualBox å·¦é‚Šçš„é¸å–®çœ‹è¦‹å‰›å‰›æ–°å»ºçš„è™›æ“¬ä¸»æ©Ÿï¼Œä¸éæ­¤æ™‚çš„è™›æ“¬ä¸»æ©Ÿå…§é‚„æ²’æœ‰ä½œæ¥­ç³»çµ±ã€‚

```{r, fig.cap='å®Œæˆå»ºç«‹è™›æ“¬ä¸»æ©Ÿ'}
knitr::include_graphics(path = "./figures/virtual-machine-created.png")
```

ç‚ºäº†è¦ä½¿ç”¨è·Ÿä¼ºæœå™¨ä¸€æ¨£çš„è¨­å®šï¼Œéœ€è¦å†æ–°å¢å¦ä¸€é¡†è·ŸåŸæœ¬ç¡¬ç¢Ÿä¸€æ¨£å¤§å°çš„ç¡¬ç¢Ÿåšé¡åƒå‚™ä»½ã€‚é»é¸å³é‚Šæ©˜è‰²çš„é½’è¼ªã€Œè¨­å®šâš™ã€ã€‚

åœ¨å­˜å„²è£ç½®çš„ã€Œæ§åˆ¶å™¨ï¼šSATAã€éƒ¨åˆ†ï¼Œé»é¸ç¡¬ç¢Ÿåœ–æ¡ˆï¼ˆæœ‰ç¶ è‰²åŠ ç¬¦è™Ÿçš„ï¼‰æ–°å¢æ–°çš„ç¡¬ç¢Ÿã€‚

```{r, fig.cap='è™›æ“¬ä¸»æ©Ÿå­˜æ”¾è£ç½®è¨­å®š'}
knitr::include_graphics(path = 'figures/virtual-machine-setting-storage.png')
```

é»é¸ã€Œå»ºç«‹ã€å»ºç«‹èˆ‡ç¬¬ä¸€é¡†ç¡¬ç¢Ÿæ¢ä»¶ä¸€æ¨£çš„ç¡¬ç¢Ÿã€‚

```{r, fig.cap='è™›æ“¬ä¸»æ©Ÿï¼Œç®¡ç†å­˜æ”¾è£ç½®'}
knitr::include_graphics(path = 'figures/virtual-machine-setting-storage-new-1.png')
```

é¸å–ã€Œå°ˆå®¶æ¨¡å¼ã€ä¸€ä½µè¨­å®šã€‚

```{r, fig.cap='è™›æ“¬ç¡¬ç¢Ÿæ ¼å¼'}
knitr::include_graphics(path = 'figures/virtual-machine-setting-storage-new-2.png')
```

èˆ‡ç¬¬ä¸€å€‹ç¡¬ç¢Ÿç›¸åŒï¼Œç¡¬ç¢Ÿæª”é¡å‹ç‚ºã€ŒVMDKã€ï¼Œç¡¬ç¢Ÿå¤§å°ã€Œ1 TBã€ï¼Œä¸¦å‹¾é¸ã€Œåˆ†å‰²æˆ 2 GB éƒ¨åˆ†ã€ã€‚

```{r, fig.cap='è™›æ“¬ç¡¬ç¢Ÿæ ¼å¼'}
knitr::include_graphics(path = 'figures/virtual-machine-setting-storage-new-3.png')
```

å®Œæˆå¾Œï¼Œé»æ“Šã€Œé¸æ“‡ã€é¸æ“‡å‰›æ‰æ–°å¢çš„ç¡¬ç¢Ÿã€‚

```{r, fig.cap='è™›æ“¬ç¡¬ç¢Ÿæ ¼å¼'}
knitr::include_graphics(path = 'figures/virtual-machine-setting-storage-new-4.png')
```

å»ºç«‹å®Œå¾Œæˆæœå¦‚ä¸‹ï¼š

```{r, fig.cap='è™›æ“¬ä¸»æ©Ÿå®Œæˆå­˜æ”¾è£ç½®è¨­å®š'}
knitr::include_graphics(path = './figures/virtual-machine-setting-storage-finished.png')
```

æœƒçœ‹åˆ°ã€Œæ§åˆ¶å™¨ï¼šSATAã€è£¡é¢æœ‰å…©å€‹ç£ç¢Ÿã€‚åˆ°é€™è£¡è™›æ“¬ä¸»æ©Ÿçš„è¨­å®šå°±å®Œæˆäº†ã€‚

## å®‰è£ä½œæ¥­ç³»çµ±

åœ¨å®‰è£ä½œæ¥­ç³»çµ±ä¹‹å‰ï¼Œé»æ“Šå…©ä¸‹é–‹å•Ÿå‰›å‰›å‰µå»ºçš„ã€ŒMCU-ASISã€è™›æ“¬ä¸»æ©Ÿï¼Œæœƒè·³å‡ºä¸€å€‹é¸æ“‡å•Ÿå‹•ç£ç¢Ÿçš„è¨Šæ¯æç¤ºè¦–çª—ï¼Œé€™è£¡æˆ‘å€‘é»æ“Šå³ä¸‹è§’çš„è³‡æ–™å¤¾ğŸ“ã€‚

```{r, fig.cap='è™›æ“¬ä¸»æ©Ÿï¼Œé¸æ“‡é–‹æ©Ÿä½ç½®'}
knitr::include_graphics(path = 'figures/ubuntu-install-select-iso.png')
```

æŒ‰ã€ŒåŠ å…¥ã€ä¸¦é¸æ“‡å‰›å‰›ä¸‹è¼‰ä¸‹ä¾†çš„æ˜ åƒæª”æ¡ˆ (ubuntu-20.04.2-live-server-amd64.iso)ã€‚åŠ å…¥å®Œæˆå¾ŒæŒ‰ã€Œé¸æ“‡ã€ï¼Œæ¥è‘—æŒ‰ã€Œé–‹å§‹ã€æ›è¼‰æ˜ åƒæª”æ¡ˆè‡³è™›æ“¬ä¸»æ©Ÿä¸­é–‹å§‹å®‰è£ã€‚

```{r, fig.cap='é¸æ“‡æ˜ åƒæª”æ¡ˆè¼‰å…¥'}
knitr::include_graphics(path = './figures/select-iso.png')
```

### èªè¨€

ç¨å¾… Ubuntu ä½œæ¥­ç³»çµ±æ˜ åƒæª”è¼‰å…¥å¾Œï¼Œå®‰è£ç¨‹å¼æœƒè·³å‡ºé¸æ“‡èªè¨€çš„ç•«é¢ï¼Œåœ¨é€™è£¡é¸æ“‡é©åˆä½ çš„èªè¨€ã€‚

```{r, fig.cap='Ubuntu å®‰è£ç•«é¢ï¼Œé¸æ“‡ç³»çµ±èªè¨€'}
knitr::include_graphics(path = './figures/ubuntu-configuration-select-lang.png')
```

åœ¨å®‰è£éç¨‹ä¸­ä½¿ç”¨æ–¹å‘éµâ¬†ï¸â¬‡ï¸â¬…ï¸â¡ï¸ï¼ˆé¸æ“‡ï¼‰ã€Enterâ†ªï¸ï¼ˆç¢ºèªï¼‰èˆ‡ Escï¼ˆè¿”å›ï¼‰æ“æ§å®‰è£ç¨‹å¼ä»‹é¢ã€‚

### éµç›¤é…ç½®

é€™è£¡å¯ä»¥è¨­å®šéµç›¤çš„:

-   `Layout` (å¸ƒå±€): éµç›¤çš„èªè¨€

-   `Variant` (éµä½): ä¸€èˆ¬åœ¨å°ç£éƒ½æ˜¯ç”¨ QWERTY é…ç½®ï¼Œè©³ç´°èªªæ˜å¯ä»¥åœ¨[é€™](https://zh.wikipedia.org/wiki/%E9%94%AE%E7%9B%98%E5%B8%83%E5%B1%80)æ‰¾åˆ°

```{r, fig.cap='Ubuntu å®‰è£ç•«é¢ï¼Œé¸æ“‡éµç›¤é…ç½®'}
knitr::include_graphics(path = './figures/installer-keyboard.png')
```

### ç¶²è·¯é€£ç·š

é€™è£¡å¯ä»¥è¨­å®š Ubuntu çš„ç¶²è·¯é€£ç·šï¼Œé è¨­æ˜¯ç”± DHCP è¨­å®šï¼Œé€šå¸¸ä¸ç”¨è®Šæ›´ï¼Œå¦‚æœé€™è£¡é€£ç·šå¤±æ•—ï¼Œä¹Ÿå¯ä»¥ç­‰é–‹æ©Ÿå¾Œå†åšè¨­å®šã€‚

```{r, fig.cap='Ubuntu å®‰è£ç•«é¢ï¼Œç¶²è·¯é€£ç·šè¨­å®š'}
knitr::include_graphics(path = './figures/installer-network.png')
```

### Proxy

é™¤éç¶²è·¯éœ€è¦è¨­å®š proxyï¼ˆä»£ç†ä¼ºæœå™¨ï¼‰ï¼Œå¦å‰‡ä¸éœ€è¦è¨­å®šã€‚

```{r, fig.cap='Ubuntu å®‰è£ç•«é¢ï¼Œproxy è¨­å®š'}
knitr::include_graphics(path = 'figures/installer-proxy.png')
```

### é¡åƒ (Mirror)

åŒä¸Šï¼Œä¸éœ€è¦ç‰¹åˆ¥è¨­å®š mirror (é¡åƒ)ï¼Œå®‰è£ç¨‹å¼æœƒè‡ªå‹•åˆ¤æ–·é¸æ“‡å“ªå€‹åœ°æ–¹çš„é¡åƒç¶²å€æ›´æ–°ã€‚

```{r, fig.cap='Ubuntu å®‰è£ç•«é¢ï¼Œå¥—ä»¶é¡åƒä½ç½®è¨­å®š'}
knitr::include_graphics(path = './figures/installer-mirror.png')
```

### å®‰è£ç¨‹å¼æ›´æ–°

ç•¶ Ubuntu åœ¨å®‰è£éç¨‹ä¸­ï¼Œå¦‚æœæœ‰é€£ä¸Šç¶²è·¯ï¼Œå®‰è£ç¨‹å¼æœƒåµæ¸¬ç•¶å‰çš„å®‰è£ç¨‹å¼æ˜¯å¦éœ€è¦æ›´æ–°ï¼Œå¦‚æœå‡ºç¾äº†é€™å€‹ç•«é¢ä»£è¡¨å®‰è£ç¨‹å¼æœ‰æ–°çš„ç‰ˆæœ¬ï¼Œå¯ä»¥åœ¨å®‰è£æ™‚é †ä¾¿æ›´æ–°ï¼Œç•¶ç„¶ï¼Œä¹Ÿå¯ä»¥åœ¨ç³»çµ±å®‰è£å®Œå¾Œæ›´æ–°ã€‚

```{r, fig.cap='Ubuntu å®‰è£ç•«é¢'}
knitr::include_graphics(path = './figures/installer-update.png')
```

### ç³»çµ±ç©ºé–“é…ç½®

<!-- TODO: æœ¬é é¢æ›¸è¦æ›´æ–°ï¼Œç¾åœ¨ 2022 æä¸å¥½ä¿®å¥½äº† -->

<!-- TODO: è£œå…… raid èªªæ˜ -->

é€™è£¡é¸æ“‡ä¸‹é¢çš„ã€ŒCustom storage layoutã€ï¼Œå› ç‚ºä¼ºæœå™¨ç¡¬ç¢Ÿä¸æ˜¯ä½¿ç”¨å°‹å¸¸çš„è¨­å®šã€‚ä»¥ä¸‹ Raid-1 ç›¸é—œçš„è¨­å®šæ˜¯åƒè€ƒ [@evangelou_2020] çš„ Gist ç¿»è­¯æˆä¸­æ–‡å¯«çš„ã€‚

```{r, fig.cap='Ubuntu å®‰è£ç¨‹å¼ï¼Œç£ç¢Ÿé…ç½®å°è¦½'}
knitr::include_graphics(path = 'figures/installer-storage.png')
```

-   å¦‚æœé¸éŒ¯äº†ã€æˆ–æ˜¯ç¡¬ç¢Ÿä¸­æœ‰å·²ç¶“åˆ†å‰²å¥½çš„ç£å€ä¹Ÿæ²’é—œä¿‚ï¼Œå¾ AVAILABLE DEVICES ä¸‹é¢é¸æ“‡ç¡¬ç¢Ÿ âœ ã€ŒReformatã€ âœ ã€ŒReformatã€ï¼Œé€™æœƒæŠŠç¡¬ç¢Ÿæ ¼å¼åŒ–ã€‚

```{r, fig.cap='Ubuntu å®‰è£ç¨‹å¼ï¼Œç£ç¢Ÿé…ç½®å°è¦½'}
knitr::include_graphics(path = 'figures/installer-storage_1.png')
```

-   é¸æ“‡ç¬¬ä¸€å€‹ç£ç¢Ÿ âœ ã€ŒUse As Boot Deviceã€ ç•¶ä½œé–‹æ©Ÿç£ç¢Ÿ

```{r, fig.cap='Ubuntu å®‰è£ç¨‹å¼ï¼Œç£ç¢Ÿé…ç½®å°è¦½'}
knitr::include_graphics(path = 'figures/installer-storage_2.png')
```

-   å°ç¬¬äºŒå€‹ç£ç¢Ÿã€ŒVBOX_HARDDISK_VBdc8cc122-e9b43569ã€ä¹ŸåšåŒæ¨£çš„äº‹æƒ…ã€‚

::: {.infobox .rmdcaution}
ç›®å‰ç‰ˆæœ¬ 20.04.2 live server æœ‰å€‹ bugï¼Œç•¶ä½ è¦æ–°å¢ç‚ºé–‹æ©Ÿç¡¬ç¢Ÿ (Boot Device) æ™‚ï¼Œè¦åœ¨å»ºç«‹å…¶ä»–ä¸‰å€‹åˆ†å€ (`/` ã€ `/boot` å’Œ `[SWAP]`)ä¹‹å‰ï¼Œå…ˆè¨­å®šå¥½ï¼Œä¸ç„¶ 1Mb çš„ grub åˆ†å€æœƒæ¶ˆå¤±ã€‚(æˆ‘åªæœ‰å¾ç¾ééŒ¯èª¤ä¸€æ¬¡ 2021.07.21)
:::

-   æ¥è‘—ç‚º `/` ã€ `/boot` å’Œ `[SWAP]` åšåˆ†å€ã€‚

    -   `/`: ç³»çµ±æ ¹ç›®éŒ„ç£å€

    -   `/boot`: é–‹æ©Ÿç£å€

    -   `[SWAP]`: [SWAP](http://linux.vbird.org/linux_basic/0230filesystem.php#swap) (è¨˜æ†¶é«”ç½®æ›ç©ºé–“) ä¸»è¦åŠŸèƒ½æ˜¯ç•¶è¨˜æ†¶é«”æ»¿è¼‰æ™‚ï¼ŒæœƒæŠŠç¾åœ¨æ²’æœ‰ç”¨åˆ°çš„ç¨‹åºå…ˆæ”¾åˆ° SWAP ä¸­ï¼Œç©ºçµ¦ç›®å‰æ­£åœ¨é‹è¡Œçš„ç¨‹å¼ä½¿ç”¨

-   é¦–å…ˆç‚º `/boot` åˆ†å€ï¼Œé€šå¸¸é–‹æ©Ÿç£å€ 512 Mb \~ 1Gb å°±å¾ˆå¤ ç”¨äº†ï¼Œçœ‹ä½ å–œå¥½ï¼Œé€™è£¡æˆ‘é¸æ“‡ 1Gbã€‚é¸æ“‡ç¬¬ä¸€å€‹ç£ç¢Ÿ âœ ã€ŒAdd GPT Partitationã€ï¼Œç…§ä¸‹é¢çš„è¨­å®šè¨­å®šå¾Œï¼ŒæŒ‰ã€ŒCreateã€ã€‚

    -   Size: `1G`

    -   Format: `[ Leave unformatted â–¾ ]`

-   å°ç¬¬äºŒé¡†ç¡¬ç¢ŸåšåŒæ¨£çš„äº‹ã€‚

```{r, fig.cap='Ubuntu å®‰è£ç¨‹å¼ï¼Œç£ç¢Ÿé…ç½®å°è¦½'}
knitr::include_graphics(path = 'figures/installer-storage_3.png')
```

-   å†ä¾†æ˜¯ `[SWAP]` ç£å€ï¼Œä¸€èˆ¬ä¾†èªªæœƒç”¨å¯¦é«”è¨˜æ†¶é«”å®¹é‡ â¨‰ 2 ä½œç‚º `[SWAP]` ç£å€çš„å®¹é‡ï¼Œé€™è£¡æˆ‘æ€•ç©ºé–“å¤ªå°‘å…ˆç”¨ 32Gbã€‚é¸æ“‡ç¬¬ä¸€å€‹ç£ç¢Ÿ âœ ã€ŒAdd GPT Partitationã€ï¼Œç…§ä¸‹é¢çš„è¨­å®šè¨­å®šå¾Œï¼ŒæŒ‰ã€ŒCreateã€ã€‚

    -   Size: `32G`

    -   Format: `[ Leave unformatted â–¾ ]`

-   å°ç¬¬äºŒé¡†ç¡¬ç¢ŸåšåŒæ¨£çš„äº‹ã€‚

```{r, fig.cap='Ubuntu å®‰è£ç¨‹å¼ï¼Œç£ç¢Ÿé…ç½®å°è¦½'}
knitr::include_graphics(path = 'figures/installer-storage_4.png')
```

-   æœ€å¾Œæ‰æ˜¯ç³»çµ±ç¡¬ç¢Ÿ `/` ï¼Œç³»çµ±ç¡¬ç¢Ÿä½¿ç”¨ `/boot` ã€`[SWAP]` èˆ‡ `grub` å‰©ä¸‹ä¾†çš„ç©ºé–“ã€‚é¸æ“‡ç¬¬ä¸€å€‹ç£ç¢Ÿ âœ ã€ŒAdd GPT Partitationã€ï¼Œç…§ä¸‹é¢çš„è¨­å®šè¨­å®šå¾Œï¼ŒæŒ‰ã€ŒCreateã€ã€‚

    -   Size: `ç•™ç©º` é è¨­ç‚ºå‰©ä¸‹ç¡¬ç¢Ÿçš„å®¹é‡ï¼Œæ­£æ˜¯æˆ‘å€‘æ‰€è¦çš„

    -   Format: `[ Leave unformatted â–¾ ]`

-   å°ç¬¬äºŒé¡†ç¡¬ç¢ŸåšåŒæ¨£çš„äº‹ã€‚

```{r, fig.cap='Ubuntu å®‰è£ç¨‹å¼ï¼Œç£ç¢Ÿé…ç½®å°è¦½'}
knitr::include_graphics(path = 'figures/installer-storage_5.png')
```

-   æ¥è‘—è¨­å®š Raid-1ã€‚é¸å–ã€Œ[ Create software RAID (md) â–¸ ]ã€ï¼Œé¸å–å…©å€‹ã€Œpartition 2ã€å»ºç«‹ `md0` softRaid ç£å€

```{r, fig.cap='Ubuntu å®‰è£ç¨‹å¼ï¼Œç£ç¢Ÿé…ç½®å°è¦½'}
knitr::include_graphics(path = 'figures/installer-storage_6.png')
```

-   åŒä¸Šï¼Œé¸å–ã€Œ[ Create software RAID (md) â–¸ ]ã€ï¼Œé¸å–å…©å€‹ã€Œpartition 3ã€å»ºç«‹ `md1` softRaid ç£å€

-   åŒä¸Šï¼Œé¸å–ã€Œ[ Create software RAID (md) â–¸ ]ã€ï¼Œé¸å–å…©å€‹ã€Œpartition 4ã€å»ºç«‹ `md2` softRaid ç£å€

```{r, fig.cap='Ubuntu å®‰è£ç¨‹å¼ï¼Œç£ç¢Ÿé…ç½®å°è¦½'}
knitr::include_graphics(path = 'figures/installer-storage_7.png')
```

-   é¸æ“‡ `md0 (new)` âœ format âœ Format: é¸æ“‡ `ext4` æ ¼å¼ âœ Mount: æ›è¼‰æ–¼ `/boot` âœ å®Œæˆå¾Œé¸æ“‡ Done

-   é¸æ“‡ `md1 (new)` âœ format âœ Format: é¸æ“‡ `swap` æ ¼å¼ âœ å®Œæˆå¾Œé¸æ“‡ Done

-   é¸æ“‡ `md2 (new)` âœ format âœ Format: é¸æ“‡ `ext4` æ ¼å¼ âœ Mount: æ›è¼‰æ–¼ `/` âœ å®Œæˆå¾Œé¸æ“‡ Done

-   è¨­å®šå®ŒæˆğŸ‰ï¼Œæ•´é«”è¨­å®šæˆªåœ–:\

```{r, fig.cap='Ubuntu å®‰è£ç¨‹å¼ï¼Œç£ç¢Ÿé…ç½®å°è¦½'}
knitr::include_graphics(path = 'figures/installer-storage_8.png')
```

<!-- -->

-   æˆªåœ–ï¼ˆçºŒï¼‰

```{r, fig.cap='Ubuntu å®‰è£ç¨‹å¼ï¼Œç£ç¢Ÿé…ç½®å°è¦½'}
knitr::include_graphics(path = 'figures/installer-storage_9.png')
```

-   åœ¨æœ€ä¸‹é¢é¸æ“‡ã€ŒDoneã€ï¼Œè‡³ä¸‹ä¸€æ­¥ã€‚

### ä½¿ç”¨è€…è¨­å®š

åœ¨é€™é‚Šè¨­å®šè‡ªå·±çš„ä½¿ç”¨è€…åç¨±èˆ‡é›»è…¦åç¨±ã€‚

```{r, fig.cap='Ubuntu å®‰è£ç¨‹å¼ï¼Œä½¿ç”¨è€…è¨­å®š'}
knitr::include_graphics(path = 'figures/installer-profile-configuration.png')
```

-   Your name: `asis`

-   Your server's name: `asis01`

-   Pick a username: `asis`

-   Choose a password: `asis`

-   Confirm your password: `asis`

### OpenSSH è¨­å®š [å¯è·³é]

OpenSSH æ˜¯ä½¿ç”¨ SSH é€šè¨Šå”å®šä¾†é ç«¯é€£ç·šé›»è…¦çš„å·¥å…·ã€‚é˜²æ­¢é€£ç·šä¸­è¢«ç«Šè½ã€åŠ«æŒæˆ–æ˜¯å…¶ä»–æ”»æ“Šã€‚å¦‚æœæ²’æœ‰æ“æœ‰ Github å¸³è™Ÿé€™è£¡å¯ä»¥å…ˆè·³éï¼Œæ–¼ç¬¬äºŒç« æœƒé‡æ–°ä»‹ç´¹æ€éº¼è¨­å®š OpenSSH ä¼ºæœå™¨ã€‚

### å¾ Github åŒ¯å…¥å·²ç¶“å„²å­˜çš„ public key

é€™è£¡å°‡ Allow password authentication over SSH å–æ¶ˆæ‰“å‹¾ï¼Œç¶“ç”± SSH é€£ç·šè‡³è™›æ“¬ä¸»æ©Ÿæ™‚ï¼Œé—œé–‰ä½¿ç”¨è€…å¯†ç¢¼èªè­‰ï¼Œæ”¹ç”± SSH key pairs ç™»å…¥ã€‚

::: {.infobox .rmdtip}
å¦‚æœæ²’æœ‰æŒæœ‰ Github å¸³è™Ÿå„²å­˜çš„ public keyï¼Œè«‹æŠŠ Allow password authentication over SSH æ‰“å‹¾ï¼Œå¾…ä¸Šå‚³å®Œ public key å†æŠŠä½¿ç”¨å¯†ç¢¼ç™»å…¥é—œé–‰ã€‚
:::

å¦å¤–ï¼Œæˆ‘å·²ç¶“é€é Github å„²å­˜éæˆ‘çš„ public key å‰¯æœ¬ï¼Œæ‰€ä»¥é€™é‚Šå¯ä»¥ç›´æ¥å¾ Github åŒ¯å…¥ public keyã€‚

```{r, fig.cap='Ubuntu å®‰è£ç¨‹å¼ï¼Œå°å…¥ SSH å…¬é‘°'}
knitr::include_graphics(path = 'figures/installer-SSH.png')
```

::: {.infobox .rmdtip}
å¦‚æœé€™é‚Šä¸åŒ¯å…¥çš„è©±ï¼Œä¹Ÿå¯ä»¥å¾…ç¨å¾Œé–‹æ©Ÿå¾Œå†ç”¨æŒ‡ä»¤ `ssh-import-id-gh <username>` åŒ¯å…¥ã€‚
:::

é»é¸ã€ŒYesã€å¾Œé–‹å§‹åŒ¯å…¥ç¨‹åºã€‚

```{r, fig.cap='Ubuntu å®‰è£ç¨‹å¼ï¼Œå°å…¥ SSH å…¬é‘°'}
knitr::include_graphics(path = 'figures/installer-SSH_1.png')
```

åŒ¯å…¥æˆåŠŸå¾Œå°±èƒ½ç¶“ç”±å«æœ‰ Github å‰¯æœ¬çš„ SSH key pairs ä¸»æ©Ÿé€£ç·šè‡³è™›æ“¬ä¸»æ©Ÿ

## å®Œæˆå®‰è£

é€™å€‹é é¢æ˜¯é è¦½ Ubuntu å®‰è£ç¨‹å¼åšéäº†ä»€éº¼ï¼Œéƒ½æœƒè¨˜éŒ„åœ¨é€™è£¡ï¼Œé€šå¸¸ä¸æœƒæœ‰ä»€éº¼å•é¡Œæ‰€ä»¥å¯ä»¥ä¸ç”¨ç†ä»–ï¼Œå¾…å®‰è£å®Œæˆå³å¯ã€‚

```{r, fig.cap='Ubuntu å®‰è£ç¨‹å¼ï¼Œå®‰è£ç´€éŒ„'}
knitr::include_graphics(path = 'figures/installer-installing-system.png')
```

å®‰è£å®Œæˆå¾Œé¸æ“‡ã€ŒReboot Nowã€é‡æ–°å•Ÿå‹•

```{r, fig.cap='Ubuntuå®‰è£ç¨‹å¼ï¼Œå®Œæˆå®‰è£'}
knitr::include_graphics(path = 'figures/installer-install-complete.png')
```
