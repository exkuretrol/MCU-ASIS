<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>1.3 於虛擬機器安裝作業系統 | MCU ASIS Ubuntu 系統安裝指南</title>
  <meta name="description" content="This is a book." />
  <meta name="generator" content="bookdown 0.23 and GitBook 2.6.7" />

  <meta property="og:title" content="1.3 於虛擬機器安裝作業系統 | MCU ASIS Ubuntu 系統安裝指南" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a book." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="1.3 於虛擬機器安裝作業系統 | MCU ASIS Ubuntu 系統安裝指南" />
  
  <meta name="twitter:description" content="This is a book." />
  

<meta name="author" content="Chiawei Chen" />


<meta name="date" content="2021-09-18" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="安裝-virtualbox.html"/>
<link rel="next" href="ubuntu-的基本設定.html"/>
<script src="libs/header-attrs-2.10/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">MCU ASIS Ubuntu 系統安裝指南</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>引言</a></li>
<li class="chapter" data-level="" data-path="todo-list.html"><a href="todo-list.html"><i class="fa fa-check"></i>TODO List</a>
<ul>
<li class="chapter" data-level="" data-path="todos.html"><a href="todos.html"><i class="fa fa-check"></i>TODOs:</a></li>
<li class="chapter" data-level="" data-path="issues.html"><a href="issues.html"><i class="fa fa-check"></i>Issues:</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> 基礎建設</a>
<ul>
<li class="chapter" data-level="1.1" data-path="事前準備.html"><a href="事前準備.html"><i class="fa fa-check"></i><b>1.1</b> 事前準備</a></li>
<li class="chapter" data-level="1.2" data-path="安裝-virtualbox.html"><a href="安裝-virtualbox.html"><i class="fa fa-check"></i><b>1.2</b> 安裝 VirtualBox</a></li>
<li class="chapter" data-level="1.3" data-path="於虛擬機器安裝作業系統.html"><a href="於虛擬機器安裝作業系統.html"><i class="fa fa-check"></i><b>1.3</b> 於虛擬機器安裝作業系統</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="於虛擬機器安裝作業系統.html"><a href="於虛擬機器安裝作業系統.html#新增-ubuntu-作業系統設定"><i class="fa fa-check"></i><b>1.3.1</b> 新增 Ubuntu 作業系統設定</a></li>
<li class="chapter" data-level="1.3.2" data-path="於虛擬機器安裝作業系統.html"><a href="於虛擬機器安裝作業系統.html#於-virtualbox-安裝作業系統"><i class="fa fa-check"></i><b>1.3.2</b> 於 VirtualBox 安裝作業系統</a>
<ul>
<li class="chapter" data-level="1.3.2.1" data-path="於虛擬機器安裝作業系統.html"><a href="於虛擬機器安裝作業系統.html#語言"><i class="fa fa-check"></i><b>1.3.2.1</b> 語言</a></li>
<li class="chapter" data-level="1.3.2.2" data-path="於虛擬機器安裝作業系統.html"><a href="於虛擬機器安裝作業系統.html#鍵盤配置"><i class="fa fa-check"></i><b>1.3.2.2</b> 鍵盤配置</a></li>
<li class="chapter" data-level="1.3.2.3" data-path="於虛擬機器安裝作業系統.html"><a href="於虛擬機器安裝作業系統.html#網路連線"><i class="fa fa-check"></i><b>1.3.2.3</b> 網路連線</a></li>
<li class="chapter" data-level="1.3.2.4" data-path="於虛擬機器安裝作業系統.html"><a href="於虛擬機器安裝作業系統.html#proxy"><i class="fa fa-check"></i><b>1.3.2.4</b> Proxy</a></li>
<li class="chapter" data-level="1.3.2.5" data-path="於虛擬機器安裝作業系統.html"><a href="於虛擬機器安裝作業系統.html#鏡像-mirror"><i class="fa fa-check"></i><b>1.3.2.5</b> 鏡像 (Mirror)</a></li>
<li class="chapter" data-level="1.3.2.6" data-path="於虛擬機器安裝作業系統.html"><a href="於虛擬機器安裝作業系統.html#安裝程式更新-可能不會出現"><i class="fa fa-check"></i><b>1.3.2.6</b> 安裝程式更新 (可能不會出現)</a></li>
<li class="chapter" data-level="1.3.2.7" data-path="於虛擬機器安裝作業系統.html"><a href="於虛擬機器安裝作業系統.html#系統空間配置-raid-1"><i class="fa fa-check"></i><b>1.3.2.7</b> 系統空間配置 (Raid-1)</a></li>
<li class="chapter" data-level="1.3.2.8" data-path="於虛擬機器安裝作業系統.html"><a href="於虛擬機器安裝作業系統.html#使用者設定"><i class="fa fa-check"></i><b>1.3.2.8</b> 使用者設定</a></li>
<li class="chapter" data-level="1.3.2.9" data-path="於虛擬機器安裝作業系統.html"><a href="於虛擬機器安裝作業系統.html#openssh-設定"><i class="fa fa-check"></i><b>1.3.2.9</b> OpenSSH 設定</a></li>
</ul></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="ubuntu-的基本設定.html"><a href="ubuntu-的基本設定.html"><i class="fa fa-check"></i><b>2</b> Ubuntu 的基本設定</a>
<ul>
<li class="chapter" data-level="2.1" data-path="事前準備-1.html"><a href="事前準備-1.html"><i class="fa fa-check"></i><b>2.1</b> 事前準備</a></li>
<li class="chapter" data-level="2.2" data-path="openssh.html"><a href="openssh.html"><i class="fa fa-check"></i><b>2.2</b> OpenSSH</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="openssh.html"><a href="openssh.html#適合各個系統的連線流程"><i class="fa fa-check"></i><b>2.2.1</b> 適合各個系統的連線流程</a>
<ul>
<li class="chapter" data-level="2.2.1.1" data-path="openssh.html"><a href="openssh.html#macos-或-其他-unix-like-系統"><i class="fa fa-check"></i><b>2.2.1.1</b> MacOS 或 其他 Unix-like 系統</a></li>
<li class="chapter" data-level="2.2.1.2" data-path="openssh.html"><a href="openssh.html#windows-系統"><i class="fa fa-check"></i><b>2.2.1.2</b> Windows 系統</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="openssh.html"><a href="openssh.html#step-1-安裝-openssh-client"><i class="fa fa-check"></i>Step 1 — 安裝 OpenSSH Client</a></li>
<li class="chapter" data-level="" data-path="openssh.html"><a href="openssh.html#step-2-產生-ssh-key-pairs"><i class="fa fa-check"></i>Step 2 — 產生 ssh key pairs</a></li>
<li class="chapter" data-level="" data-path="openssh.html"><a href="openssh.html#step-3-將新增的-key-pairs-上傳至目的地主機"><i class="fa fa-check"></i>Step 3 — 將新增的 key pairs 上傳至目的地主機</a></li>
<li class="chapter" data-level="" data-path="openssh.html"><a href="openssh.html#step-4-測試-ssh-連線使用-ssh-連線至遠端主機"><i class="fa fa-check"></i>Step 4 — 測試 SSH 連線，使用 SSH 連線至遠端主機</a></li>
<li class="chapter" data-level="" data-path="openssh.html"><a href="openssh.html#step-5-使遠端的-openssh-伺服器更加安全"><i class="fa fa-check"></i>Step 5 — 使遠端的 OpenSSH 伺服器更加安全</a>
<ul>
<li class="chapter" data-level="" data-path="openssh.html"><a href="openssh.html#變更-ssh-伺服器預設的埠號"><i class="fa fa-check"></i>變更 SSH 伺服器預設的埠號</a></li>
<li class="chapter" data-level="" data-path="openssh.html"><a href="openssh.html#關閉密碼驗證"><i class="fa fa-check"></i>關閉密碼驗證</a></li>
<li class="chapter" data-level="" data-path="openssh.html"><a href="openssh.html#關閉遠端-root-登入"><i class="fa fa-check"></i>關閉遠端 root 登入</a></li>
<li class="chapter" data-level="" data-path="openssh.html"><a href="openssh.html#限制能使用-ssh-連線的使用者"><i class="fa fa-check"></i>限制能使用 SSH 連線的使用者</a></li>
<li class="chapter" data-level="" data-path="openssh.html"><a href="openssh.html#關閉無密碼的使用者使用-ssh"><i class="fa fa-check"></i>關閉無密碼的使用者使用 SSH</a></li>
<li><a href="openssh.html#測試-sshd_config-是否有效">測試 <code>sshd_config</code> 是否有效</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="apt.html"><a href="apt.html"><i class="fa fa-check"></i><b>2.3</b> APT</a></li>
<li class="chapter" data-level="2.4" data-path="ufw.html"><a href="ufw.html"><i class="fa fa-check"></i><b>2.4</b> UFW</a></li>
<li class="chapter" data-level="2.5" data-path="bat-可選.html"><a href="bat-可選.html"><i class="fa fa-check"></i><b>2.5</b> Bat （可選）</a></li>
<li class="chapter" data-level="2.6" data-path="exa-可選.html"><a href="exa-可選.html"><i class="fa fa-check"></i><b>2.6</b> exa （可選）</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="lamp.html"><a href="lamp.html"><i class="fa fa-check"></i><b>3</b> LAMP</a>
<ul>
<li class="chapter" data-level="3.1" data-path="事前準備-2.html"><a href="事前準備-2.html"><i class="fa fa-check"></i><b>3.1</b> 事前準備</a></li>
<li class="chapter" data-level="3.2" data-path="apache.html"><a href="apache.html"><i class="fa fa-check"></i><b>3.2</b> Apache</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="apache.html"><a href="apache.html#step-1-安裝-apache"><i class="fa fa-check"></i><b>3.2.1</b> Step 1 — 安裝 Apache</a></li>
<li class="chapter" data-level="3.2.2" data-path="apache.html"><a href="apache.html#step-2-調整防火牆-ufw-設定"><i class="fa fa-check"></i><b>3.2.2</b> Step 2 — 調整防火牆 ufw 設定</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="mysql.html"><a href="mysql.html"><i class="fa fa-check"></i><b>3.3</b> MySQL</a></li>
<li class="chapter" data-level="3.4" data-path="php.html"><a href="php.html"><i class="fa fa-check"></i><b>3.4</b> PHP</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="php.html"><a href="php.html#step-1-安裝-php-php-mysql"><i class="fa fa-check"></i><b>3.4.1</b> Step 1 — 安裝 php &amp; php-mysql</a></li>
<li class="chapter" data-level="3.4.2" data-path="php.html"><a href="php.html#step-2-建立虛擬網站virtualhost可選"><i class="fa fa-check"></i><b>3.4.2</b> Step 2 — 建立虛擬網站（VirtualHost）（可選）</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="phpmyadmin.html"><a href="phpmyadmin.html"><i class="fa fa-check"></i><b>3.5</b> phpMyAdmin</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="phpmyadmin.html"><a href="phpmyadmin.html#step-1-安裝-phpmyadmin"><i class="fa fa-check"></i><b>3.5.1</b> Step 1 — 安裝 phpmyadmin</a></li>
<li class="chapter" data-level="3.5.2" data-path="phpmyadmin.html"><a href="phpmyadmin.html#step-2-使-phpmyadmin-更加安全"><i class="fa fa-check"></i><b>3.5.2</b> Step 2 — 使 phpmyadmin 更加安全</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="rstudio-rshiny-server.html"><a href="rstudio-rshiny-server.html"><i class="fa fa-check"></i><b>4</b> RStudio &amp; RShiny Server</a>
<ul>
<li class="chapter" data-level="4.1" data-path="事前準備-3.html"><a href="事前準備-3.html"><i class="fa fa-check"></i><b>4.1</b> 事前準備</a></li>
<li class="chapter" data-level="4.2" data-path="r-base.html"><a href="r-base.html"><i class="fa fa-check"></i><b>4.2</b> R base</a></li>
<li class="chapter" data-level="4.3" data-path="rstudio-server.html"><a href="rstudio-server.html"><i class="fa fa-check"></i><b>4.3</b> RStudio Server</a>
<ul>
<li class="chapter" data-level="" data-path="rstudio-server.html"><a href="rstudio-server.html#step-1-安裝-rstudio-server-伺服器"><i class="fa fa-check"></i>Step 1 — 安裝 RStudio Server 伺服器</a></li>
<li class="chapter" data-level="" data-path="rstudio-server.html"><a href="rstudio-server.html#step-2-設定-apache-的-proxy"><i class="fa fa-check"></i>Step 2 — 設定 Apache 的 Proxy</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="rshiny-server.html"><a href="rshiny-server.html"><i class="fa fa-check"></i><b>4.4</b> RShiny Server</a>
<ul>
<li class="chapter" data-level="" data-path="rshiny-server.html"><a href="rshiny-server.html#step-1-安裝-rshiny-server"><i class="fa fa-check"></i>Step 1 — 安裝 RShiny Server</a></li>
<li class="chapter" data-level="" data-path="rshiny-server.html"><a href="rshiny-server.html#step-2-設定-apache-的-proxy-1"><i class="fa fa-check"></i>Step 2 — 設定 Apache 的 Proxy</a></li>
<li class="chapter" data-level="" data-path="rshiny-server.html"><a href="rshiny-server.html#step-3-shiny-server-進階設定"><i class="fa fa-check"></i>Step 3 — Shiny Server 進階設定</a></li>
<li class="chapter" data-level="" data-path="rshiny-server.html"><a href="rshiny-server.html#step-4-使用使用者測試設定是否有效"><i class="fa fa-check"></i>Step 4 — 使用使用者測試設定是否有效</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="jupyterlab-on-jupyterhub.html"><a href="jupyterlab-on-jupyterhub.html"><i class="fa fa-check"></i><b>5</b> JupyterLab on JupyterHub</a>
<ul>
<li class="chapter" data-level="5.1" data-path="事前準備-4.html"><a href="事前準備-4.html"><i class="fa fa-check"></i><b>5.1</b> 事前準備</a></li>
<li class="chapter" data-level="5.2" data-path="設置-python-3-環境.html"><a href="設置-python-3-環境.html"><i class="fa fa-check"></i><b>5.2</b> 設置 Python 3 環境</a></li>
<li class="chapter" data-level="5.3" data-path="jupyterlab-與-jupyterhub.html"><a href="jupyterlab-與-jupyterhub.html"><i class="fa fa-check"></i><b>5.3</b> JupyterLab 與 JupyterHub</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="jupyterlab-與-jupyterhub.html"><a href="jupyterlab-與-jupyterhub.html#於虛擬環境中設置-jupyterlab-與-jupyterhub"><i class="fa fa-check"></i><b>5.3.1</b> 於虛擬環境中設置 JupyterLab 與 JupyterHub</a></li>
<li class="chapter" data-level="5.3.2" data-path="jupyterlab-與-jupyterhub.html"><a href="jupyterlab-與-jupyterhub.html#設定-jupyterhub"><i class="fa fa-check"></i><b>5.3.2</b> 設定 JupyterHub</a></li>
<li class="chapter" data-level="5.3.3" data-path="jupyterlab-與-jupyterhub.html"><a href="jupyterlab-與-jupyterhub.html#新增開機自動啟動-jupyterhub-的服務"><i class="fa fa-check"></i><b>5.3.3</b> 新增開機自動啟動 JupyterHub 的服務</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="jupyterhub-中的運算核心.html"><a href="jupyterhub-中的運算核心.html"><i class="fa fa-check"></i><b>5.4</b> JupyterHub 中的運算核心</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="jupyterhub-中的運算核心.html"><a href="jupyterhub-中的運算核心.html#conda-的-python-環境"><i class="fa fa-check"></i><b>5.4.1</b> Conda 的 Python🐍 環境</a></li>
<li class="chapter" data-level="5.4.2" data-path="jupyterhub-中的運算核心.html"><a href="jupyterhub-中的運算核心.html#r-環境"><i class="fa fa-check"></i><b>5.4.2</b> R 環境</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="設置-apache-的-reverse-proxy.html"><a href="設置-apache-的-reverse-proxy.html"><i class="fa fa-check"></i><b>5.5</b> 設置 Apache 的 Reverse Proxy</a></li>
<li class="chapter" data-level="5.6" data-path="jupyterhub-擴充套件.html"><a href="jupyterhub-擴充套件.html"><i class="fa fa-check"></i><b>5.6</b> JupyterHub 擴充套件</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="附錄.html"><a href="附錄.html"><i class="fa fa-check"></i>附錄</a>
<ul>
<li class="chapter" data-level="" data-path="由-windows-10-系統進入-bios.html"><a href="由-windows-10-系統進入-bios.html"><i class="fa fa-check"></i>由 Windows 10 系統進入 BIOS</a></li>
<li class="chapter" data-level="" data-path="windows-terminal.html"><a href="windows-terminal.html"><i class="fa fa-check"></i>Windows Terminal</a></li>
<li class="chapter" data-level="" data-path="putty.html"><a href="putty.html"><i class="fa fa-check"></i>PuTTY</a>
<ul>
<li class="chapter" data-level="" data-path="putty.html"><a href="putty.html#以-putty-產生-key"><i class="fa fa-check"></i>以 PuTTY 產生 key</a>
<ul>
<li class="chapter" data-level="" data-path="putty.html"><a href="putty.html#step-1-安裝-putty"><i class="fa fa-check"></i>Step 1 — 安裝 PuTTY</a></li>
<li class="chapter" data-level="" data-path="putty.html"><a href="putty.html#step-2-經由-puttygen-產生-ssh-key-pairs"><i class="fa fa-check"></i>Step 2 — 經由 PuTTYgen 產生 ssh key pairs</a></li>
<li class="chapter" data-level="" data-path="putty.html"><a href="putty.html#step-3-妥善保存好產生的-key"><i class="fa fa-check"></i>Step 3 — 妥善保存好產生的 Key</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="putty.html"><a href="putty.html#上傳以-putty-產生的-ssh-key-pairs"><i class="fa fa-check"></i>上傳以 PuTTY 產生的 ssh key pairs</a></li>
<li class="chapter" data-level="" data-path="putty.html"><a href="putty.html#puttygen-產生的-key-pairs-的連線方式"><i class="fa fa-check"></i>PuTTYgen 產生的 key pairs 的連線方式:</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="文本編輯器.html"><a href="文本編輯器.html"><i class="fa fa-check"></i>文本編輯器</a>
<ul>
<li class="chapter" data-level="" data-path="文本編輯器.html"><a href="文本編輯器.html#vim"><i class="fa fa-check"></i>vim</a></li>
<li class="chapter" data-level="" data-path="文本編輯器.html"><a href="文本編輯器.html#nano"><i class="fa fa-check"></i>nano</a></li>
<li class="chapter" data-level="" data-path="文本編輯器.html"><a href="文本編輯器.html#更改預設的文本編輯器"><i class="fa fa-check"></i>更改預設的文本編輯器</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="帳號管理.html"><a href="帳號管理.html"><i class="fa fa-check"></i>帳號管理</a>
<ul>
<li class="chapter" data-level="" data-path="帳號管理.html"><a href="帳號管理.html#users.sh"><i class="fa fa-check"></i>users.sh</a></li>
<li class="chapter" data-level="" data-path="帳號管理.html"><a href="帳號管理.html#generate-sql.sh"><i class="fa fa-check"></i>generate-sql.sh</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="參考資料.html"><a href="參考資料.html"><i class="fa fa-check"></i>參考資料</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">MCU ASIS Ubuntu 系統安裝指南</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="於虛擬機器安裝作業系統" class="section level2" number="1.3">
<h2><span class="header-section-number">1.3</span> 於虛擬機器安裝作業系統</h2>
<p>再安裝完 VirtualBox 後，打開並不會有預先安裝好的作業系統，需要在 VirtualBox 內自行安裝作業系統。首先介紹 VirtualBox 的使用者介面:</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:virtualbox-menu"></span>
<img src="figures/virtualbox-menu.png" alt="VirtualBox 的操作介面"  />
<p class="caption">
Figure 1.1: VirtualBox 的操作介面
</p>
</div>
<p>如 <a href="於虛擬機器安裝作業系統.html#fig:virtualbox-menu">1.1</a> 所示，右邊主要功能圖示由左而右的功能分別是:</p>
<ol style="list-style-type: decimal">
<li><code>喜好設定</code>: 設定 VirtualBox 的整體設定，像是軟體語言、虛擬機器預設存放位置…等等</li>
<li><code>匯入</code>: 匯入虛擬機器檔案 (.ovf)</li>
<li><code>匯出</code>: 匯出虛擬機器檔案</li>
<li><code>新增</code>: 新增<em>新的</em>虛擬主機</li>
<li><code>加入</code>: 加入<em>已經存在的</em>虛擬主機</li>
</ol>
<div id="新增-ubuntu-作業系統設定" class="section level3" number="1.3.1">
<h3><span class="header-section-number">1.3.1</span> 新增 Ubuntu 作業系統設定</h3>
<p>所以要新增新的虛擬機器是按「新增」。</p>
<p><img src="figures/new-virtual-machine_0.png" title="new virtual machine" class="figure" /></p>
<p>這裡先點選「專家模式」，專家模式可以一併設定虛擬機器的所有設定。</p>
<p><img src="figures/new-virtual-machine.png" title="new virtual machine" class="figure" /></p>
<p>記憶體大小根據每個人電腦的性能做調整，虛擬主機沒用來做什麼事最多4Gb (4 * 1024Mb) 就很夠用了。這裡要注意的一點是，虛擬機器的存放位置，當你要轉移虛擬機器時才不會找不到。</p>
<p>預設的虛擬機器存放位置位於使用者資料夾中的<code>Virtual VMs</code>資料夾，像我的使用者是qaz85，那虛擬機器就位於:</p>
<pre><code>C:\Users\qaz85\VirtualBox VMs</code></pre>
<p>從這張圖可以看到院伺服器的磁碟配置是由兩個 1Tb 的硬碟組成，且用<a href="http://linux.vbird.org/linux_basic/0420quota.php#raid1">Raid-1</a> (映射模式) 將伺服器同時映射備份至另一個硬碟。</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb2-1"><a href="於虛擬機器安裝作業系統.html#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lsblk</span></span></code></pre></div>
<pre class="console_output"><code>NAME                       MAJ:MIN RM   SIZE RO TYPE   MOUNTPOINT
sdb                          8:16   0 931.5G  0 disk
├─sdb2                       8:18   0 852.5G  0 part
├─sdb3                       8:19   0    32G  0 part
├─sdb1                       8:17   0   512M  0 part
└─isw_ecbbadhihd_Raid1     253:0    0   885G  0 dmraid
  ├─isw_ecbbadhihd_Raid1p1 253:1    0   512M  0 part   /boot/efi
  ├─isw_ecbbadhihd_Raid1p2 253:2    0 852.5G  0 part   /
  └─isw_ecbbadhihd_Raid1p3 253:3    0    32G  0 part   [SWAP]
sr0                         11:0    1  1024M  0 rom
sda                          8:0    0 931.5G  0 disk
├─sda2                       8:2    0 852.5G  0 part
├─sda3                       8:3    0    32G  0 part
├─sda1                       8:1    0   512M  0 part
└─isw_ecbbadhihd_Raid1     253:0    0   885G  0 dmraid
  ├─isw_ecbbadhihd_Raid1p1 253:1    0   512M  0 part   /boot/efi
  ├─isw_ecbbadhihd_Raid1p2 253:2    0 852.5G  0 part   /
  └─isw_ecbbadhihd_Raid1p3 253:3    0    32G  0 part   [SWAP]</code></pre>
<p><img src="figures/new-virtual-machine_1.png" title="new virtual machine" class="figure" /></p>
<p>所以這裡也選擇跟院伺服器一樣的1000Gb做為系統硬碟，類型與版本記得設定為 Linux 與 Ubuntu 64位元 版本。完成之後點擊「建立」。</p>
<p>這裡我會選 VMDK 格式的原因是因為，如果要轉移虛擬主機檔案時，單一個檔案會輕易地超過 4Gb，而超過此上限得檔案在複製時，如果目的地的裝置格式不是 ntfs 的話，會沒有辦法複製。為了預防這個問題，我在這邊先選擇 VMDK 作為我虛擬主機的檔案格式。</p>
<div class="infobox info">
<p>這裡如果選擇「固定大小」會新增一個跟你設定的檔案大小一樣大的虛擬機器檔案，除非你的硬碟很大，否則不建議這麼做。</p>
</div>
<!--# TODO: 這邊可以再加如果虛擬主機已經是 VDI 格式怎麼轉換成 VMDK 格式的教學 -->
<p><img src="figures/virtual-machine-created.png" title="virtual machine created" class="figure" /></p>
<p>完成後，會在 Virtual Machine 的選單左邊看見剛剛新建的虛擬機器，不過此時的虛擬機器內還沒有作業系統。</p>
<p><img src="figures/virtual-machine-setting-storage.png" /></p>
<p><img src="figures/virtual-machine-setting-storage-new.png" /></p>
<p><img src="figures/virtual-machine-setting-storage-new_1.png" /></p>
<p><img src="figures/virtual-machine-setting-storage-new_2.png" /></p>
</div>
<div id="於-virtualbox-安裝作業系統" class="section level3" number="1.3.2">
<h3><span class="header-section-number">1.3.2</span> 於 VirtualBox 安裝作業系統</h3>
<p>在安裝作業系統之前，要先下載作業系統，因為目前的院伺服器系統是 Ubuntu 、我自己的 VPS 也是 Ubuntu ，而且我摸得比較熟的也是 Ubuntu 那有什麼理由換掉呢？所以這裡我也以 Ubuntu 作為我們院伺服器主要的系統。</p>
<p><img src="figures/ubuntu.com-download-page.png" class="figure" /></p>
<p>進到 Ubuntu 官方網站的下載介面，這次我們選擇伺服器版本 (Ubuntu Server) 代替以往的桌面版本 (Ubuntu Desktop)。因為如果是伺服器，不需要圖形介面就可以管理了，相對於桌面版本也較節省資源。</p>
<p><img src="figures/ubuntu.com-download-server-page.png" class="figure" /></p>
<p>選擇「Option 2 - Manual server Installation」選項之後，按上面的綠色按鈕「Download Ubuntu Server 20.04.2 LTS」會跳轉到下載頁面，開始下載 Ubuntu 系統映像檔案 (*.iso)。</p>
<p>其他選項的簡易說明:</p>
<ul>
<li><p><code>Option 1 - Instant Ubuntu VMs</code>: Multipass 是快速部屬虛擬機器的軟體，詳細說明可以看<a href="https://github.com/canonical/multipass">這裡</a>，而這裡我們已經選用 VirtualBox 了所以不會用到</p></li>
<li><p><code>Option 2 - Manual server installation</code>: 傳統的下載映像檔案</p></li>
<li><p><code>Option 3 - Automated server provisioning</code>: 利用 <a href="https://maas.io/">MaaS</a> (Metal-as-a-Service) 安裝虛擬機。MaaS是管理數台虛擬主機用的服務，並不局限於 Ubuntu，Windows、CentOS 與 ESXi都可以在上面部屬。</p></li>
</ul>
<p><img src="figures/ubuntu-install-select-iso.png" class="figure" /></p>
<p>待下載完成後，開啟剛剛創建的「MCU-ASIS」虛擬主機，會跳出一個選擇啟動磁碟的訊息提示視窗，這裡我們點擊右下角的資料夾📁。</p>
<p><img src="figures/select-iso.png" class="figure" /></p>
<p>按「加入」並選擇剛剛下載下來的映像檔案 (ubuntu-20.04.2-live-server-amd64.iso)。加入完成後按「選擇」，接著按「開始」掛載映像檔案至虛擬主機中開始安裝。</p>
<div id="語言" class="section level4" number="1.3.2.1">
<h4><span class="header-section-number">1.3.2.1</span> 語言</h4>
<p><img src="figures/ubuntu-configuration-select-lang.png" class="figure" /></p>
<p>稍待 Ubuntu 作業系統映像檔載入後，安裝程式會跳出選擇語言的畫面，在這裡選擇適合你的語言。</p>
<p>在安裝過程中使用方向鍵⬆️⬇️⬅️➡️ (選擇)、Enter↪️ (確認) 與 Esc (返回) 操控安裝程式介面。</p>
</div>
<div id="鍵盤配置" class="section level4" number="1.3.2.2">
<h4><span class="header-section-number">1.3.2.2</span> 鍵盤配置</h4>
<p><img src="figures/installer-keyboard.png" /></p>
<p>這裡可以設定鍵盤的:</p>
<ul>
<li><p><code>Layout</code> (布局): 鍵盤的語言</p></li>
<li><p><code>Variant</code> (鍵位): 一般在台灣都是用 QWERTY 配置，詳細說明可以在<a href="https://zh.wikipedia.org/wiki/%E9%94%AE%E7%9B%98%E5%B8%83%E5%B1%80">這</a>找到</p></li>
</ul>
</div>
<div id="網路連線" class="section level4" number="1.3.2.3">
<h4><span class="header-section-number">1.3.2.3</span> 網路連線</h4>
<p><img src="figures/installer-network.png" /></p>
<p>這裡可以設定 Ubuntu 的網路連線，預設是由 DHCP 設定，通常不用變更，如果這裡連線失敗，也可以等開機後再做設定。</p>
</div>
<div id="proxy" class="section level4" number="1.3.2.4">
<h4><span class="header-section-number">1.3.2.4</span> Proxy</h4>
<p><img src="figures/installer-proxy.png" /></p>
<p>除非網路需要設定 proxy (代理伺服器)，否則不需要設定。</p>
</div>
<div id="鏡像-mirror" class="section level4" number="1.3.2.5">
<h4><span class="header-section-number">1.3.2.5</span> 鏡像 (Mirror)</h4>
<p><img src="figures/installer-mirror.png" /></p>
<p>同上，不需要特別設定 mirror (鏡像)，安裝程式會自動判斷選擇哪個地方的鏡像網址更新。</p>
</div>
<div id="安裝程式更新-可能不會出現" class="section level4" number="1.3.2.6">
<h4><span class="header-section-number">1.3.2.6</span> 安裝程式更新 (可能不會出現)</h4>
<p><img src="figures/installer-update.png" /></p>
<p>如果出現了這個畫面代表安裝程式有新的版本，可以在安裝時順便更新，當然，也可以在系統安裝完後更新。</p>
</div>
<div id="系統空間配置-raid-1" class="section level4" number="1.3.2.7">
<h4><span class="header-section-number">1.3.2.7</span> 系統空間配置 (Raid-1)</h4>
<!--# TODO: 補充前言 -->
<p><img src="figures/installer-storage.png" /></p>
<p>這裡選擇下面的「Custom storage layout」。以下 Raid-1 相關的設定是參考 <span class="citation">(<a href="#ref-evangelou_2020" role="doc-biblioref">Evangelou 2020</a>)</span> 的 Gist 翻譯成中文寫的。</p>
<p><img src="figures/installer-storage_1.png" /></p>
<ul>
<li><p>如果選錯了、或是硬碟中有已經分割好的磁區也沒關係，從 AVAILABLE DEVICES 下面選擇硬碟 ➜ 「Reformat」 ➜ 「Reformat」，這會把硬碟格式化。</p></li>
<li><p>選擇第一個磁碟 ➜ 「Use As Boot Device」 當作開機磁碟</p>
<p><img src="figures/installer-storage_2.png" /></p></li>
<li><p>對第二個磁碟「VBOX_HARDDISK_VBdc8cc122-e9b43569」也做同樣的事情。</p></li>
</ul>
<div class="infobox caution">
<p>目前版本 20.04.2 live server 有個 bug，當你要新增為開機硬碟 (Boot Device) 時，要在建立其他三個分區 (<code>/</code> 、 <code>/boot</code> 和 <code>[SWAP]</code>)之前，先設定好，不然 1Mb 的 grub 分區會消失。(我只有從現過錯誤一次 2021.07.21)</p>
</div>
<ul>
<li><p>接著為 <code>/</code> 、 <code>/boot</code> 和 <code>[SWAP]</code> 做分區。</p>
<ul>
<li><p><code>/</code>: 系統根目錄磁區</p></li>
<li><p><code>/boot</code>: 開機磁區</p></li>
<li><p><code>[SWAP]</code>: <a href="http://linux.vbird.org/linux_basic/0230filesystem.php#swap">SWAP</a> (記憶體置換空間) 主要功能是當記憶體滿載時，會把現在沒有用到的程序先放到 SWAP 中，空給目前正在運行的程式使用</p></li>
</ul></li>
<li><p>首先為 <code>/boot</code> 分區，通常開機磁區 512 Mb ~ 1Gb 就很夠用了，看你喜好，這裡我選擇 1Gb。選擇第一個磁碟 ➜ 「Add GPT Partitation」，照下面的設定設定後，按「Create」。</p>
<ul>
<li><p>Size: <code>1G</code></p></li>
<li><p>Format: <code>[ Leave unformatted ▾ ]</code></p></li>
</ul></li>
<li><p>對第二顆硬碟做同樣的事。</p>
<p><img src="figures/installer-storage_3.png" /></p></li>
<li><p>再來是 <code>[SWAP]</code> 磁區，一般來說會用實體記憶體容量 ⨉ 2 作為 <code>[SWAP]</code> 磁區的容量，這裡我怕空間太少先用 32Gb。選擇第一個磁碟 ➜ 「Add GPT Partitation」，照下面的設定設定後，按「Create」。</p>
<ul>
<li><p>Size: <code>32G</code></p></li>
<li><p>Format: <code>[ Leave unformatted ▾ ]</code></p></li>
</ul></li>
<li><p>對第二顆硬碟做同樣的事。</p>
<p><img src="figures/installer-storage_4.png" /></p></li>
<li><p>最後才是系統硬碟 <code>/</code> ，系統硬碟使用 <code>/boot</code> 、<code>[SWAP]</code> 與 <code>grub</code> 剩下來的空間。選擇第一個磁碟 ➜ 「Add GPT Partitation」，照下面的設定設定後，按「Create」。</p>
<ul>
<li><p>Size: <code>留空</code> 預設為剩下硬碟的容量，正是我們所要的</p></li>
<li><p>Format: <code>[ Leave unformatted ▾ ]</code></p></li>
</ul></li>
<li><p>對第二顆硬碟做同樣的事。</p>
<p><img src="figures/installer-storage_5.png" /></p></li>
<li><p>接著設定 Raid-1。選取「[ Create software RAID (md) ▸ ]」，選取兩個「partition 2」建立 <code>md0</code> softRaid 磁區</p>
<p><img src="figures/installer-storage_6.png" /></p></li>
<li><p>同上，選取「[ Create software RAID (md) ▸ ]」，選取兩個「partition 3」建立 <code>md1</code> softRaid 磁區</p></li>
<li><p>同上，選取「[ Create software RAID (md) ▸ ]」，選取兩個「partition 4」建立 <code>md2</code> softRaid 磁區</p>
<p><img src="figures/installer-storage_7.png" /></p></li>
<li><p>選擇 <code>md0 (new)</code> ➜ format ➜ Format: 選擇 <code>ext4</code> 格式 ➜ Mount: 掛載於 <code>/boot</code> ➜ 完成後選擇 Done</p></li>
<li><p>選擇 <code>md1 (new)</code> ➜ format ➜ Format: 選擇 <code>swap</code> 格式 ➜ 完成後選擇 Done</p></li>
<li><p>選擇 <code>md2 (new)</code> ➜ format ➜ Format: 選擇 <code>ext4</code> 格式 ➜ Mount: 掛載於 <code>/</code> ➜ 完成後選擇 Done</p></li>
<li><p>設定完成🎉，整體設定截圖:</p>
<p><img src="figures/installer-storage_8.png" /></p>
<p><img src="figures/installer-storage_9.png" /></p></li>
<li><p>在最下面選擇「Done」，跳至下一步</p></li>
</ul>
</div>
<div id="使用者設定" class="section level4" number="1.3.2.8">
<h4><span class="header-section-number">1.3.2.8</span> 使用者設定</h4>
<p>在這邊設定自己的使用者名稱與電腦名稱。</p>
<p><img src="figures/installer-profile-configuration.png" /></p>
<ul>
<li><p>Your name: <code>asis</code></p></li>
<li><p>Your server’s name: <code>asis01</code></p></li>
<li><p>Pick a username: <code>asis</code></p></li>
<li><p>Choose a password: <code>asis</code></p></li>
<li><p>Confirm your password: <code>asis</code></p></li>
</ul>
</div>
<div id="openssh-設定" class="section level4" number="1.3.2.9">
<h4><span class="header-section-number">1.3.2.9</span> OpenSSH 設定</h4>
<p>OpenSSH 是使用 SSH 通訊協定來遠端連線電腦的工具。防止連線中被竊聽、劫持或是其他攻擊。如果沒有擁有 Github 帳號這裡可以先跳過，於第二章會重新介紹怎麼設定 OpenSSH 伺服器。</p>
<div id="從-github-匯入已經儲存的-public-key" class="section level5" number="1.3.2.9.1">
<h5><span class="header-section-number">1.3.2.9.1</span> 從 Github 匯入已經儲存的 public key</h5>
<p>這裡將 Allow password authentication over SSH 取消打勾，經由 SSH 連線至虛擬主機時，關閉使用者密碼認證，改由 SSH key pairs 登入。</p>
<div class="infobox info">
<p>如果沒有持有 Github 帳號儲存的 public key，請把 Allow password authentication over SSH 打勾，待上傳完 public key 再把使用密碼登入關閉。</p>
</div>
<p>另外，我已經透過 Github 儲存過我的 public key 副本，所以這邊可以直接從 Github 匯入 public key。</p>
<p><img src="figures/installer-SSH.png" /></p>
<div class="infobox info">
<p>如果這邊不匯入的話，也可以待稍後開機後再用指令 <code>ssh-import-id-gh &lt;username&gt;</code> 匯入。</p>
</div>
<p><img src="figures/installer-SSH_1.png" /></p>
<p><img src="figures/installer-installing-system.png" /></p>
<p>匯入成功後就能經由含有 Github 副本的 SSH key pairs 主機連線至虛擬機器</p>
<p><img src="figures/installer-install-complete.png" /></p>
<p>安裝完成後重新啟動</p>

</div>
</div>
</div>
</div>
<!-- </div> -->
<h3>參考資料</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-evangelou_2020" class="csl-entry">
Evangelou, Fotis. 2020. <span>“Looking to Create a Software RAID 1 Setup for Your 2-Disk Server on Ubuntu Server 20.04?”</span> <em>Gist.io</em>. <a href="https://gist.io/@fevangelou/2f7aa0d9b5cb42d783302727665bf80a">https://gist.io/@fevangelou/2f7aa0d9b5cb42d783302727665bf80a</a>.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="安裝-virtualbox.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="ubuntu-的基本設定.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["twitter", "facebook"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/exkuretrol/MCU-ASIS/edit/main/01-prerequisites.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/exkuretrol/MCU-ASIS/blob/main/01-prerequisites.Rmd",
"text": null
},
"download": ["MCU-ASIS.epub"],
"search": {
"engine": "lunr",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
