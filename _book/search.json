[{"path":"index.html","id":"å¼•è¨€","chapter":"å¼•è¨€","heading":"å¼•è¨€","text":"æœ¬æ›¸æœƒå¾è™›æ“¬ç’°å¢ƒçš„å»ºç«‹ã€å®‰è£ Ubuntuã€Ubuntu ç’°å¢ƒè¨­å®šã€å®‰è£ LAMP æ–¼ Ubuntuã€å®‰è£ Rstudio èˆ‡ RShiny æ–¼Ubuntuâ€¦ç­‰ï¼Œåˆ†ç« ç¯€ä»‹ç´¹ã€‚","code":""},{"path":"index.html","id":"é—œæ–¼æˆ‘","chapter":"å¼•è¨€","heading":"é—œæ–¼æˆ‘","text":"","code":""},{"path":"intro.html","id":"intro","chapter":"ç« ç¯€ 1 è™›æ“¬ä¸»æ©Ÿ","heading":"ç« ç¯€ 1 è™›æ“¬ä¸»æ©Ÿ","text":"å› ç‚ºä½¿ç”¨è€…çš„ç¶“é©—ã€èƒ½åŠ›èˆ‡è§£æ±ºå•é¡Œçš„èƒ½åŠ›æœƒæœ‰æ‰€å·®ç•°ï¼Œåœ¨æ¥è§¸æ–°çš„ç³»çµ±ä¹‹å‰ï¼Œæœ€å¥½é‚„æ˜¯å…ˆåœ¨è™›æ“¬æ©Ÿå™¨ä¸Šå…ˆé‹è¡Œéä¸€æ¬¡ï¼Œç¢ºèªæ²’å•é¡Œä¹‹å¾Œå†æŠŠæ“ä½œæ¬åˆ°å¯¦é«”é›»è…¦ä¸Šå»ï¼Œæ‰ä¸æœƒé‡åˆ°é æ–™ä¹‹å¤–çš„å•é¡Œã€‚æœ¬æ›¸æ‰€ä½¿ç”¨é‹è¡Œè™›æ“¬æ©Ÿå™¨çš„è»Ÿé«”ç‚º VirtualBoxã€‚","code":""},{"path":"intro.html","id":"äº‹å‰æº–å‚™","chapter":"ç« ç¯€ 1 è™›æ“¬ä¸»æ©Ÿ","heading":"1.1 äº‹å‰æº–å‚™","text":"åœ¨é–‹å§‹æ•™å­¸ä¹‹å‰ï¼Œç¢ºå®šä½ çš„ç’°å¢ƒè¦èƒ½ä¸Šç¶²å­˜å–ç¶²è·¯ä¸Šçš„è³‡æºã€‚ å†ä¾†æ˜¯æª¢æŸ¥è‡ªå·±çš„é›»è…¦å¯ä¸å¯ä»¥é‹è¡Œ VirtualBoxï¼ˆæˆ–æ˜¯å…¶ä»–å¯ä»¥é‹è¡Œè™›æ“¬æ©Ÿå™¨çš„è»Ÿé«”ï¼‰ï¼Œè¦é‹è¡Œè™›æ“¬æ©Ÿå™¨é€šå¸¸éƒ½è¦å» BIOS æ‰“é–‹ä¸€å€‹å«åšæ“¬åŒ–åŠŸèƒ½ï¼ˆVirtualization Technologyï¼‰çš„åŠŸèƒ½ã€‚ä¸‹åˆ—æ˜¯æˆ‘æ‰€æ•´ç†å„å» ç‰Œè™›æ“¬åŒ–åŠŸèƒ½çš„é–‹å•Ÿæ–¹å¼ï¼š","code":""},{"path":"intro.html","id":"å®‰è£-virtualbox","chapter":"ç« ç¯€ 1 è™›æ“¬ä¸»æ©Ÿ","heading":"1.2 å®‰è£ VirtualBox","text":"é¦–å…ˆåˆ° VirtualBox å®˜æ–¹ç¶²ç«™çš„ä¸‹è¼‰é é¢ï¼Œä¸‹è¼‰é©åˆä½ é›»è…¦ç³»çµ±çš„å®‰è£åŸ·è¡Œæª”ï¼Œå‡å¦‚æ˜¯ Windows ç³»çµ±å°±é»æ“Š ã€ŒWindows hostsã€çš„ä¸‹è¼‰é€£çµï¼Œå¦‚æœæ˜¯å…¶ä»–ä½œæ¥­ç³»çµ±å°±æ ¹æ“šä½ çš„ä½œæ¥­ç³»çµ±ä¸‹è¼‰å°æ‡‰çš„å®‰è£ç¨‹å¼ã€‚\nåœ– 1.1: www.virtualbox.org çš„ä¸‹è¼‰é é¢\nå®‰è£çš„éç¨‹ä¸­åªéœ€ä½¿ç”¨é è¨­çš„è¨­å®šå³å¯ï¼Œé è¨­è¨­å®šåšäº†å®‰è£è™›æ“¬æ©Ÿå™¨çš„é©…å‹•ç¨‹å¼ã€é—œè¯æª”æ¡ˆâ€¦ç­‰ç­‰ï¼Œæ­£å¸¸å®‰è£ä¸éœ€è¦è®Šæ›´å®ƒã€‚\nåœ– 1.2: virtualbox å®‰è£ç¨‹å¼ï¼ˆå®‰è£ä¸­ï¼‰\n","code":""},{"path":"intro.html","id":"æ–¼è™›æ“¬æ©Ÿå™¨å®‰è£ä½œæ¥­ç³»çµ±","chapter":"ç« ç¯€ 1 è™›æ“¬ä¸»æ©Ÿ","heading":"1.3 æ–¼è™›æ“¬æ©Ÿå™¨å®‰è£ä½œæ¥­ç³»çµ±","text":"åœ¨å®‰è£å®Œ VirtualBox å¾Œï¼Œæ‰“é–‹ä¸¦ä¸æœƒæœ‰é å…ˆå®‰è£å¥½çš„ä½œæ¥­ç³»çµ±ï¼Œéœ€è¦åœ¨ VirtualBox å…§è‡ªè¡Œæ–°å¢è™›æ“¬æ©Ÿå™¨å¾Œï¼Œå†å°‡ä½œæ¥­ç³»çµ±å®‰è£è‡³è™›æ“¬æ©Ÿå™¨å…§ï¼›åˆæˆ–æ˜¯åŒ¯å…¥å·²ç¶“å«æœ‰ä½œæ¥­ç³»çµ±çš„è™›æ“¬æ©Ÿå™¨ï¼ˆ*.ovaã€*.ovf æ ¼å¼ï¼‰ã€‚é¦–å…ˆä»‹ç´¹ VirtualBox çš„ä½¿ç”¨è€…ä»‹é¢:\nåœ– 1.3: VirtualBox çš„æ“ä½œä»‹é¢\nå¦‚åœ– 1.3 æ‰€ç¤ºï¼Œå³é‚Šä¸»è¦åŠŸèƒ½åœ–ç¤ºç”±å·¦è€Œå³çš„åŠŸèƒ½åˆ†åˆ¥æ˜¯:å–œå¥½è¨­å®š: è¨­å®š VirtualBox çš„æ•´é«”è¨­å®šï¼Œåƒæ˜¯è»Ÿé«”èªè¨€ã€è™›æ“¬æ©Ÿå™¨é è¨­å­˜æ”¾ä½ç½®â€¦ç­‰ç­‰åŒ¯å…¥: åŒ¯å…¥è™›æ“¬æ©Ÿå™¨æª”æ¡ˆ (.ovf)åŒ¯å‡º: åŒ¯å‡ºè™›æ“¬æ©Ÿå™¨æª”æ¡ˆæ–°å¢: æ–°å¢æ–°çš„è™›æ“¬æ©Ÿå™¨åŠ å…¥: åŠ å…¥å·²ç¶“å­˜åœ¨çš„è™›æ“¬æ©Ÿå™¨","code":""},{"path":"intro.html","id":"æ–°å¢-ubuntu-ä½œæ¥­ç³»çµ±è¨­å®š","chapter":"ç« ç¯€ 1 è™›æ“¬ä¸»æ©Ÿ","heading":"1.3.1 æ–°å¢ Ubuntu ä½œæ¥­ç³»çµ±è¨­å®š","text":"æ‰€ä»¥è¦æ–°å¢æ–°çš„è™›æ“¬æ©Ÿå™¨æ˜¯æŒ‰ã€Œæ–°å¢ã€ã€‚é€™è£¡å…ˆé»é¸ã€Œå°ˆå®¶æ¨¡å¼ã€ï¼Œå°ˆå®¶æ¨¡å¼å¯ä»¥ä¸€ä½µè¨­å®šè™›æ“¬æ©Ÿå™¨çš„æ‰€æœ‰è¨­å®šã€‚\nåœ– 1.4: å»ºç«‹è™›æ“¬æ©Ÿå™¨ï¼Œè¨­å®šè™›æ“¬åç¨±èˆ‡å­˜æ”¾ä½ç½®\nè¨˜æ†¶é«”å¤§å°æ ¹æ“šæ¯å€‹äººé›»è…¦çš„æ€§èƒ½åšèª¿æ•´ï¼Œè™›æ“¬æ©Ÿå™¨æ²’ç”¨ä¾†åšä»€éº¼äº‹æœ€å¤š4Gb (4 * 1024Mb) å°±å¾ˆå¤ ç”¨äº†ã€‚é€™è£¡è¦æ³¨æ„çš„ä¸€é»æ˜¯ï¼Œè™›æ“¬æ©Ÿå™¨çš„å­˜æ”¾ä½ç½®ï¼Œç•¶ä½ è¦è½‰ç§»è™›æ“¬æ©Ÿå™¨æ™‚æ‰ä¸æœƒæ‰¾ä¸åˆ°ã€‚\nåœ– 1.5: å»ºç«‹è™›æ“¬æ©Ÿå™¨ï¼Œè¨­å®šè¨˜æ†¶é«”å¤§å°èˆ‡é¸æ“‡ç³»çµ±\né è¨­çš„è™›æ“¬æ©Ÿå™¨å­˜æ”¾ä½ç½®ä½æ–¼ä½¿ç”¨è€…è³‡æ–™å¤¾ä¸­çš„Virtual VMsè³‡æ–™å¤¾ï¼Œåƒæˆ‘çš„ä½¿ç”¨è€…æ˜¯qaz85ï¼Œé‚£è™›æ“¬æ©Ÿå™¨å°±ä½æ–¼:å¾åˆ—ç¨‹å¼ç¢¼è¼¸å‡ºçš„ç¡¬ç¢Ÿé…ç½®ï¼Œå¯ä»¥çœ‹åˆ°ä¼ºæœå™¨çš„ç£ç¢Ÿé…ç½®æ˜¯ç”±å…©å€‹ 1Tb çš„ç¡¬ç¢Ÿçµ„æˆï¼Œä¸”ç”¨Raid-1 (æ˜ å°„æ¨¡å¼) å°‡ä¼ºæœå™¨åŒæ™‚æ˜ å°„å‚™ä»½è‡³å¦ä¸€å€‹ç¡¬ç¢Ÿã€‚æ‰€ä»¥é€™è£¡ä¹Ÿé¸æ“‡è·Ÿä¼ºæœå™¨ä¸€æ¨£çš„1000Gbåšç‚ºç³»çµ±ç¡¬ç¢Ÿï¼Œé¡å‹èˆ‡ç‰ˆæœ¬è¨˜å¾—è¨­å®šç‚º Linux èˆ‡ Ubuntu 64ä½å…ƒ ç‰ˆæœ¬ã€‚å®Œæˆä¹‹å¾Œé»æ“Šã€Œå»ºç«‹ã€ã€‚\nåœ– 1.6: å»ºç«‹è™›æ“¬æ©Ÿå™¨ï¼Œå®Œæˆå»ºç«‹\né€™è£¡æˆ‘æœƒé¸ VMDK æ ¼å¼çš„åŸå› æ˜¯å› ç‚ºï¼Œå¦‚æœè¦è½‰ç§»è™›æ“¬æ©Ÿå™¨æª”æ¡ˆæ™‚ï¼Œå–®ä¸€å€‹æª”æ¡ˆæœƒè¼•æ˜“åœ°è¶…é 4Gbï¼Œè€Œè¶…éæ­¤ä¸Šé™å¾—æª”æ¡ˆåœ¨è¤‡è£½æ™‚ï¼Œå¦‚æœç›®çš„åœ°çš„è£ç½®æ ¼å¼ä¸æ˜¯ ntfs çš„è©±ï¼Œæœƒæ²’æœ‰è¾¦æ³•è¤‡è£½ã€‚ç‚ºäº†å…å»åˆ°æ™‚å€™åˆ†å‰²è™›æ“¬æ©Ÿå™¨çš„éº»ç…©ï¼Œæˆ‘åœ¨é€™é‚Šå…ˆé¸æ“‡ VMDK ä½œç‚ºæˆ‘è™›æ“¬æ©Ÿå™¨çš„æª”æ¡ˆæ ¼å¼ã€‚é€™è£¡å¦‚æœé¸æ“‡ã€Œå›ºå®šå¤§å°ã€æœƒæ–°å¢ä¸€å€‹è·Ÿä½ è¨­å®šçš„æª”æ¡ˆå¤§å°ä¸€æ¨£å¤§çš„è™›æ“¬æ©Ÿå™¨æª”æ¡ˆï¼Œé™¤éä½ çš„ç¡¬ç¢Ÿå¾ˆå¤§ï¼Œå¦å‰‡ä¸å»ºè­°é€™éº¼åšã€‚å®Œæˆå¾Œï¼Œæœƒåœ¨ Virtual Machine çš„é¸å–®å·¦é‚Šçœ‹è¦‹å‰›å‰›æ–°å»ºçš„è™›æ“¬æ©Ÿå™¨ï¼Œä¸éæ­¤æ™‚çš„è™›æ“¬æ©Ÿå™¨å…§é‚„æ²’æœ‰ä½œæ¥­ç³»çµ±ã€‚ç‚ºäº†è¦ä½¿ç”¨è·Ÿä¼ºæœå™¨ä¸€æ¨£çš„è¨­å®šï¼Œéœ€è¦å†æ–°å¢å¦ä¸€é¡†è·ŸåŸæœ¬ç¡¬ç¢Ÿä¸€æ¨£å¤§å°çš„ç¡¬ç¢Ÿåšé¡åƒå‚™ä»½ã€‚é»é¸å³é‚Šæ©˜è‰²çš„é½’è¼ªã€Œè¨­å®šâš™ã€ã€‚\nåœ– 1.7: å®Œæˆå»ºç«‹è™›æ“¬æ©Ÿå™¨\nåœ¨å„²å­˜è£ç½®çš„ã€Œæ§åˆ¶å™¨ï¼šSATAã€éƒ¨åˆ†ï¼Œé»é¸ç¡¬ç¢Ÿåœ–æ¡ˆï¼ˆæœ‰ç¶ è‰²åŠ ç¬¦è™Ÿçš„ï¼‰æ–°å¢æ–°çš„ç¡¬ç¢Ÿã€‚\nåœ– 1.8: è™›æ“¬æ©Ÿå™¨å­˜æ”¾è£ç½®è¨­å®š\né»é¸ã€Œå»ºç«‹ã€å»ºç«‹èˆ‡ç¬¬ä¸€é¡†ç¡¬ç¢Ÿæ¢ä»¶ä¸€æ¨£çš„ç¡¬ç¢Ÿã€‚\nåœ– 1.9: è™›æ“¬æ©Ÿå™¨ï¼Œç®¡ç†å­˜æ”¾è£ç½®\né€™æ¬¡æŠŠç¡¬ç¢Ÿå–åç‚º MCU-ASIS_1 ä½œç‚ºå€åˆ†åŸæœ¬çš„ç¡¬ç¢Ÿèˆ‡æ–°å¢çš„ç¡¬ç¢Ÿã€‚\nåœ– 1.10: è™›æ“¬æ©Ÿå™¨æ–°å¢ç¡¬ç¢Ÿ\nå®Œæˆå¾Œï¼Œé»æ“Šã€Œç¢ºå®šã€å„²å­˜ã€‚\nåœ– 1.11: è™›æ“¬æ©Ÿå™¨å®Œæˆå­˜æ”¾è£ç½®è¨­å®š\n","code":"C:\\Users\\qaz85\\VirtualBox VMslsblkNAME                       MAJ:MIN RM   SIZE RO TYPE   MOUNTPOINT\nsdb                          8:16   0 931.5G  0 disk\nâ”œâ”€sdb2                       8:18   0 852.5G  0 part\nâ”œâ”€sdb3                       8:19   0    32G  0 part\nâ”œâ”€sdb1                       8:17   0   512M  0 part\nâ””â”€isw_ecbbadhihd_Raid1     253:0    0   885G  0 dmraid\n  â”œâ”€isw_ecbbadhihd_Raid1p1 253:1    0   512M  0 part   /boot/efi\n  â”œâ”€isw_ecbbadhihd_Raid1p2 253:2    0 852.5G  0 part   /\n  â””â”€isw_ecbbadhihd_Raid1p3 253:3    0    32G  0 part   [SWAP]\nsr0                         11:0    1  1024M  0 rom\nsda                          8:0    0 931.5G  0 disk\nâ”œâ”€sda2                       8:2    0 852.5G  0 part\nâ”œâ”€sda3                       8:3    0    32G  0 part\nâ”œâ”€sda1                       8:1    0   512M  0 part\nâ””â”€isw_ecbbadhihd_Raid1     253:0    0   885G  0 dmraid\n  â”œâ”€isw_ecbbadhihd_Raid1p1 253:1    0   512M  0 part   /boot/efi\n  â”œâ”€isw_ecbbadhihd_Raid1p2 253:2    0 852.5G  0 part   /\n  â””â”€isw_ecbbadhihd_Raid1p3 253:3    0    32G  0 part   [SWAP]"},{"path":"intro.html","id":"æ–¼-virtualbox-å®‰è£ä½œæ¥­ç³»çµ±","chapter":"ç« ç¯€ 1 è™›æ“¬ä¸»æ©Ÿ","heading":"1.3.2 æ–¼ VirtualBox å®‰è£ä½œæ¥­ç³»çµ±","text":"åœ¨å®‰è£ä½œæ¥­ç³»çµ±ä¹‹å‰ï¼Œè¦å…ˆä¸‹è¼‰ä½œæ¥­ç³»çµ±ï¼Œå› ç‚ºç›®å‰çš„é™¢ä¼ºæœå™¨ç³»çµ±æ˜¯ Ubuntuã€æˆ‘è‡ªå·±çš„ VPS ä¹Ÿæ˜¯ Ubuntuï¼Œè€Œä¸”æˆ‘æ‘¸å¾—æ¯”è¼ƒç†Ÿçš„ä¹Ÿæ˜¯ Ubuntuï¼Œæ‰€ä»¥é€™è£¡æˆ‘ä¹Ÿä»¥ Ubuntuä½œç‚ºæˆ‘å€‘ä¼ºæœå™¨ä¸»è¦çš„ç³»çµ±ã€‚é€²åˆ° Ubuntu å®˜æ–¹ç¶²ç«™çš„ä¸‹è¼‰ä»‹é¢ï¼Œé€™æ¬¡æˆ‘å€‘é¸æ“‡ä¼ºæœå™¨ç‰ˆæœ¬ï¼ˆUbuntu Serverï¼‰ä»£æ›¿ä»¥å¾€çš„æ¡Œé¢ç‰ˆæœ¬ï¼ˆUbuntu Desktopï¼‰ã€‚å› ç‚ºå¦‚æœæ˜¯ä¼ºæœå™¨ï¼Œä¸éœ€è¦åœ–å½¢ä»‹é¢å°±å¯ä»¥ç®¡ç†äº†ï¼Œç›¸å°æ–¼æ¡Œé¢ç‰ˆæœ¬ä¹Ÿè¼ƒç¯€çœä¼ºæœå™¨è³‡æºã€‚\nåœ– 1.12: ubuntu.com å®˜æ–¹ä¸‹è¼‰é é¢\né¸æ“‡ã€ŒOption 2 - Manual server Installationã€é¸é …ä¹‹å¾Œï¼ŒæŒ‰ä¸Šé¢çš„ç¶ è‰²æŒ‰éˆ•ã€ŒDownload Ubuntu Server 20.04.2 LTSã€æœƒè·³è½‰åˆ°ä¸‹è¼‰é é¢ï¼Œé–‹å§‹ä¸‹è¼‰ Ubuntu ç³»çµ±æ˜ åƒæª”æ¡ˆ (*.iso)ã€‚\nåœ– 1.13: ubuntu.com Ubuntu ä¼ºæœå™¨ç‰ˆæœ¬ä¸‹è¼‰\nå…¶ä»–é¸é …çš„ç°¡æ˜“èªªæ˜:Option 1 - Instant Ubuntu VMs: Multipass æ˜¯å¿«é€Ÿéƒ¨å±¬è™›æ“¬æ©Ÿå™¨çš„è»Ÿé«”ï¼Œè©³ç´°èªªæ˜å¯ä»¥çœ‹é€™è£¡ï¼Œè€Œé€™è£¡æˆ‘å€‘å·²ç¶“é¸ç”¨ VirtualBox äº†æ‰€ä»¥ä¸æœƒç”¨åˆ°Option 1 - Instant Ubuntu VMs: Multipass æ˜¯å¿«é€Ÿéƒ¨å±¬è™›æ“¬æ©Ÿå™¨çš„è»Ÿé«”ï¼Œè©³ç´°èªªæ˜å¯ä»¥çœ‹é€™è£¡ï¼Œè€Œé€™è£¡æˆ‘å€‘å·²ç¶“é¸ç”¨ VirtualBox äº†æ‰€ä»¥ä¸æœƒç”¨åˆ°Option 2 - Manual server installation: å‚³çµ±çš„ä¸‹è¼‰æ˜ åƒæª”æ¡ˆOption 2 - Manual server installation: å‚³çµ±çš„ä¸‹è¼‰æ˜ åƒæª”æ¡ˆOption 3 - Automated server provisioning: åˆ©ç”¨ MaaS (Metal---Service) å®‰è£è™›æ“¬æ©Ÿã€‚MaaSæ˜¯ç®¡ç†æ•¸å°è™›æ“¬æ©Ÿå™¨ç”¨çš„æœå‹™ï¼Œä¸¦ä¸å±€é™æ–¼ Ubuntuï¼ŒWindowsã€CentOS èˆ‡ ESXiéƒ½å¯ä»¥åœ¨ä¸Šé¢éƒ¨å±¬ã€‚Option 3 - Automated server provisioning: åˆ©ç”¨ MaaS (Metal---Service) å®‰è£è™›æ“¬æ©Ÿã€‚MaaSæ˜¯ç®¡ç†æ•¸å°è™›æ“¬æ©Ÿå™¨ç”¨çš„æœå‹™ï¼Œä¸¦ä¸å±€é™æ–¼ Ubuntuï¼ŒWindowsã€CentOS èˆ‡ ESXiéƒ½å¯ä»¥åœ¨ä¸Šé¢éƒ¨å±¬ã€‚å¾…ä¸‹è¼‰å®Œæˆå¾Œï¼Œé»æ“Šå…©ä¸‹é–‹å•Ÿå‰›å‰›å‰µå»ºçš„ã€ŒMCU-ASISã€è™›æ“¬æ©Ÿå™¨ï¼Œæœƒè·³å‡ºä¸€å€‹é¸æ“‡å•Ÿå‹•ç£ç¢Ÿçš„è¨Šæ¯æç¤ºè¦–çª—ï¼Œé€™è£¡æˆ‘å€‘é»æ“Šå³ä¸‹è§’çš„è³‡æ–™å¤¾ğŸ“ã€‚\nåœ– 1.14: è™›æ“¬ä¸»æ©Ÿï¼Œé¸æ“‡é–‹æ©Ÿä½ç½®\næŒ‰ã€ŒåŠ å…¥ã€ä¸¦é¸æ“‡å‰›å‰›ä¸‹è¼‰ä¸‹ä¾†çš„æ˜ åƒæª”æ¡ˆ (ubuntu-20.04.2-live-server-amd64.iso)ã€‚åŠ å…¥å®Œæˆå¾ŒæŒ‰ã€Œé¸æ“‡ã€ï¼Œæ¥è‘—æŒ‰ã€Œé–‹å§‹ã€æ›è¼‰æ˜ åƒæª”æ¡ˆè‡³è™›æ“¬æ©Ÿå™¨ä¸­é–‹å§‹å®‰è£ã€‚\nåœ– 1.15: é¸æ“‡æ˜ åƒæª”æ¡ˆè¼‰å…¥\n","code":""},{"path":"intro.html","id":"èªè¨€","chapter":"ç« ç¯€ 1 è™›æ“¬ä¸»æ©Ÿ","heading":"1.3.2.1 èªè¨€","text":"ç¨å¾… Ubuntu ä½œæ¥­ç³»çµ±æ˜ åƒæª”è¼‰å…¥å¾Œï¼Œå®‰è£ç¨‹å¼æœƒè·³å‡ºé¸æ“‡èªè¨€çš„ç•«é¢ï¼Œåœ¨é€™è£¡é¸æ“‡é©åˆä½ çš„èªè¨€ã€‚\nåœ– 1.16: Ubuntu å®‰è£ç•«é¢ï¼Œé¸æ“‡ç³»çµ±èªè¨€\nåœ¨å®‰è£éç¨‹ä¸­ä½¿ç”¨æ–¹å‘éµâ¬†ï¸â¬‡ï¸â¬…ï¸â¡ï¸ï¼ˆé¸æ“‡ï¼‰ã€Enterâ†ªï¸ï¼ˆç¢ºèªï¼‰èˆ‡ Escï¼ˆè¿”å›ï¼‰æ“æ§å®‰è£ç¨‹å¼ä»‹é¢ã€‚","code":""},{"path":"intro.html","id":"éµç›¤é…ç½®","chapter":"ç« ç¯€ 1 è™›æ“¬ä¸»æ©Ÿ","heading":"1.3.2.2 éµç›¤é…ç½®","text":"é€™è£¡å¯ä»¥è¨­å®šéµç›¤çš„:Layout (å¸ƒå±€): éµç›¤çš„èªè¨€Layout (å¸ƒå±€): éµç›¤çš„èªè¨€Variant (éµä½): ä¸€èˆ¬åœ¨å°ç£éƒ½æ˜¯ç”¨ QWERTY é…ç½®ï¼Œè©³ç´°èªªæ˜å¯ä»¥åœ¨é€™æ‰¾åˆ°Variant (éµä½): ä¸€èˆ¬åœ¨å°ç£éƒ½æ˜¯ç”¨ QWERTY é…ç½®ï¼Œè©³ç´°èªªæ˜å¯ä»¥åœ¨é€™æ‰¾åˆ°\nåœ– 1.17: Ubuntu å®‰è£ç•«é¢ï¼Œé¸æ“‡éµç›¤é…ç½®\n","code":""},{"path":"intro.html","id":"ç¶²è·¯é€£ç·š","chapter":"ç« ç¯€ 1 è™›æ“¬ä¸»æ©Ÿ","heading":"1.3.2.3 ç¶²è·¯é€£ç·š","text":"é€™è£¡å¯ä»¥è¨­å®š Ubuntu çš„ç¶²è·¯é€£ç·šï¼Œé è¨­æ˜¯ç”± DHCP è¨­å®šï¼Œé€šå¸¸ä¸ç”¨è®Šæ›´ï¼Œå¦‚æœé€™è£¡é€£ç·šå¤±æ•—ï¼Œä¹Ÿå¯ä»¥ç­‰é–‹æ©Ÿå¾Œå†åšè¨­å®šã€‚\nåœ– 1.18: Ubuntu å®‰è£ç•«é¢ï¼Œç¶²è·¯é€£ç·šè¨­å®š\n","code":""},{"path":"intro.html","id":"proxy","chapter":"ç« ç¯€ 1 è™›æ“¬ä¸»æ©Ÿ","heading":"1.3.2.4 Proxy","text":"é™¤éç¶²è·¯éœ€è¦è¨­å®š proxyï¼ˆä»£ç†ä¼ºæœå™¨ï¼‰ï¼Œå¦å‰‡ä¸éœ€è¦è¨­å®šã€‚\nåœ– 1.19: Ubuntu å®‰è£ç•«é¢ï¼Œproxy è¨­å®š\n","code":""},{"path":"intro.html","id":"é¡åƒ-mirror","chapter":"ç« ç¯€ 1 è™›æ“¬ä¸»æ©Ÿ","heading":"1.3.2.5 é¡åƒ (Mirror)","text":"åŒä¸Šï¼Œä¸éœ€è¦ç‰¹åˆ¥è¨­å®š mirror (é¡åƒ)ï¼Œå®‰è£ç¨‹å¼æœƒè‡ªå‹•åˆ¤æ–·é¸æ“‡å“ªå€‹åœ°æ–¹çš„é¡åƒç¶²å€æ›´æ–°ã€‚\nåœ– 1.20: Ubuntu å®‰è£ç•«é¢ï¼Œå¥—ä»¶é¡åƒä½ç½®è¨­å®š\n","code":""},{"path":"intro.html","id":"å®‰è£ç¨‹å¼æ›´æ–°","chapter":"ç« ç¯€ 1 è™›æ“¬ä¸»æ©Ÿ","heading":"1.3.2.6 å®‰è£ç¨‹å¼æ›´æ–°","text":"ç•¶ Ubuntu åœ¨å®‰è£éç¨‹ä¸­ï¼Œå¦‚æœæœ‰é€£ä¸Šç¶²è·¯ï¼Œå®‰è£ç¨‹å¼æœƒåµæ¸¬ç•¶å‰çš„å®‰è£ç¨‹å¼æ˜¯å¦éœ€è¦æ›´æ–°ï¼Œå¦‚æœå‡ºç¾äº†é€™å€‹ç•«é¢ä»£è¡¨å®‰è£ç¨‹å¼æœ‰æ–°çš„ç‰ˆæœ¬ï¼Œå¯ä»¥åœ¨å®‰è£æ™‚é †ä¾¿æ›´æ–°ï¼Œç•¶ç„¶ï¼Œä¹Ÿå¯ä»¥åœ¨ç³»çµ±å®‰è£å®Œå¾Œæ›´æ–°ã€‚\nåœ– 1.21: Ubuntu å®‰è£ç•«é¢\n","code":""},{"path":"intro.html","id":"ç³»çµ±ç©ºé–“é…ç½®","chapter":"ç« ç¯€ 1 è™›æ“¬ä¸»æ©Ÿ","heading":"1.3.2.7 ç³»çµ±ç©ºé–“é…ç½®","text":"é€™è£¡é¸æ“‡ä¸‹é¢çš„ã€ŒCustom storage layoutã€ï¼Œå› ç‚ºä¼ºæœå™¨ç¡¬ç¢Ÿä¸æ˜¯ä½¿ç”¨å°‹å¸¸çš„è¨­å®šã€‚ä»¥ä¸‹ Raid-1 ç›¸é—œçš„è¨­å®šæ˜¯åƒè€ƒ (Evangelou 2020) çš„ Gist ç¿»è­¯æˆä¸­æ–‡å¯«çš„ã€‚\nåœ– 1.22: Ubuntu å®‰è£ç¨‹å¼ï¼Œç£ç¢Ÿé…ç½®å°è¦½\nå¦‚æœé¸éŒ¯äº†ã€æˆ–æ˜¯ç¡¬ç¢Ÿä¸­æœ‰å·²ç¶“åˆ†å‰²å¥½çš„ç£å€ä¹Ÿæ²’é—œä¿‚ï¼Œå¾ AVAILABLE DEVICES ä¸‹é¢é¸æ“‡ç¡¬ç¢Ÿ âœ ã€ŒReformatã€ âœ ã€ŒReformatã€ï¼Œé€™æœƒæŠŠç¡¬ç¢Ÿæ ¼å¼åŒ–ã€‚\nåœ– 1.23: Ubuntu å®‰è£ç¨‹å¼ï¼Œç£ç¢Ÿé…ç½®å°è¦½\né¸æ“‡ç¬¬ä¸€å€‹ç£ç¢Ÿ âœ ã€ŒUse Boot Deviceã€ ç•¶ä½œé–‹æ©Ÿç£ç¢Ÿ\nåœ– 1.24: Ubuntu å®‰è£ç¨‹å¼ï¼Œç£ç¢Ÿé…ç½®å°è¦½\nå°ç¬¬äºŒå€‹ç£ç¢Ÿã€ŒVBOX_HARDDISK_VBdc8cc122-e9b43569ã€ä¹ŸåšåŒæ¨£çš„äº‹æƒ…ã€‚ç›®å‰ç‰ˆæœ¬ 20.04.2 live server æœ‰å€‹ bugï¼Œç•¶ä½ è¦æ–°å¢ç‚ºé–‹æ©Ÿç¡¬ç¢Ÿ (Boot Device) æ™‚ï¼Œè¦åœ¨å»ºç«‹å…¶ä»–ä¸‰å€‹åˆ†å€ (/ ã€ /boot å’Œ [SWAP])ä¹‹å‰ï¼Œå…ˆè¨­å®šå¥½ï¼Œä¸ç„¶ 1Mb çš„ grub åˆ†å€æœƒæ¶ˆå¤±ã€‚(æˆ‘åªæœ‰å¾ç¾ééŒ¯èª¤ä¸€æ¬¡ 2021.07.21)æ¥è‘—ç‚º / ã€ /boot å’Œ [SWAP] åšåˆ†å€ã€‚\n/: ç³»çµ±æ ¹ç›®éŒ„ç£å€\n/boot: é–‹æ©Ÿç£å€\n[SWAP]: SWAP (è¨˜æ†¶é«”ç½®æ›ç©ºé–“) ä¸»è¦åŠŸèƒ½æ˜¯ç•¶è¨˜æ†¶é«”æ»¿è¼‰æ™‚ï¼ŒæœƒæŠŠç¾åœ¨æ²’æœ‰ç”¨åˆ°çš„ç¨‹åºå…ˆæ”¾åˆ° SWAP ä¸­ï¼Œç©ºçµ¦ç›®å‰æ­£åœ¨é‹è¡Œçš„ç¨‹å¼ä½¿ç”¨\næ¥è‘—ç‚º / ã€ /boot å’Œ [SWAP] åšåˆ†å€ã€‚/: ç³»çµ±æ ¹ç›®éŒ„ç£å€/: ç³»çµ±æ ¹ç›®éŒ„ç£å€/boot: é–‹æ©Ÿç£å€/boot: é–‹æ©Ÿç£å€[SWAP]: SWAP (è¨˜æ†¶é«”ç½®æ›ç©ºé–“) ä¸»è¦åŠŸèƒ½æ˜¯ç•¶è¨˜æ†¶é«”æ»¿è¼‰æ™‚ï¼ŒæœƒæŠŠç¾åœ¨æ²’æœ‰ç”¨åˆ°çš„ç¨‹åºå…ˆæ”¾åˆ° SWAP ä¸­ï¼Œç©ºçµ¦ç›®å‰æ­£åœ¨é‹è¡Œçš„ç¨‹å¼ä½¿ç”¨[SWAP]: SWAP (è¨˜æ†¶é«”ç½®æ›ç©ºé–“) ä¸»è¦åŠŸèƒ½æ˜¯ç•¶è¨˜æ†¶é«”æ»¿è¼‰æ™‚ï¼ŒæœƒæŠŠç¾åœ¨æ²’æœ‰ç”¨åˆ°çš„ç¨‹åºå…ˆæ”¾åˆ° SWAP ä¸­ï¼Œç©ºçµ¦ç›®å‰æ­£åœ¨é‹è¡Œçš„ç¨‹å¼ä½¿ç”¨é¦–å…ˆç‚º /boot åˆ†å€ï¼Œé€šå¸¸é–‹æ©Ÿç£å€ 512 Mb ~ 1Gb å°±å¾ˆå¤ ç”¨äº†ï¼Œçœ‹ä½ å–œå¥½ï¼Œé€™è£¡æˆ‘é¸æ“‡ 1Gbã€‚é¸æ“‡ç¬¬ä¸€å€‹ç£ç¢Ÿ âœ ã€ŒAdd GPT Partitationã€ï¼Œç…§ä¸‹é¢çš„è¨­å®šè¨­å®šå¾Œï¼ŒæŒ‰ã€ŒCreateã€ã€‚\nSize: 1G\nFormat: [ Leave unformatted â–¾ ]\né¦–å…ˆç‚º /boot åˆ†å€ï¼Œé€šå¸¸é–‹æ©Ÿç£å€ 512 Mb ~ 1Gb å°±å¾ˆå¤ ç”¨äº†ï¼Œçœ‹ä½ å–œå¥½ï¼Œé€™è£¡æˆ‘é¸æ“‡ 1Gbã€‚é¸æ“‡ç¬¬ä¸€å€‹ç£ç¢Ÿ âœ ã€ŒAdd GPT Partitationã€ï¼Œç…§ä¸‹é¢çš„è¨­å®šè¨­å®šå¾Œï¼ŒæŒ‰ã€ŒCreateã€ã€‚Size: 1GSize: 1GFormat: [ Leave unformatted â–¾ ]Format: [ Leave unformatted â–¾ ]å°ç¬¬äºŒé¡†ç¡¬ç¢ŸåšåŒæ¨£çš„äº‹ã€‚å°ç¬¬äºŒé¡†ç¡¬ç¢ŸåšåŒæ¨£çš„äº‹ã€‚\nåœ– 1.25: Ubuntu å®‰è£ç¨‹å¼ï¼Œç£ç¢Ÿé…ç½®å°è¦½\nå†ä¾†æ˜¯ [SWAP] ç£å€ï¼Œä¸€èˆ¬ä¾†èªªæœƒç”¨å¯¦é«”è¨˜æ†¶é«”å®¹é‡ â¨‰ 2 ä½œç‚º [SWAP] ç£å€çš„å®¹é‡ï¼Œé€™è£¡æˆ‘æ€•ç©ºé–“å¤ªå°‘å…ˆç”¨ 32Gbã€‚é¸æ“‡ç¬¬ä¸€å€‹ç£ç¢Ÿ âœ ã€ŒAdd GPT Partitationã€ï¼Œç…§ä¸‹é¢çš„è¨­å®šè¨­å®šå¾Œï¼ŒæŒ‰ã€ŒCreateã€ã€‚\nSize: 32G\nFormat: [ Leave unformatted â–¾ ]\nå†ä¾†æ˜¯ [SWAP] ç£å€ï¼Œä¸€èˆ¬ä¾†èªªæœƒç”¨å¯¦é«”è¨˜æ†¶é«”å®¹é‡ â¨‰ 2 ä½œç‚º [SWAP] ç£å€çš„å®¹é‡ï¼Œé€™è£¡æˆ‘æ€•ç©ºé–“å¤ªå°‘å…ˆç”¨ 32Gbã€‚é¸æ“‡ç¬¬ä¸€å€‹ç£ç¢Ÿ âœ ã€ŒAdd GPT Partitationã€ï¼Œç…§ä¸‹é¢çš„è¨­å®šè¨­å®šå¾Œï¼ŒæŒ‰ã€ŒCreateã€ã€‚Size: 32GSize: 32GFormat: [ Leave unformatted â–¾ ]Format: [ Leave unformatted â–¾ ]å°ç¬¬äºŒé¡†ç¡¬ç¢ŸåšåŒæ¨£çš„äº‹ã€‚å°ç¬¬äºŒé¡†ç¡¬ç¢ŸåšåŒæ¨£çš„äº‹ã€‚\nåœ– 1.26: Ubuntu å®‰è£ç¨‹å¼ï¼Œç£ç¢Ÿé…ç½®å°è¦½\næœ€å¾Œæ‰æ˜¯ç³»çµ±ç¡¬ç¢Ÿ / ï¼Œç³»çµ±ç¡¬ç¢Ÿä½¿ç”¨ /boot ã€[SWAP] èˆ‡ grub å‰©ä¸‹ä¾†çš„ç©ºé–“ã€‚é¸æ“‡ç¬¬ä¸€å€‹ç£ç¢Ÿ âœ ã€ŒAdd GPT Partitationã€ï¼Œç…§ä¸‹é¢çš„è¨­å®šè¨­å®šå¾Œï¼ŒæŒ‰ã€ŒCreateã€ã€‚\nSize: ç•™ç©º é è¨­ç‚ºå‰©ä¸‹ç¡¬ç¢Ÿçš„å®¹é‡ï¼Œæ­£æ˜¯æˆ‘å€‘æ‰€è¦çš„\nFormat: [ Leave unformatted â–¾ ]\næœ€å¾Œæ‰æ˜¯ç³»çµ±ç¡¬ç¢Ÿ / ï¼Œç³»çµ±ç¡¬ç¢Ÿä½¿ç”¨ /boot ã€[SWAP] èˆ‡ grub å‰©ä¸‹ä¾†çš„ç©ºé–“ã€‚é¸æ“‡ç¬¬ä¸€å€‹ç£ç¢Ÿ âœ ã€ŒAdd GPT Partitationã€ï¼Œç…§ä¸‹é¢çš„è¨­å®šè¨­å®šå¾Œï¼ŒæŒ‰ã€ŒCreateã€ã€‚Size: ç•™ç©º é è¨­ç‚ºå‰©ä¸‹ç¡¬ç¢Ÿçš„å®¹é‡ï¼Œæ­£æ˜¯æˆ‘å€‘æ‰€è¦çš„Size: ç•™ç©º é è¨­ç‚ºå‰©ä¸‹ç¡¬ç¢Ÿçš„å®¹é‡ï¼Œæ­£æ˜¯æˆ‘å€‘æ‰€è¦çš„Format: [ Leave unformatted â–¾ ]Format: [ Leave unformatted â–¾ ]å°ç¬¬äºŒé¡†ç¡¬ç¢ŸåšåŒæ¨£çš„äº‹ã€‚å°ç¬¬äºŒé¡†ç¡¬ç¢ŸåšåŒæ¨£çš„äº‹ã€‚\nåœ– 1.27: Ubuntu å®‰è£ç¨‹å¼ï¼Œç£ç¢Ÿé…ç½®å°è¦½\næ¥è‘—è¨­å®š Raid-1ã€‚é¸å–ã€Œ[ Create software RAID (md) â–¸ ]ã€ï¼Œé¸å–å…©å€‹ã€Œpartition 2ã€å»ºç«‹ md0 softRaid ç£å€\nåœ– 1.28: Ubuntu å®‰è£ç¨‹å¼ï¼Œç£ç¢Ÿé…ç½®å°è¦½\nåŒä¸Šï¼Œé¸å–ã€Œ[ Create software RAID (md) â–¸ ]ã€ï¼Œé¸å–å…©å€‹ã€Œpartition 3ã€å»ºç«‹ md1 softRaid ç£å€åŒä¸Šï¼Œé¸å–ã€Œ[ Create software RAID (md) â–¸ ]ã€ï¼Œé¸å–å…©å€‹ã€Œpartition 3ã€å»ºç«‹ md1 softRaid ç£å€åŒä¸Šï¼Œé¸å–ã€Œ[ Create software RAID (md) â–¸ ]ã€ï¼Œé¸å–å…©å€‹ã€Œpartition 4ã€å»ºç«‹ md2 softRaid ç£å€åŒä¸Šï¼Œé¸å–ã€Œ[ Create software RAID (md) â–¸ ]ã€ï¼Œé¸å–å…©å€‹ã€Œpartition 4ã€å»ºç«‹ md2 softRaid ç£å€\nåœ– 1.29: Ubuntu å®‰è£ç¨‹å¼ï¼Œç£ç¢Ÿé…ç½®å°è¦½\né¸æ“‡ md0 (new) âœ format âœ Format: é¸æ“‡ ext4 æ ¼å¼ âœ Mount: æ›è¼‰æ–¼ /boot âœ å®Œæˆå¾Œé¸æ“‡ Doneé¸æ“‡ md0 (new) âœ format âœ Format: é¸æ“‡ ext4 æ ¼å¼ âœ Mount: æ›è¼‰æ–¼ /boot âœ å®Œæˆå¾Œé¸æ“‡ Doneé¸æ“‡ md1 (new) âœ format âœ Format: é¸æ“‡ swap æ ¼å¼ âœ å®Œæˆå¾Œé¸æ“‡ Doneé¸æ“‡ md1 (new) âœ format âœ Format: é¸æ“‡ swap æ ¼å¼ âœ å®Œæˆå¾Œé¸æ“‡ Doneé¸æ“‡ md2 (new) âœ format âœ Format: é¸æ“‡ ext4 æ ¼å¼ âœ Mount: æ›è¼‰æ–¼ / âœ å®Œæˆå¾Œé¸æ“‡ Doneé¸æ“‡ md2 (new) âœ format âœ Format: é¸æ“‡ ext4 æ ¼å¼ âœ Mount: æ›è¼‰æ–¼ / âœ å®Œæˆå¾Œé¸æ“‡ Doneè¨­å®šå®ŒæˆğŸ‰ï¼Œæ•´é«”è¨­å®šæˆªåœ–:è¨­å®šå®ŒæˆğŸ‰ï¼Œæ•´é«”è¨­å®šæˆªåœ–:\nåœ– 1.30: Ubuntu å®‰è£ç¨‹å¼ï¼Œç£ç¢Ÿé…ç½®å°è¦½\næˆªåœ–ï¼ˆçºŒï¼‰\nåœ– 1.31: Ubuntu å®‰è£ç¨‹å¼ï¼Œç£ç¢Ÿé…ç½®å°è¦½\nåœ¨æœ€ä¸‹é¢é¸æ“‡ã€ŒDoneã€ï¼Œè‡³ä¸‹ä¸€æ­¥ã€‚","code":""},{"path":"intro.html","id":"ä½¿ç”¨è€…è¨­å®š","chapter":"ç« ç¯€ 1 è™›æ“¬ä¸»æ©Ÿ","heading":"1.3.2.8 ä½¿ç”¨è€…è¨­å®š","text":"åœ¨é€™é‚Šè¨­å®šè‡ªå·±çš„ä½¿ç”¨è€…åç¨±èˆ‡é›»è…¦åç¨±ã€‚\nåœ– 1.32: Ubuntu å®‰è£ç¨‹å¼ï¼Œä½¿ç”¨è€…è¨­å®š\nname: asisYour name: asisYour serverâ€™s name: asis01Your serverâ€™s name: asis01Pick username: asisPick username: asisChoose password: asisChoose password: asisConfirm password: asisConfirm password: asis","code":""},{"path":"intro.html","id":"openssh-è¨­å®š-å¯è·³é","chapter":"ç« ç¯€ 1 è™›æ“¬ä¸»æ©Ÿ","heading":"1.3.2.9 OpenSSH è¨­å®š [å¯è·³é]","text":"OpenSSH æ˜¯ä½¿ç”¨ SSH é€šè¨Šå”å®šä¾†é ç«¯é€£ç·šé›»è…¦çš„å·¥å…·ã€‚é˜²æ­¢é€£ç·šä¸­è¢«ç«Šè½ã€åŠ«æŒæˆ–æ˜¯å…¶ä»–æ”»æ“Šã€‚å¦‚æœæ²’æœ‰æ“æœ‰ Github å¸³è™Ÿé€™è£¡å¯ä»¥å…ˆè·³éï¼Œæ–¼ç¬¬äºŒç« æœƒé‡æ–°ä»‹ç´¹æ€éº¼è¨­å®š OpenSSH ä¼ºæœå™¨ã€‚","code":""},{"path":"intro.html","id":"å¾-github-åŒ¯å…¥å·²ç¶“å„²å­˜çš„-public-key","chapter":"ç« ç¯€ 1 è™›æ“¬ä¸»æ©Ÿ","heading":"1.3.2.9.1 å¾ Github åŒ¯å…¥å·²ç¶“å„²å­˜çš„ public key","text":"é€™è£¡å°‡ Allow password authentication SSH å–æ¶ˆæ‰“å‹¾ï¼Œç¶“ç”± SSH é€£ç·šè‡³è™›æ“¬æ©Ÿå™¨æ™‚ï¼Œé—œé–‰ä½¿ç”¨è€…å¯†ç¢¼èªè­‰ï¼Œæ”¹ç”± SSH key pairs ç™»å…¥ã€‚å¦‚æœæ²’æœ‰æŒæœ‰ Github å¸³è™Ÿå„²å­˜çš„ public keyï¼Œè«‹æŠŠ Allow password authentication SSH æ‰“å‹¾ï¼Œå¾…ä¸Šå‚³å®Œ public key å†æŠŠä½¿ç”¨å¯†ç¢¼ç™»å…¥é—œé–‰ã€‚å¦å¤–ï¼Œæˆ‘å·²ç¶“é€é Github å„²å­˜éæˆ‘çš„ public key å‰¯æœ¬ï¼Œæ‰€ä»¥é€™é‚Šå¯ä»¥ç›´æ¥å¾ Github åŒ¯å…¥ public keyã€‚\nåœ– 1.33: Ubuntu å®‰è£ç¨‹å¼ï¼Œå°å…¥ SSH å…¬é‘°\nå¦‚æœé€™é‚Šä¸åŒ¯å…¥çš„è©±ï¼Œä¹Ÿå¯ä»¥å¾…ç¨å¾Œé–‹æ©Ÿå¾Œå†ç”¨æŒ‡ä»¤ ssh-import-id-gh <username> åŒ¯å…¥ã€‚é»é¸ã€ŒYesã€å¾Œé–‹å§‹åŒ¯å…¥ç¨‹åºã€‚\nåœ– 1.34: Ubuntu å®‰è£ç¨‹å¼ï¼Œå°å…¥ SSH å…¬é‘°\nåŒ¯å…¥æˆåŠŸå¾Œå°±èƒ½ç¶“ç”±å«æœ‰ Github å‰¯æœ¬çš„ SSH key pairs ä¸»æ©Ÿé€£ç·šè‡³è™›æ“¬æ©Ÿå™¨","code":""},{"path":"intro.html","id":"å®Œæˆå®‰è£","chapter":"ç« ç¯€ 1 è™›æ“¬ä¸»æ©Ÿ","heading":"1.3.2.10 å®Œæˆå®‰è£","text":"é€™å€‹é é¢æ˜¯é è¦½ Ubuntu å®‰è£ç¨‹å¼åšéäº†ä»€éº¼ï¼Œéƒ½æœƒè¨˜éŒ„åœ¨é€™è£¡ï¼Œé€šå¸¸ä¸æœƒæœ‰ä»€éº¼å•é¡Œæ‰€ä»¥å¯ä»¥ä¸ç”¨ç†ä»–ï¼Œå¾…å®‰è£å®Œæˆå³å¯ã€‚\nåœ– 1.35: Ubuntu å®‰è£ç¨‹å¼ï¼Œå®‰è£ç´€éŒ„\nå®‰è£å®Œæˆå¾Œé¸æ“‡ã€ŒReboot Nowã€é‡æ–°å•Ÿå‹•\nåœ– 1.36: Ubuntuå®‰è£ç¨‹å¼ï¼Œå®Œæˆå®‰è£\n","code":""},{"path":"ubuntu-çš„åŸºæœ¬è¨­å®š.html","id":"ubuntu-çš„åŸºæœ¬è¨­å®š","chapter":"ç« ç¯€ 2 Ubuntu çš„åŸºæœ¬è¨­å®š","heading":"ç« ç¯€ 2 Ubuntu çš„åŸºæœ¬è¨­å®š","text":"æœ¬ç« ä¸»è¦æœƒèªªæ˜å¦‚ä½•é€éé ç«¯é€£ç·šå­˜å–è™›æ“¬æ©Ÿå™¨èˆ‡è™›æ“¬æ©Ÿå™¨åŸºæœ¬è¨­å®šã€‚","code":""},{"path":"ubuntu-çš„åŸºæœ¬è¨­å®š.html","id":"äº‹å‰æº–å‚™-1","chapter":"ç« ç¯€ 2 Ubuntu çš„åŸºæœ¬è¨­å®š","heading":"2.1 äº‹å‰æº–å‚™","text":"å¾é€™å€‹ç« ç¯€é–‹å§‹æœƒå‡ºç¾ä¸€äº›ç‰¹æ®Šå‰ç¶´çš„æ–¹æ¡†ï¼ˆå¦‚ä¸‹è¡¨ï¼‰è¡¨ç¤ºï¼Œä¸åŒçš„å‰ç¶´ä»£è¡¨ä¸åŒç¨®é¡çš„çµ‚ç«¯æ©Ÿï¼Œæˆ–æ˜¯ä½¿ç”¨çµ‚ç«¯æ©Ÿçš„èº«ä»½ï¼Œè«‹å¤šå¤šæ³¨æ„ã€‚PS: powershell æŒ‡ä»¤å‰ç¶´\ndirPS: powershell æŒ‡ä»¤å‰ç¶´$: çµ‚ç«¯æ©ŸæŒ‡ä»¤å‰ç¶´ï¼ˆä¸€èˆ¬ä½¿ç”¨è€…ï¼‰\nls -al$: çµ‚ç«¯æ©ŸæŒ‡ä»¤å‰ç¶´ï¼ˆä¸€èˆ¬ä½¿ç”¨è€…ï¼‰#: çµ‚ç«¯æ©ŸæŒ‡ä»¤å‰ç¶´ï¼ˆè¶…ç´šä½¿ç”¨è€…ï¼‰\nsudo rm -rf ~/Downloads#: çµ‚ç«¯æ©ŸæŒ‡ä»¤å‰ç¶´ï¼ˆè¶…ç´šä½¿ç”¨è€…ï¼‰OUTPUT: çµ‚ç«¯æ©Ÿè¼¸å‡º\ntotal 12\ndrwxrwxr-x  3 kuaz kuaz 4096 Sep 22 02:11 ./\ndrwxr-x--- 15 kuaz kuaz 4096 Oct 10 22:30 ../\ndrwxrwxr-x  6 kuaz kuaz 4096 Oct  6 14:06 School/OUTPUT: çµ‚ç«¯æ©Ÿè¼¸å‡º","code":"dirls -alsudo rm -rf ~/Downloadstotal 12\ndrwxrwxr-x  3 kuaz kuaz 4096 Sep 22 02:11 ./\ndrwxr-x--- 15 kuaz kuaz 4096 Oct 10 22:30 ../\ndrwxrwxr-x  6 kuaz kuaz 4096 Oct  6 14:06 School/"},{"path":"ubuntu-çš„åŸºæœ¬è¨­å®š.html","id":"openssh","chapter":"ç« ç¯€ 2 Ubuntu çš„åŸºæœ¬è¨­å®š","heading":"2.2 OpenSSH","text":"å‰é¢ç¬¬ä¸€ç« åœ¨å®‰è£æ™‚ï¼Œä¹Ÿæœ‰ç¢°åˆ° OpenSSH ä¼ºæœå™¨è¨­å®šçš„å°ç¯€ï¼Œä¸éé‚£ä¸¦ä¸å®Œæ•´ï¼Œæ˜¯çµ¦å·²ç¶“æ“æœ‰ ssh key pairs çš„ä½¿ç”¨è€…çœ‹çš„ã€‚åœ¨é€™å€‹å°ç¯€æœƒé€æ­¥è§£é‡‹ OpenSSH çš„ä½¿ç”¨æ–¹æ³•ï¼Œå¾ OpenSSH å®¢æˆ¶ç«¯å®‰è£ã€ç”¢ç”Ÿ ssh key pairs æœ€å¾Œåˆ°é€£ç·šã€‚","code":""},{"path":"ubuntu-çš„åŸºæœ¬è¨­å®š.html","id":"æ¦‚è¿°","chapter":"ç« ç¯€ 2 Ubuntu çš„åŸºæœ¬è¨­å®š","heading":"2.2.1 æ¦‚è¿°","text":"OpenSSH æ˜¯ SSHï¼ˆSecure Shellï¼‰ä¸€å€‹é–‹æºçš„ç‰ˆæœ¬ã€‚SSH æ˜¯ä¸€ç¨®é€é SSH å‚³è¼¸å”å®šä¾†ç®¡ç†ç³»çµ±ã€å‚³è¼¸æª”æ¡ˆçš„ä¸€å€‹ç³»çµ±å¥—ä»¶ã€‚å®ƒç¾åœ¨è¢«å»£æ³›çš„ä½¿ç”¨åœ¨å„å€‹è³‡æ–™ä¸­å¿ƒèˆ‡å¤§ä¼æ¥­ä¸­ã€‚\nåœ– 2.1: SSH å‚³è¼¸å”å®šé©—è­‰æµç¨‹ åœ–ç‰‡ä¾†æºï¼šhttps://www.ssh.com/academy/ssh\n","code":""},{"path":"ubuntu-çš„åŸºæœ¬è¨­å®š.html","id":"é©åˆå„å€‹ç³»çµ±çš„é€£ç·šæµç¨‹","chapter":"ç« ç¯€ 2 Ubuntu çš„åŸºæœ¬è¨­å®š","heading":"2.2.2 é©åˆå„å€‹ç³»çµ±çš„é€£ç·šæµç¨‹","text":"è¦é€£æ¥åˆ°è™›æ“¬æ©Ÿå™¨çš„ OpenSSH ä¼ºæœå™¨ä¹‹å‰ï¼Œä½ éœ€è¦æœ‰ä¸€å€‹å¯ä»¥è®“ä½ é€£æ¥çš„ OpenSSH ç”¨æˆ¶ç«¯ã€‚","code":""},{"path":"ubuntu-çš„åŸºæœ¬è¨­å®š.html","id":"macos-æˆ–-å…¶ä»–-unix-like-ç³»çµ±","chapter":"ç« ç¯€ 2 Ubuntu çš„åŸºæœ¬è¨­å®š","heading":"2.2.2.1 MacOS æˆ– å…¶ä»– Unix-like ç³»çµ±","text":"å¦‚æœä½ æ˜¯ Linux æˆ–æ˜¯ MacOS ç³»çµ±ï¼Œé€šå¸¸éƒ½æœ‰å…§å»º OpenSSH ç”¨æˆ¶ç«¯ï¼Œå¯ä»¥ç›´æ¥è·³è‡³ä»¥ Step 2 â€” ç”¢ç”Ÿ ssh key pairs çš„ç« ç¯€ï¼Œä½†æ˜¯ Windows ç³»çµ±éœ€è¦å…ˆå®‰è£ä¸€äº›è»Ÿé«”ï¼Œæˆ–æ˜¯å¾ Windows æ›´æ–°åŠŸèƒ½è£¡é¢å•Ÿç”¨ OpenSSH ä¼ºæœå™¨èˆ‡ç”¨æˆ¶ç«¯ï¼Œå°‡æ–¼ä¸‹ä¸€å°ç¯€æœƒè§£é‡‹ã€‚","code":""},{"path":"ubuntu-çš„åŸºæœ¬è¨­å®š.html","id":"windows-ç³»çµ±","chapter":"ç« ç¯€ 2 Ubuntu çš„åŸºæœ¬è¨­å®š","heading":"2.2.2.2 Windows ç³»çµ±","text":"Windows ç”¨æˆ¶é€£ç·šè‡³ OpenSSH ä¼ºæœå™¨çš„æ–¹æ³•æœ‰å¾ˆå¤šç¨®ï¼Œæ–¹æ³•å¦‚ä¸‹:å·²ç¶“æ“æœ‰ SSH key pairs çš„å‰æä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ SSH é€šè¨Šå”å®šé€£ç·šçš„è»Ÿé«”ï¼Œå¦‚:\nPuTTY\nChrome ç€è¦½å™¨çš„ä»»ä½•ä¸€å€‹ SSH æ“´å……å¥—ä»¶\nå„ªé»:\nå¾ˆå¿«ï¼Œå®‰è£å®Œå°±èƒ½è¨­å®š SSH é€£ç·š\nå·²ç¶“æ“æœ‰ SSH key pairs çš„å‰æä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ SSH é€šè¨Šå”å®šé€£ç·šçš„è»Ÿé«”ï¼Œå¦‚:PuTTYPuTTYChrome ç€è¦½å™¨çš„ä»»ä½•ä¸€å€‹ SSH æ“´å……å¥—ä»¶Chrome ç€è¦½å™¨çš„ä»»ä½•ä¸€å€‹ SSH æ“´å……å¥—ä»¶å„ªé»:å¾ˆå¿«ï¼Œå®‰è£å®Œå°±èƒ½è¨­å®š SSH é€£ç·šç›´æ¥åœ¨ Windows 10 å…§å•Ÿå‹• OpenSSH ç”¨æˆ¶ç«¯ï¼Œé€éå…§å»ºçš„ PowerShell SSH é€£ç·šè‡³è™›æ“¬ä¸»æ©Ÿã€‚å„ªé»:\nèˆ‡ç¬¬ä¸€å€‹æ–¹æ³•å·®ä¸å¤šå¿«\nå¯æ­é… Windows Terminal å®¢è£½åŒ–çµ‚ç«¯æ©Ÿä¸»é¡Œï¼ˆå¾ˆå¥½çœ‹ï¼‰\nä¸ç”¨å®‰è£ä»»ä½•ç¬¬ä¸‰æ–¹è»Ÿé«”\nç›´æ¥åœ¨ Windows 10 å…§å•Ÿå‹• OpenSSH ç”¨æˆ¶ç«¯ï¼Œé€éå…§å»ºçš„ PowerShell SSH é€£ç·šè‡³è™›æ“¬ä¸»æ©Ÿã€‚å„ªé»:èˆ‡ç¬¬ä¸€å€‹æ–¹æ³•å·®ä¸å¤šå¿«å¯æ­é… Windows Terminal å®¢è£½åŒ–çµ‚ç«¯æ©Ÿä¸»é¡Œï¼ˆå¾ˆå¥½çœ‹ï¼‰ä¸ç”¨å®‰è£ä»»ä½•ç¬¬ä¸‰æ–¹è»Ÿé«”åœ¨ Windows 10 å…§å®‰è£ Windows å­ç³»çµ± (Windows Subsystem Linux; WSL)ï¼Œç„¶å¾Œç›´æ¥åœ¨ Linux ç’°å¢ƒé€é OpenSSH é€£ç·šè‡³è™›æ“¬ä¸»æ©Ÿã€‚å„ªé»:\nå¯ä»¥å­¸ç¿’åˆ°å¾ˆå¤šæ±è¥¿ï¼Œ Linux å¯ä»¥ç”¨çš„åœ¨ Windows çš„ WSL å…§éƒ½å¯ä»¥ä½¿ç”¨ï¼Œæ“ä½œå¯ä»¥ç…§æ¬åˆ° WSL ä¸Šé¢ã€‚\nç¼ºé»:\nå®‰è£éç¨‹æ‰€éœ€çš„æ™‚é–“æœƒæ ¹æ“šæ¯å€‹äººçš„ç¶“é©—æœ‰æ‰€å·®ç•°ï¼Œéœ€è¦å¾é ­é–‹å§‹è¨­å®š Linuxã€‚\nåœ¨ Windows 10 å…§å®‰è£ Windows å­ç³»çµ± (Windows Subsystem Linux; WSL)ï¼Œç„¶å¾Œç›´æ¥åœ¨ Linux ç’°å¢ƒé€é OpenSSH é€£ç·šè‡³è™›æ“¬ä¸»æ©Ÿã€‚å„ªé»:å¯ä»¥å­¸ç¿’åˆ°å¾ˆå¤šæ±è¥¿ï¼Œ Linux å¯ä»¥ç”¨çš„åœ¨ Windows çš„ WSL å…§éƒ½å¯ä»¥ä½¿ç”¨ï¼Œæ“ä½œå¯ä»¥ç…§æ¬åˆ° WSL ä¸Šé¢ã€‚ç¼ºé»:å®‰è£éç¨‹æ‰€éœ€çš„æ™‚é–“æœƒæ ¹æ“šæ¯å€‹äººçš„ç¶“é©—æœ‰æ‰€å·®ç•°ï¼Œéœ€è¦å¾é ­é–‹å§‹è¨­å®š Linuxã€‚åœ¨ Windows è¦ç”¢ç”Ÿ ssh key pairs æœ‰å…©ç¨®è¾¦æ³•ï¼Œç¬¬ä¸€ç¨®æ˜¯ç¶“ç”±å…§å»ºçš„ OpenSSH Client ç”¢ç”Ÿï¼Œå¦ä¸€ç¨®æ˜¯ç¶“ç”± PuTTY æ‰€é™„çš„å·¥å…·ç”¢ç”Ÿï¼ˆå¯ä»¥åƒè€ƒé™„éŒ„çš„ PuTTY ä»‹ç´¹ï¼‰ã€‚Linux çš„ä½¿ç”¨è€…å¯ä»¥ä½¿ç”¨å¥—ä»¶ç®¡ç†ç¨‹å¼å®‰è£ openssh-serverï¼Œ æŒ‡ä»¤å¦‚ä¸‹ï¼š","code":"sudo apt install openssh-server"},{"path":"ubuntu-çš„åŸºæœ¬è¨­å®š.html","id":"step-1-å®‰è£-openssh-client","chapter":"ç« ç¯€ 2 Ubuntu çš„åŸºæœ¬è¨­å®š","heading":"2.2.3 Step 1 â€” å®‰è£ OpenSSH Client","text":"Windows 10 å·²ç¶“æœ‰å…§å»ºåœ¨ Windows çš„ã€Œæ‡‰ç”¨ç¨‹å¼èˆ‡åŠŸèƒ½ã€å…§ï¼Œé è¨­æ˜¯æ²’æœ‰å®‰è£çš„ã€‚å•Ÿå‹•æµç¨‹å¦‚ä¸‹:é»æ“Šã€Œé–‹å§‹ã€é»æ“Šã€Œé–‹å§‹ã€æ‰“é–‹ã€Œè¨­å®šâš™ã€æ‰“é–‹ã€Œè¨­å®šâš™ã€é¸å–ã€Œæ‡‰ç”¨ç¨‹å¼ã€ âœ ã€Œæ‡‰ç”¨ç¨‹å¼èˆ‡åŠŸèƒ½ã€ âœ æ‰¾åˆ°é»‘é«”å­—ã€Œç¨‹å¼èˆ‡åŠŸèƒ½ã€ï¼Œä¸¦é»é¸ä¸‹é¢çš„ã€Œé¸ç”¨åŠŸèƒ½ã€é¸å–ã€Œæ‡‰ç”¨ç¨‹å¼ã€ âœ ã€Œæ‡‰ç”¨ç¨‹å¼èˆ‡åŠŸèƒ½ã€ âœ æ‰¾åˆ°é»‘é«”å­—ã€Œç¨‹å¼èˆ‡åŠŸèƒ½ã€ï¼Œä¸¦é»é¸ä¸‹é¢çš„ã€Œé¸ç”¨åŠŸèƒ½ã€åœ¨å·²å®‰è£çš„ç¯©é¸åˆ—ä¸Šé¢ç¯©é¸ ssh ï¼Œå¦‚æœæ²’æœ‰ï¼Œè«‹åœ¨é é¢é ‚ç«¯é»é¸ã€Œæ–°å¢åŠŸèƒ½ã€ï¼Œç„¶å¾Œ:\næ‰¾åˆ°ã€ŒOpenSSH ç”¨æˆ¶ç«¯ã€å¾Œï¼Œé»é¸å®‰è£\nåœ¨å·²å®‰è£çš„ç¯©é¸åˆ—ä¸Šé¢ç¯©é¸ ssh ï¼Œå¦‚æœæ²’æœ‰ï¼Œè«‹åœ¨é é¢é ‚ç«¯é»é¸ã€Œæ–°å¢åŠŸèƒ½ã€ï¼Œç„¶å¾Œ:æ‰¾åˆ°ã€ŒOpenSSH ç”¨æˆ¶ç«¯ã€å¾Œï¼Œé»é¸å®‰è£å®‰è£å®Œæˆå¾Œï¼Œä½ å¯ä»¥æ‰“é–‹ã€Œå‘½ä»¤æç¤ºå­—å…ƒã€æˆ–æ˜¯ã€ŒPowerShellã€è¼¸å…¥ ssh ä¾†ç¢ºèªæ˜¯å¦å®‰è£å®Œæˆã€‚","code":"sshusage: ssh [-46AaCfGgKkMNnqsTtVvXxYy] [-B bind_interface]\n           [-b bind_address] [-c cipher_spec] [-D [bind_address:]port]\n           [-E log_file] [-e escape_char] [-F configfile] [-I pkcs11]\n           [-i identity_file] [-J [user@]host[:port]] [-L address]\n           [-l login_name] [-m mac_spec] [-O ctl_cmd] [-o option] [-p port]\n           [-Q query_option] [-R address] [-S ctl_path] [-W host:port]\n           [-w local_tun[:remote_tun]] destination [command]"},{"path":"ubuntu-çš„åŸºæœ¬è¨­å®š.html","id":"step-2-ç”¢ç”Ÿ-ssh-key-pairs","chapter":"ç« ç¯€ 2 Ubuntu çš„åŸºæœ¬è¨­å®š","heading":"2.2.4 Step 2 â€” ç”¢ç”Ÿ ssh key pairs","text":"æ¥è‘—ï¼Œå¯ä»¥ä½¿ç”¨ ssh-keygen æŒ‡ä»¤ç”¢ç”Ÿ key pairsï¼ŒåŠ å¯†æ–¹å¼æœ‰ dsaã€ecdsaã€ecdsa-skã€ed25519ã€ed25519-sk èˆ‡ rsaï¼Œé è¨­çš„åŠ å¯†æ–¹å¼æ˜¯ rsa ï¼Œè©³ç´°æŒ‡ä»¤ç”¨æ³•å¯ä»¥é€é ssh-keygen --help æŒ‡ä»¤æŸ¥è©¢ï¼Œé€™è£¡æˆ‘å€‘ç”¨æœ€ç°¡å–®çš„ ssh-keygen æŒ‡ä»¤ã€‚Windows çš„ç”¨æˆ¶é è¨­æœƒæŠŠ key pair å„²å­˜åœ¨ C:\\Users\\<USERNAME>\\.ssh\\ çš„ä½ç½®ï¼Œè€Œ Linux çš„ç”¨æˆ¶æœƒå„²å­˜åœ¨ ~/.ssh/ çš„ä½ç½®ã€‚é€™è£¡æ˜¯è©¢å•ä½ è¦ä¸è¦æŠŠç”¢ç”Ÿçš„ ssh key é‡æ–°å‘½åï¼Œä¸€èˆ¬ä¸æœƒå‹•åˆ°å®ƒçš„åå­—ï¼ŒæŒ‰ Enterâ†©ï¸ï¼Œæ¥çºŒä¸‹ä¸€æ­¥ã€‚é€™ä¸€æ­¥å†è©¢å•ä½ éœ€ä¸éœ€è¦å°‡ SSH key pairs åŠ å¯†ï¼Œå¦‚æœåŠ å¯†äº†ï¼Œæ¯æ¬¡é€£ç·šéƒ½éœ€è¦æ‰“å¯†ç¢¼ã€‚å¦‚æœä¸æƒ³è¨­å®šå¯†ç¢¼å°±ç•™ç©ºæŒ‰ Enterâ†©ï¸ é€²å…¥ä¸‹ä¸€æ­¥ã€‚ç”¢ç”Ÿ Key æœƒé †å¸¶ç”¢ç”Ÿé€™å€‹ Key çš„æŒ‡ç´‹ã€‚ç”¢ç”Ÿå®Œç•¢ï¼Œå„²å­˜åœ¨ C:\\Users\\<USERNAME>\\.ssh\\id_rsa çš„æª”æ¡ˆæ˜¯ç§é‘°ï¼ˆprivate keyï¼‰ï¼Œè€Œå¦ä¸€å€‹ id_rsa.pub çš„æª”æ¡ˆæ˜¯å…¬é‘°ï¼ˆpublic keyï¼‰ã€‚ç•¶ä½ éºå¤±äº†é ç«¯ä¸»æ©Ÿçš„ key pairsï¼Œä½ å†ä¹Ÿä¸èƒ½é€éé ç«¯å­˜å–æœ‰ä½¿ç”¨éè©² key pairs çš„ä¸»æ©Ÿï¼Œåªèƒ½é€éç›´æ¥æ¥è§¸é‚£å°ä¸»æ©Ÿä¾†æ›´æ–°çš„ key pairsï¼Œæ‰€ä»¥è¦å¦¥å–„ä¿å­˜ã€‚","code":"ssh-keygenGenerating public/private rsa key pair.\nEnter file in which to save the key (C:\\Users\\<USERNAME>/.ssh/id_rsa):Created directory 'C:\\Users\\<USERNAME>/.ssh'.\nEnter passphrase (empty for no passphrase):\nEnter same passphrase again:Your identification has been saved in C:\\Users\\<USERNAME>/.ssh/id_rsa.\nYour public key has been saved in C:\\Users\\<USERNAME>/.ssh/id_rsa.pub.\nThe key fingerprint is:\nSHA256:8NE76AD294Tjze76pEPtvZgqaqw9OuCF7T8HWPo6fUc qaz85@DESKTOP-OH6HA84\nThe key's randomart image is:\n+---[RSA 3072]----+\n|                 |\n|         .       |\n|    o . . .      |\n|   . + o + .     |\n|  o + o S.+      |\n|.. = . =.E..     |\n|..o.o ..+.=.     |\n| ..+++.o.=.o.    |\n|  o**++.=** ..   |\n+----[SHA256]-----+"},{"path":"ubuntu-çš„åŸºæœ¬è¨­å®š.html","id":"step-3-å°‡æ–°å¢çš„-key-pairs-ä¸Šå‚³è‡³ç›®çš„åœ°ä¸»æ©Ÿ","chapter":"ç« ç¯€ 2 Ubuntu çš„åŸºæœ¬è¨­å®š","heading":"2.2.5 Step 3 â€” å°‡æ–°å¢çš„ key pairs ä¸Šå‚³è‡³ç›®çš„åœ°ä¸»æ©Ÿ","text":"ç•¶ä½ æ“æœ‰äº† Step 2 â€” ç”¢ç”Ÿ ssh key pairsï¼Œæ¥ä¸‹ä¾†è¦æŠŠ public key ä¸Šå‚³è‡³è™›æ“¬æ©Ÿå™¨ã€‚å¦å¤–å…¬é‘°çµ¦åˆ¥äººçœ‹åˆ°æ˜¯æ²’å•é¡Œçš„ï¼Œå‰é¢ç¬¬ä¸€ç« çš„ OpenSSH è¨­å®š [å¯è·³é] å°±å·²ç¶“æœ‰å‡ºç¾éæˆ‘çš„å…¬é‘°äº†ï¼Œå…¬é‘°ä¸¦ä¸èƒ½ç”¨ä¾†ç”¢ç”Ÿç§é‘°ï¼Œå®ƒæ˜¯ç”¨ä¾†èªè­‰é€™å€‹ key æ˜¯å¦è·Ÿä½ æ‰€æŒæœ‰çš„ç§é‘°ç›¸å‘¼æ‡‰ã€‚","code":""},{"path":"ubuntu-çš„åŸºæœ¬è¨­å®š.html","id":"linux-ç³»çµ±","chapter":"ç« ç¯€ 2 Ubuntu çš„åŸºæœ¬è¨­å®š","heading":"2.2.5.1 Linux ç³»çµ±","text":"å¦‚æœä½ æ˜¯çš„ç³»çµ±æ˜¯ Linux é‚£æŒ‡ä»¤æœƒç¨å¾®çŸ­ä¸€äº›ï¼Œä¸Šå‚³è‡³é ç«¯é›»è…¦çš„æŒ‡ä»¤å¦‚ä¸‹:-: flag ä»£è¡¨çš„æ˜¯ä½ è¦ä¸Šå‚³çš„ public key æª”æ¡ˆè·¯å¾‘-: flag ä»£è¡¨çš„æ˜¯ä½ è¦ä¸Šå‚³çš„ public key æª”æ¡ˆè·¯å¾‘-p: p flag å‰‡æ˜¯ç›®çš„åœ°ä¸»æ©Ÿçš„ OpenSSH ä¼ºæœå™¨çš„åŸ è™Ÿ-p: p flag å‰‡æ˜¯ç›®çš„åœ°ä¸»æ©Ÿçš„ OpenSSH ä¼ºæœå™¨çš„åŸ è™Ÿid_ed25519.pub ç‚ºæˆ‘ç”¢ç”Ÿçš„å…¶ä»–çš„ key pairï¼Œå¦‚æœä½ å‰é¢æ˜¯ç…§è‘—æˆ‘çš„æ­¥é©Ÿç”¢ç”Ÿï¼Œé€™è£¡æ‡‰è©²æ”¹ç‚º id_rsa.pubid_ed25519.pub ç‚ºæˆ‘ç”¢ç”Ÿçš„å…¶ä»–çš„ key pairï¼Œå¦‚æœä½ å‰é¢æ˜¯ç…§è‘—æˆ‘çš„æ­¥é©Ÿç”¢ç”Ÿï¼Œé€™è£¡æ‡‰è©²æ”¹ç‚º id_rsa.pubé€™è£¡çš„ asis ç‚ºç¬¬ä¸€ç«  ä½¿ç”¨è€…è¨­å®š çš„é è¨­ä½¿ç”¨è€…é€™è£¡çš„ asis ç‚ºç¬¬ä¸€ç«  ä½¿ç”¨è€…è¨­å®š çš„é è¨­ä½¿ç”¨è€…192.168.0.13 ç‚ºæˆ‘è™›æ“¬ä¸»æ©Ÿçš„ ip ä½å€ï¼ŒæŸ¥è©¢ ip ä½å€å¯ä»¥å…ˆæ‰‹å‹•ç™»å…¥è™›æ“¬ä¸»æ©Ÿå¾Œï¼Œç”¨ hostname -æˆ–æ˜¯ ip addr show æŒ‡ä»¤æŸ¥è©¢192.168.0.13 ç‚ºæˆ‘è™›æ“¬ä¸»æ©Ÿçš„ ip ä½å€ï¼ŒæŸ¥è©¢ ip ä½å€å¯ä»¥å…ˆæ‰‹å‹•ç™»å…¥è™›æ“¬ä¸»æ©Ÿå¾Œï¼Œç”¨ hostname -æˆ–æ˜¯ ip addr show æŒ‡ä»¤æŸ¥è©¢å®Œæˆå¾Œæœƒæç¤ºä½ å·²ç¶“å¯ä»¥ä½¿ç”¨ ssh é€£ç·šå¦‚æœä½ æ˜¯ Windows çš„ä½¿ç”¨è€…ä¹Ÿä¸ç”¨æ“”å¿ƒå¤šè¤‡é›œï¼Œä¸€æ¨£ä¸€è¡ŒæŒ‡ä»¤å°±èƒ½æå®šï¼Œé€™è£¡æˆ‘æ˜¯åƒè€ƒ(Christopher 2020)çš„æ•™å­¸ï¼ŒæŒ‡ä»¤å¦‚ä¸‹:é€™è£¡çš„ $env:USERPROFILE ç‚º Windows å…§å»ºç’°å¢ƒè®Šæ•¸ï¼Œæœƒæ ¹æ“šç¾åœ¨çš„ä½¿ç”¨è€…è®Šæ›´ï¼Œå¦‚æœæˆ‘çš„ä½¿ç”¨è€…åç¨±ç‚º qaz855175b é‚£ $env:USERPROFILE å°æ‡‰çš„è·¯å¾‘å°±ç‚º C:\\Users\\qaz855175b\\ï¼Œç•¶ç„¶ä½ å¯ä»¥ç›´æ¥æŠŠæŒ‡ä»¤çš„ public key è·¯å¾‘æ›¿æ›ç‚º C:\\Users\\qaz855175b\\.ssh\\id_rsa.pubé€™è£¡çš„ $env:USERPROFILE ç‚º Windows å…§å»ºç’°å¢ƒè®Šæ•¸ï¼Œæœƒæ ¹æ“šç¾åœ¨çš„ä½¿ç”¨è€…è®Šæ›´ï¼Œå¦‚æœæˆ‘çš„ä½¿ç”¨è€…åç¨±ç‚º qaz855175b é‚£ $env:USERPROFILE å°æ‡‰çš„è·¯å¾‘å°±ç‚º C:\\Users\\qaz855175b\\ï¼Œç•¶ç„¶ä½ å¯ä»¥ç›´æ¥æŠŠæŒ‡ä»¤çš„ public key è·¯å¾‘æ›¿æ›ç‚º C:\\Users\\qaz855175b\\.ssh\\id_rsa.pubid_rsa.pub ç‚ºç”¢ç”Ÿçš„ public key é è¨­åç¨±id_rsa.pub ç‚ºç”¢ç”Ÿçš„ public key é è¨­åç¨±é€™è£¡çš„ asis ç‚ºç¬¬ä¸€ç«  ä½¿ç”¨è€…è¨­å®š çš„é è¨­ä½¿ç”¨è€…é€™è£¡çš„ asis ç‚ºç¬¬ä¸€ç«  ä½¿ç”¨è€…è¨­å®š çš„é è¨­ä½¿ç”¨è€…192.168.0.13 ç‚ºæˆ‘è™›æ“¬ä¸»æ©Ÿçš„ ip ä½å€ï¼ŒæŸ¥è©¢ ip ä½å€å¯ä»¥å…ˆæ‰‹å‹•ç™»å…¥è™›æ“¬ä¸»æ©Ÿå¾Œï¼Œç”¨ hostname -æˆ–æ˜¯ ip addr show æŒ‡ä»¤æŸ¥è©¢192.168.0.13 ç‚ºæˆ‘è™›æ“¬ä¸»æ©Ÿçš„ ip ä½å€ï¼ŒæŸ¥è©¢ ip ä½å€å¯ä»¥å…ˆæ‰‹å‹•ç™»å…¥è™›æ“¬ä¸»æ©Ÿå¾Œï¼Œç”¨ hostname -æˆ–æ˜¯ ip addr show æŒ‡ä»¤æŸ¥è©¢å…¶å¯¦ Linux çš„ ssh-copy-idã€å’Œç¬¬ä¸€ç« çš„å¾ Github åŒ¯å…¥ public key ssh-import-id-gh èˆ‡é€™è£¡çš„ cat file >> ~/.ssh/authorized_keys éƒ½æ˜¯åœ¨åšåŒä¸€ä»¶äº‹æƒ…ï¼ŒæŠŠ public key è²¼åˆ°é ç«¯ä¼ºæœå™¨çš„ä½¿ç”¨è€…çš„ authorized_keys æª”æ¡ˆè£¡é¢ã€‚æ¥è‘—æŒ‰ Enterâ†©ï¸ï¼Œè·³å‡ºè¼¸å…¥å¯†ç¢¼æç¤ºï¼Œé€™è£¡è¼¸å…¥é è¨­çš„ä½¿ç”¨è€…å¯†ç¢¼ asisè¼¸å…¥å®Œå¾Œé›–ç„¶æ²’æœ‰ä»»ä½•æç¤ºè¨Šæ¯ï¼Œä½†å…¶å¯¦å·²ç¶“å¯ä»¥ä½¿ç”¨ ssh é€£ç·šè‡³é ç«¯ä¸»æ©Ÿå•¦ï½","code":"ssh-copy-id -i ~/.ssh/id_ed25519.pub -p 22 asis@192.168.0.13/usr/bin/ssh-copy-id: INFO: Source of key(s) to be installed: \"/home/kuaz/.ssh/id_ed25519.pub\"\n/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed\n/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys\n\nNumber of key(s) added: 1\n\nNow try logging into the machine, with:   \"ssh -p '22' 'asis@192.168.0.13'\"\nand check to make sure that only the key(s) you wanted were added.cat $env:USERPROFILE\\.ssh\\id_rsa.pub | ssh asis@192.168.0.13 \"cat >> ~/.ssh/authorized_keys\"asis@192.168.0.13's password:"},{"path":"ubuntu-çš„åŸºæœ¬è¨­å®š.html","id":"step-4-æ¸¬è©¦-ssh-é€£ç·šä½¿ç”¨-ssh-é€£ç·šè‡³é ç«¯ä¸»æ©Ÿ","chapter":"ç« ç¯€ 2 Ubuntu çš„åŸºæœ¬è¨­å®š","heading":"2.2.6 Step 4 â€” æ¸¬è©¦ SSH é€£ç·šï¼Œä½¿ç”¨ SSH é€£ç·šè‡³é ç«¯ä¸»æ©Ÿ","text":"æœ€å¾Œï¼Œä½¿ç”¨ ssh æŒ‡ä»¤é€£æ¥è‡³é ç«¯ä¸»æ©Ÿã€‚ä½¿ç”¨ OpenSSH Client ç”¢ç”Ÿçš„ pair keys å¯ä»¥ç›´æ¥ä½¿ç”¨é€™å€‹æ–¹æ³•é€£ç·šã€‚é€™è£¡ä»‹ç´¹å¹¾å€‹å¸¸å¸¸èˆ‡ ssh ä¸€èµ·å‡ºç¾çš„ flag :-v: verboseï¼Œé¡¯ç¤ºé€£æ¥æ™‚æ›´è©³ç´°çš„è¨Šæ¯ï¼Œé™¤éŒ¯æ™‚å¸¸ç”¨-v: verboseï¼Œé¡¯ç¤ºé€£æ¥æ™‚æ›´è©³ç´°çš„è¨Šæ¯ï¼Œé™¤éŒ¯æ™‚å¸¸ç”¨-p: port;ï¼Œé ç«¯ä¼ºæœå™¨çš„åŸ è™Ÿ-p: port;ï¼Œé ç«¯ä¼ºæœå™¨çš„åŸ è™Ÿ-: æ‰‹å‹•æŒ‡å®šç§é‘°ä½ç½®-: æ‰‹å‹•æŒ‡å®šç§é‘°ä½ç½®flag é€šå¸¸æœƒåœ¨æŒ‡ä»¤å¾Œé¢éš¨å¾Œå‡ºç¾ï¼Œflagå‰é¢æœƒæ’å…¥ -ï¼Œè€Œ flag å¾Œé¢æœ‰æ™‚æœƒéœ€è¦åŠ å…¥è©³ç´°çš„è¨­å®šï¼Œæœ‰æ™‚ä¸ç”¨ã€‚flag èˆ‡ flag ä¹‹é–“ç”¨ç©ºæ ¼éš”é–‹ï¼Œè©³ç´°æŒ‡ä»¤çš„ä½¿ç”¨æ–¹æ³•å¯ä»¥åœ¨ Linux ç³»çµ±ç”¨ man <æŒ‡ä»¤åç¨±> æŸ¥è©¢å‡å¦‚æˆ‘å€‘è¦çœ‹é€£ç·šçš„è©³ç´°è¨Šæ¯ï¼Œä¸”æŒ‡å®šä¼ºæœå™¨ port ç‚º 60000èˆ‡æŒ‡å®š private key æª”æ¡ˆä½å€ç­‰ç­‰ï¼Œçµ„åˆèµ·ä¾†å°±æ˜¯:ç›®å‰ä¸éœ€è¦åŠ ä¸Šä»»ä½• flagï¼Œé€£ç·šæŒ‡ä»¤ç‚ºï¼šä¸€æ¨£åœ°ï¼Œasis æ˜¯ä½¿ç”¨è€…åç¨±ï¼Œè€Œ192.168.0.13 æ˜¯ OpenSSH ä¼ºæœå™¨çš„ ip ä½ç½®ï¼Œè¼¸å…¥å®Œå¾ŒæŒ‰ Enterâ†©ï¸ã€‚é€™é‚Šæ‰“ yes å³å¯ï¼Œç¢ºèªé€£æ¥ç›®çš„åœ°æ²’æœ‰éŒ¯ä¹‹å¾Œï¼ŒæœƒæŠŠ fingerprint å¯«å…¥ ~/.ssh/known_hosts ä¸­ï¼Œä»¥å¾Œä¸å†è©¢å•ã€‚é€™è£¡ä¸ç”¨æŒ‡å®š private key çš„åŸå› æ˜¯å› ç‚ºï¼Œç•¶ä½ ç”¨ ssh é€£ç·šè‡³ç›®çš„åœ°ä¼ºæœå™¨ä¸”ä½ æ²’æœ‰æŒ‡å®šèªè­‰æª”æ¡ˆï¼ˆç§é‘°ï¼‰æ™‚ï¼Œssh æœƒä¸€å€‹ key ä¸€å€‹ key æ‹¿å»å•ä¼ºæœå™¨é€™å€‹ key å¯ä¸å¯ä»¥ä½¿ç”¨ã€‚é€£æ¥æˆåŠŸ!\nåœ– 2.2: Windows Terminal ä¸‹çš„ SSH é€£æ¥æˆåŠŸç•«é¢\næ¸¬è©¦å®Œç¢ºèªæ²’å•é¡Œå°±å¯ä»¥æŠŠè™›æ“¬æ©Ÿæ™¾åœ¨ä¸€æ—äº†ï½\nåœ– 2.3: VirtualBox çš„è™›æ“¬ä¸»æ©Ÿçµ‚ç«¯æ©Ÿç•«é¢\n","code":"ssh -v -p 60000 -i ~/.ssh/id_rsa asis@192.168.0.13ssh asis@192.168.0.13The authenticity of host '192.168.0.13 (192.168.0.13)' can't be established.\nECDSA key fingerprint is SHA256:/HoocrLXe63zycdlmkh/+U3RuUfkawNq/xA0gTJmqmM.\nAre you sure you want to continue connecting (yes/no/[fingerprint])?"},{"path":"ubuntu-çš„åŸºæœ¬è¨­å®š.html","id":"step-5-ä½¿é ç«¯çš„-openssh-ä¼ºæœå™¨æ›´åŠ å®‰å…¨-å¯è·³é","chapter":"ç« ç¯€ 2 Ubuntu çš„åŸºæœ¬è¨­å®š","heading":"2.2.7 Step 5 â€” ä½¿é ç«¯çš„ OpenSSH ä¼ºæœå™¨æ›´åŠ å®‰å…¨ [å¯è·³é]","text":"","code":""},{"path":"ubuntu-çš„åŸºæœ¬è¨­å®š.html","id":"è®Šæ›´-ssh-ä¼ºæœå™¨é è¨­çš„åŸ è™Ÿ","chapter":"ç« ç¯€ 2 Ubuntu çš„åŸºæœ¬è¨­å®š","heading":"2.2.7.1 è®Šæ›´ SSH ä¼ºæœå™¨é è¨­çš„åŸ è™Ÿ","text":"å°‡ #Port 22 å–æ¶ˆè¨»è§£ï¼Œä¸¦æŠŠ 22 æ”¹æˆå…¶ä»–ä»‹æ–¼ 1-65535 ä¹‹é–“çš„æ•¸å­—ã€‚","code":"sudo vim /etc/ssh/sshd_config#       $OpenBSD: sshd_config,v 1.103 2018/04/09 20:41:22 tj Exp $\n\n# This is the sshd server system-wide configuration file.  See \n# sshd_config(5) for more information.\n\n# This sshd was compiled with PATH=/usr/bin:/bin:/usr/sbin:/sbin\n\n# The strategy used for options in the default sshd_config shipped with\n# OpenSSH is to specify options with their default value where\n# possible, but leave them commented.  Uncommented options override the\n# default value.\n\nInclude /etc/ssh/sshd_config.d/*.conf\n\nPort 60000\n#AddressFamily any\n#ListenAddress 0.0.0.0\n#ListenAddress ::"},{"path":"ubuntu-çš„åŸºæœ¬è¨­å®š.html","id":"é—œé–‰å¯†ç¢¼é©—è­‰","chapter":"ç« ç¯€ 2 Ubuntu çš„åŸºæœ¬è¨­å®š","heading":"2.2.7.2 é—œé–‰å¯†ç¢¼é©—è­‰","text":"å°‡ PasswordAuthenticationï¼ˆä»¥å¯†ç¢¼é©—è­‰ï¼‰è¨­ç‚º ã€‚ä½¿ç”¨ SSH é€£ç·šæ™‚ï¼Œå¦‚æœæ²’æœ‰æŒ‡å®š SSH key pairï¼Œå¦‚æœ OpenSSH ä¼ºæœå™¨çš„è¨­å®šæ²’æœ‰é—œé–‰ï¼Œæ¥è‘—æœƒè¦æ±‚ä½ è¼¸å…¥ä½¿ç”¨è€…å¯†ç¢¼ä»¥å¯†ç¢¼é©—è­‰ã€‚é€šå¸¸é€™å€‹è¨­å®šæœƒé–‹å•Ÿæ˜¯å› ç‚ºè¦Step 3 â€” å°‡æ–°å¢çš„ key pairs ä¸Šå‚³è‡³ç›®çš„åœ°ä¸»æ©Ÿã€‚ç•¶ç„¶å¦‚æœå¯†ç¢¼é©—è­‰ç‚º ï¼Œä¸”åŒæ™‚éºå¤± SSH çš„ pair key æ™‚ï¼Œä½ å°±ç„¡æ³•ä»¥ SSH é€£ç·šè‡³é ç«¯ä¸»æ©Ÿï¼Œéœ€è¦å¯¦éš›çš„ä½¿ç”¨åœ–å½¢ä»‹é¢æ“ä½œè™›æ“¬æ©Ÿå™¨ã€‚","code":"PasswordAuthentication no"},{"path":"ubuntu-çš„åŸºæœ¬è¨­å®š.html","id":"é—œé–‰é ç«¯-root-ç™»å…¥","chapter":"ç« ç¯€ 2 Ubuntu çš„åŸºæœ¬è¨­å®š","heading":"2.2.7.3 é—œé–‰é ç«¯ root ç™»å…¥","text":"é¿å… root ç™»å…¥å¯ä»¥ä½¿ç³»çµ±é¿å…éå¤§çš„æ¬Šé™æš´éœ²ã€‚","code":"PermitRootLogin no"},{"path":"ubuntu-çš„åŸºæœ¬è¨­å®š.html","id":"é™åˆ¶èƒ½ä½¿ç”¨-ssh-é€£ç·šçš„ä½¿ç”¨è€…","chapter":"ç« ç¯€ 2 Ubuntu çš„åŸºæœ¬è¨­å®š","heading":"2.2.7.4 é™åˆ¶èƒ½ä½¿ç”¨ SSH é€£ç·šçš„ä½¿ç”¨è€…","text":"åªå…è¨±ç‰¹å®šçš„ä½¿ç”¨è€…ä½¿ç”¨ SSH é€£ç·šå¯å¤§å¤§é™ä½é¢¨éšªã€‚","code":"AllowUsers asis"},{"path":"ubuntu-çš„åŸºæœ¬è¨­å®š.html","id":"é—œé–‰ç„¡å¯†ç¢¼çš„ä½¿ç”¨è€…ä½¿ç”¨-ssh","chapter":"ç« ç¯€ 2 Ubuntu çš„åŸºæœ¬è¨­å®š","heading":"2.2.7.5 é—œé–‰ç„¡å¯†ç¢¼çš„ä½¿ç”¨è€…ä½¿ç”¨ SSH","text":"å°‡æ²’æœ‰å¯†ç¢¼å°±å¯ä»¥ç™»å…¥çš„ä½¿ç”¨è€…æ’¤éŠ· SSH é€£ç·šçš„æ¬Šé™ã€‚","code":"PermitEmptyPasswords no"},{"path":"ubuntu-çš„åŸºæœ¬è¨­å®š.html","id":"step-6-æ¸¬è©¦-sshd_config-æ˜¯å¦æœ‰æ•ˆ","chapter":"ç« ç¯€ 2 Ubuntu çš„åŸºæœ¬è¨­å®š","heading":"2.2.8 Step 6 â€” æ¸¬è©¦ sshd_config æ˜¯å¦æœ‰æ•ˆ","text":"-t æ——æ¨™å¯ä»¥æ¸¬è©¦ SSH çš„è¨­å®šæ˜¯å¦æœ‰æ•ˆï¼Œå¯ä»¥é¿å…ä¸€äº›éŒ¯å­—é€ æˆçš„éŒ¯èª¤ã€‚å°‡ç³»çµ±ä¸Šçš„ SSH daemon é‡æ–°å•Ÿå‹•ï¼Œé‡æ–°å•Ÿå‹• SSH æœå‹™ã€‚ç¢ºèª SSH æœå‹™æ­£å¸¸é‹è¡Œï¼Œæ²’æœ‰å‡ºç¾éŒ¯èª¤ã€‚æœ€å¾ŒæŒ‡ä»¤ exit æ–·é–‹é€£ç·šï¼Œå†é‡æ–°æ¸¬è©¦ ssh é ç«¯é€£ç·šè‡³ä¼ºæœå™¨ï¼Œä½¿ç”¨å…¬é‘°èˆ‡ç§é‘°é©—è­‰ç™»å…¥ã€‚é€£ç·šæˆåŠŸï½ğŸ–¼","code":"sudo sshd -tsudo systemctl restart sshdsudo systemctl status sshdâ— ssh.service - OpenBSD Secure Shell server\n     Loaded: loaded (/lib/systemd/system/ssh.service; enabled; vendor preset: enabled)\n     Active: active (running) since Sun 2021-08-15 16:08:55 UTC; 19h ago\n       Docs: man:sshd(8)\n             man:sshd_config(5)\n    Process: 850 ExecStartPre=/usr/sbin/sshd -t (code=exited, status=0/SUCCESS)\n   Main PID: 893 (sshd)\n      Tasks: 1 (limit: 4617)\n     Memory: 5.4M\n     CGroup: /system.slice/ssh.service\n             â””â”€893 sshd: /usr/sbin/sshd -D [listener] 0 of 10-100 startups\n\nAug 15 16:08:54 asis01 systemd[1]: Starting OpenBSD Secure Shell server...\nAug 15 16:08:55 asis01 sshd[893]: Server listening on 0.0.0.0 port 60000.\nAug 15 16:08:55 asis01 sshd[893]: Server listening on :: port 60000.\nAug 15 16:08:55 asis01 systemd[1]: Started OpenBSD Secure Shell server.ssh -p 60000 asis@192.168.0.13Welcome to Ubuntu 20.04.2 LTS (GNU/Linux 5.4.0-81-generic x86_64)\n\n * Documentation:  https://help.ubuntu.com\n * Management:     https://landscape.canonical.com\n * Support:        https://ubuntu.com/advantage\n\n  System information as of Mon 16 Aug 2021 12:32:20 PM UTC\n\n  System load:             0.0\n  Usage of /:              0.7% of 974.32GB\n  Memory usage:            5%\n  Swap usage:              0%\n  Processes:               124\n  Users logged in:         0\n  IPv4 address for enp0s3: 192.168.0.13\n  IPv6 address for enp0s3: fd00:1cab:c0bb:acc2:a00:27ff:fed3:8136\n\n * Super-optimized for small spaces - read how we shrank the memory\n   footprint of MicroK8s to make it the smallest full K8s around.\n\n   https://ubuntu.com/blog/microk8s-memory-optimisation\n\n0 updates can be applied immediately.\n\n\nLast login: Mon Aug 16 12:31:35 2021 from 192.168.0.11"},{"path":"ubuntu-çš„åŸºæœ¬è¨­å®š.html","id":"apt","chapter":"ç« ç¯€ 2 Ubuntu çš„åŸºæœ¬è¨­å®š","heading":"2.3 APT","text":"åœ¨ Ubuntu ä¸Šå®‰è£ä»»ä½•ç¨‹å¼å¤§å¤šéƒ½æ˜¯ç”¨ APT (Advanced Packaging Tools) å®‰è£ï¼Œé€™è£¡æœ‰å…©å€‹æŒ‡ä»¤ï¼Œç”¨ && ä¸²æ¥åœ¨ä¸€èµ·:apt update: æ›´æ–°å¯å®‰è£çš„å¥—ä»¶åˆ—è¡¨æˆ–ç‰ˆæœ¬apt update: æ›´æ–°å¯å®‰è£çš„å¥—ä»¶åˆ—è¡¨æˆ–ç‰ˆæœ¬apt upgrade: å®‰è£ç¨‹å¼apt upgrade: å®‰è£ç¨‹å¼&&: && ä¹‹å‰çš„æŒ‡ä»¤åŸ·è¡ŒæˆåŠŸæ‰æœƒæ¥çºŒåŸ·è¡Œ && å¾Œé¢çš„æŒ‡ä»¤&&: && ä¹‹å‰çš„æŒ‡ä»¤åŸ·è¡ŒæˆåŠŸæ‰æœƒæ¥çºŒåŸ·è¡Œ && å¾Œé¢çš„æŒ‡ä»¤-y, --yes, --assume-yes: è‡ªå‹•å°å®‰è£æç¤ºå›ç­” yesï¼Œå®‰è£æ™‚æœƒæç¤ºæ˜¯å¦ç¢ºèªè¦å®‰è£è©²è»Ÿé«”ï¼Œå› ç‚ºæˆ‘å€‘æ¸…æ¥šè‡ªå·±åœ¨åšä»€éº¼ç‚ºäº†æ–¹ä¾¿è€ŒæŠŠæç¤ºé—œæ‰-y, --yes, --assume-yes: è‡ªå‹•å°å®‰è£æç¤ºå›ç­” yesï¼Œå®‰è£æ™‚æœƒæç¤ºæ˜¯å¦ç¢ºèªè¦å®‰è£è©²è»Ÿé«”ï¼Œå› ç‚ºæˆ‘å€‘æ¸…æ¥šè‡ªå·±åœ¨åšä»€éº¼ç‚ºäº†æ–¹ä¾¿è€ŒæŠŠæç¤ºé—œæ‰","code":"sudo apt update && sudo apt upgrade -y"},{"path":"ubuntu-çš„åŸºæœ¬è¨­å®š.html","id":"ufw","chapter":"ç« ç¯€ 2 Ubuntu çš„åŸºæœ¬è¨­å®š","heading":"2.4 UFW","text":"UFWï¼ˆUncomplicated Firewallï¼‰æ˜¯é è¨­åœ¨ Ubuntu ç³»çµ±ä¸Šçš„é˜²ç«ç‰†ï¼Œé€™è£¡å…ˆç‚ºäº† OpenSSH ä¼ºæœå™¨è€Œæ‰“é–‹åŸ è™Ÿ 60000ã€‚é¦–å…ˆç”¨ status æŸ¥è©¢ UFW çš„ç‹€æ…‹ï¼Œé€™è£¡éœ€è¦è¼¸å…¥è¶…ç´šä½¿ç”¨è€… (sudo) çš„å¯†ç¢¼ã€‚çœ‹ä¾†é è¨­çš„ UFW æ˜¯é—œé–‰çš„æ¥è‘—ç”¨ systemctl æ‰“é–‹é˜²ç«ç‰†æŸ¥è©¢é˜²ç«ç‰†ç‹€æ…‹å…è¨±åŸ è™Ÿ 60000 å¾ä»»ä½•åœ°æ–¹é€£å…¥æŸ¥è©¢é˜²ç«ç‰†ç‹€æ…‹ç›®å‰åªæœ‰å…©æ¢è¦å‰‡ï¼Œåˆ†åˆ¥æ˜¯ å¾ä»»ä½•åœ°æ–¹é€£å…¥åŸ è™Ÿ 60000 èˆ‡ ipv6 å¾ä»»ä½•åœ°æ–¹é€£å…¥åŸ è™Ÿ 60000","code":"sudo ufw statusStatus: inactivesudo systemctl enable ufwsudo ufw statusStatus: activesudo ufw allow 60000sudo ufw statusStatus: active\n\nTo                         Action      From\n--                         ------      ----\n60000                      ALLOW       Anywhere\n60000 (v6)                 ALLOW       Anywhere (v6)"},{"path":"lamp-ç¨‹å¼é›†.html","id":"lamp-ç¨‹å¼é›†","chapter":"ç« ç¯€ 3 LAMP ç¨‹å¼é›†","heading":"ç« ç¯€ 3 LAMP ç¨‹å¼é›†","text":"LAMP æ˜¯ç”± 4 å€‹å–®å­—é–‹é ­çš„å­—çµ„æˆçš„è©ã€‚ LAMP è®“ä½ å¯ä»¥åœ¨ä¸€å°ç³»çµ±ç‚º Linux çš„é›»è…¦ä¸Šï¼Œç”¨ Apache æ¶è¨­ç¶²ç«™ä¼ºæœå™¨ï¼Œå…¶ä¸­è³‡æ–™å„²å­˜åœ¨ MySQL è£¡é¢ï¼Œæœ€å¾Œç”¨ PHP åŸ·è¡Œå‹•æ…‹çš„ç¶²ç«™ã€‚é€™ç« æœƒæ•™ä½ æ€éº¼å®‰è£ LAMP ç¨‹å¼é›†ã€‚","code":""},{"path":"lamp-ç¨‹å¼é›†.html","id":"äº‹å‰æº–å‚™-2","chapter":"ç« ç¯€ 3 LAMP ç¨‹å¼é›†","heading":"3.1 äº‹å‰æº–å‚™","text":"åœ¨å®‰è£è»Ÿé«”ä¹‹å‰ï¼Œä½ éœ€è¦æœ‰ä¸€å€‹å¯ä»¥åŸ·è¡Œ sudo æŒ‡ä»¤çš„ä½¿ç”¨è€…ã€‚ å¦‚æœä½ æ˜¯ç…§è‘—å…ˆå‰çš„æ•™å­¸åšçš„è©±ï¼Œé€™å€‹ä½¿ç”¨è€…ç‚ºå®‰è£æ™‚çš„é è¨­ä½¿ç”¨è€… asisã€‚","code":""},{"path":"lamp-ç¨‹å¼é›†.html","id":"apache","chapter":"ç« ç¯€ 3 LAMP ç¨‹å¼é›†","heading":"3.2 Apache","text":"Apache HTTP Serverï¼ˆç°¡ç¨± Apacheï¼‰ï¼Œæ˜¯ä¸€å€‹é–‹æ”¾åŸå§‹ç¢¼çš„ç¨‹å¼ï¼Œè¢«ç”¨ä¾†ç•¶ä½œç¶²é çš„ä¼ºæœå™¨ï¼Œæ˜¯ç›®å‰æµè¡Œçš„ç¶²é ä¼ºæœå™¨ä¹‹ä¸€ã€‚","code":""},{"path":"lamp-ç¨‹å¼é›†.html","id":"æ¦‚è¿°-1","chapter":"ç« ç¯€ 3 LAMP ç¨‹å¼é›†","heading":"3.2.1 æ¦‚è¿°","text":"æœ¬ç« ç¯€æœƒè¬›è¿° Apache ç¶²é ä¼ºæœå™¨çš„å®‰è£èˆ‡é˜²ç«ç‰†çš„å®‰å…¨æ€§è¨­å®šã€‚","code":""},{"path":"lamp-ç¨‹å¼é›†.html","id":"step-1-å®‰è£-apache","chapter":"ç« ç¯€ 3 LAMP ç¨‹å¼é›†","heading":"3.2.2 Step 1 â€” å®‰è£ Apache","text":"é¦–å…ˆå…ˆæ›´æ–°å¥—ä»¶ç®¡ç†ç¨‹å¼ï¼ˆAPTï¼‰çš„ä¾†æºï¼šç¢ºèªæ˜¯å¦æ˜¯æˆ‘å€‘è¦å®‰è£çš„ Apache ç‰ˆæœ¬å¯ä»¥å¾å¥—ä»¶çš„æè¿°çœ‹åˆ°ï¼Œç¢ºå¯¦æ˜¯æˆ‘å€‘è¦çš„ Apache HTTP Serverã€‚æ¥è‘—é€²è¡Œå®‰è£ Apache2ã€‚é€™è£¡ç”¨éµç›¤è¼¸å…¥ y å¾ŒæŒ‰ Enterâ†©ï¸ é€å‡ºã€‚ä¹Ÿå¯ä»¥åœ¨å®‰è£æ™‚åŠ ä¸Š --yes ç•¥éç¢ºèªå®‰è£æç¤ºã€‚","code":"sudo apt updatesudo apt info apache2Package: apache2\nVersion: 2.4.41-4ubuntu3.4\nPriority: optional\nSection: web\nOrigin: Ubuntu\nMaintainer: Ubuntu Developers <ubuntu-devel-discuss@lists.ubuntu.com>\nOriginal-Maintainer: Debian Apache Maintainers <debian-apache@lists.debian.org>\nBugs: https://bugs.launchpad.net/ubuntu/+filebug\nInstalled-Size: 542 kB\nProvides: httpd, httpd-cgi\nPre-Depends: dpkg (>= 1.17.14)\nDepends: apache2-bin (= 2.4.41-4ubuntu3.4), apache2-data (= 2.4.41-4ubuntu3.4), apache2-utils (= 2.4.41-4ubuntu3.4), lsb-base, mime-support, perl:any, procps\nRecommends: ssl-cert\nSuggests: apache2-doc, apache2-suexec-pristine | apache2-suexec-custom, www-browser, ufw\nConflicts: apache2.2-bin, apache2.2-common\nBreaks: libapache2-mod-proxy-uwsgi (<< 2.4.33)\nReplaces: apache2.2-bin, apache2.2-common, libapache2-mod-proxy-uwsgi (<< 2.4.33)\nHomepage: https://httpd.apache.org/\nTask: lamp-server\nDownload-Size: 95.5 kB\nAPT-Sources: http://tw.archive.ubuntu.com/ubuntu focal-updates/main amd64 Packages\nDescription: Apache HTTP Server\n The Apache HTTP Server Project's goal is to build a secure, efficient and\n extensible HTTP server as standards-compliant open source software. The\n result has long been the number one web server on the Internet.\n .\n Installing this package results in a full installation, including the\n configuration files, init scripts and support scripts.sudo apt install apache2Reading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nThe following additional packages will be installed:\n  apache2-bin apache2-data apache2-utils libapr1 libaprutil1 libaprutil1-dbd-sqlite3 libaprutil1-ldap\n  libjansson4 liblua5.2-0 ssl-cert\nSuggested packages:\n  apache2-doc apache2-suexec-pristine | apache2-suexec-custom www-browser openssl-blacklist\nThe following NEW packages will be installed:\n  apache2 apache2-bin apache2-data apache2-utils libapr1 libaprutil1 libaprutil1-dbd-sqlite3\n  libaprutil1-ldap libjansson4 liblua5.2-0 ssl-cert\n0 upgraded, 11 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 1,865 kB of archives.\nAfter this operation, 8,083 kB of additional disk space will be used.\nDo you want to continue? [Y/n] sudo apt install apache2 --yes"},{"path":"lamp-ç¨‹å¼é›†.html","id":"step-2-èª¿æ•´é˜²ç«ç‰†-ufw-è¨­å®š","chapter":"ç« ç¯€ 3 LAMP ç¨‹å¼é›†","heading":"3.2.3 Step 2 â€” èª¿æ•´é˜²ç«ç‰† UFW è¨­å®š","text":"æœ‰äº›ç¨‹å¼æœƒè‡ªå‹•æŠŠè¨­å®šæª”åŠ å…¥ UFW ä¸­ï¼Œé€™æ¨£å°±å¯ä»¥é€éè¨­å®šæª”å•Ÿç”¨/é—œé–‰è¨­å®šé˜²ç«ç‰†å…è¨±çš„åŸ è™Ÿï¼Œä¸ç”¨å†ç‰¹åˆ¥è¨˜ä¸‹è©²è»Ÿé«”çš„è¨­å®šï¼Œåƒæ˜¯ Apache å°±æ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚é€éæŒ‡ä»¤é¡¯ç¤ºæœ‰ä»€éº¼å¯ç”¨çš„æ‡‰ç”¨ç¨‹å¼è¨­å®šæª”ã€‚ä¸‹åˆ—æ˜¯ç›®å‰å¯ç”¨çš„è¨­å®šæª”ï¼šApacheï¼šæœƒåœ¨é˜²ç«ç‰†æ–°å¢ä¸€å€‹å…è¨±å¾ä»»ä½•åœ°æ–¹é€£ç·šè‡³åŸ è™Ÿ 80 çš„è¦å‰‡ã€‚Apacheï¼šæœƒåœ¨é˜²ç«ç‰†æ–°å¢ä¸€å€‹å…è¨±å¾ä»»ä½•åœ°æ–¹é€£ç·šè‡³åŸ è™Ÿ 80 çš„è¦å‰‡ã€‚Apache Fullï¼šæœƒåœ¨é˜²ç«ç‰†æ–°å¢ä¸€å€‹å…è¨±å¾ä»»ä½•åœ°æ–¹é€£ç·šè‡³åŸ è™Ÿ 80 èˆ‡åŸ è™Ÿ 443 çš„è¦å‰‡ã€‚Apache Fullï¼šæœƒåœ¨é˜²ç«ç‰†æ–°å¢ä¸€å€‹å…è¨±å¾ä»»ä½•åœ°æ–¹é€£ç·šè‡³åŸ è™Ÿ 80 èˆ‡åŸ è™Ÿ 443 çš„è¦å‰‡ã€‚Apache Secureï¼šåœ¨é˜²ç«ç‰†æ–°å¢ä¸€å€‹å…è¨±å¾ä»»ä½•åœ°æ–¹é€£ç·šè‡³åŸ è™Ÿ 443 çš„è¦å‰‡ã€‚Apache Secureï¼šåœ¨é˜²ç«ç‰†æ–°å¢ä¸€å€‹å…è¨±å¾ä»»ä½•åœ°æ–¹é€£ç·šè‡³åŸ è™Ÿ 443 çš„è¦å‰‡ã€‚ä½¿ç”¨æ–¹å¼å¾ˆç°¡å–®ï¼Œè·Ÿå…è¨±åŸ è™Ÿæ™‚çš„æŒ‡ä»¤ä¸€æ¨£ï¼ŒæŠŠåŸ è™Ÿæ”¹æˆè¨­å®šæª”åç¨±å³å¯ã€‚ç¢ºèªå‰›æ‰æœ‰æ²’æœ‰æ–°å¢æˆåŠŸï¼šæ¥è‘—å¯ä»¥é€éç€è¦½å™¨é€£ç·šåˆ°ä¸‹åˆ—ç¶²å€ï¼š\nåœ– 3.1: Apache å®‰è£å¾Œï¼Œé è¨­çš„é¦–é \nå¿˜è¨˜æ€éº¼æ‰¾ ip å¯ä»¥ç”¨ä¸‹åˆ—ä¸‰ç¨®æ–¹æ³•æ‰¾åˆ°ï¼šip show addrç¶²è·¯ä»‹é¢å¡ enp0s3 ä¸Šé¢çš„ inet å¾Œé¢çš„æ•¸å­—å°±æ˜¯ IPhostname -Icurl ifconfig.meæ³¨æ„ï¼šé€™æ˜¯å°å¾ä½ çš„å€åŸŸç¶²è·¯é€£ç·šåˆ°å°å¤–çš„ç¶²è·¯ ipï¼Œå¦‚æœä½ ä¸çŸ¥é“æ˜¯ä»€éº¼ï¼Œç”¨æ–¹æ³• 1 è·Ÿ 2 ä»£æ›¿ã€‚","code":"sudo ufw app listAvailable applications:\n  Apache\n  Apache Full\n  Apache Secure\n  OpenSSHsudo ufw allow \"Apache\"Rule added\nRule added (v6)sudo ufw statusStatus: active\n\nTo                         Action      From\n--                         ------      ----\n60000                      ALLOW       Anywhere                  \nApache                     ALLOW       Anywhere                  \n60000 (v6)                 ALLOW       Anywhere (v6)             \nApache (v6)                ALLOW       Anywhere (v6) http://<è™›æ“¬ä¸»æ©Ÿçš„ ip ä½å€>/1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet 127.0.0.1/8 scope host lo\n       valid_lft forever preferred_lft forever\n    inet6 ::1/128 scope host \n       valid_lft forever preferred_lft forever\n2: enp0s3: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP group default qlen 1000\n    link/ether 08:00:27:59:13:f9 brd ff:ff:ff:ff:ff:ff\n    inet 192.168.0.14/24 brd 192.168.0.255 scope global dynamic enp0s3\n       valid_lft 315329303sec preferred_lft 315329303sec\n    inet6 fd00:1cab:c0bb:acc2:a00:27ff:fe59:13f9/64 scope global dynamic mngtmpaddr noprefixroute \n       valid_lft 535427sec preferred_lft 401570sec\n    inet6 fe80::a00:27ff:fe59:13f9/64 scope link \n       valid_lft forever preferred_lft forever192.168.0.14 fd00:1cab:c0bb:acc2:a00:27ff:fe59:13f9XXX.XXX.XXX.XXX"},{"path":"lamp-ç¨‹å¼é›†.html","id":"mysql","chapter":"ç« ç¯€ 3 LAMP ç¨‹å¼é›†","heading":"3.3 MySQL","text":"MySQLï¼ˆè®€ä½œ -S-Q-Lï¼‰å› ç‚ºå…¶æ•ˆèƒ½é«˜ã€æˆæœ¬ä½ã€å¯ä¿¡è³´çš„åŸå› ï¼Œè¢«å»£å¤§ä¼æ¥­æ‰€ä½¿ç”¨ï¼Œç›®å‰ä¹Ÿæ˜¯æœ€å—æ­¡è¿çš„é–‹æ”¾åŸå§‹ç¢¼è³‡æ–™åº«ç³»çµ±ã€‚","code":""},{"path":"lamp-ç¨‹å¼é›†.html","id":"æ¦‚è¿°-2","chapter":"ç« ç¯€ 3 LAMP ç¨‹å¼é›†","heading":"3.3.1 æ¦‚è¿°","text":"é€™å€‹å°ç¯€æœƒèªªæ˜æ€éº¼å®‰è£ MySQLï¼Œèˆ‡åšç°¡æ˜“çš„å®‰è£å¾Œè¨­å®šã€‚","code":""},{"path":"lamp-ç¨‹å¼é›†.html","id":"step-1-å®‰è£-mysql","chapter":"ç« ç¯€ 3 LAMP ç¨‹å¼é›†","heading":"3.3.2 Step 1 â€” å®‰è£ MySQL","text":"é¦–å…ˆï¼Œé€é Apt å®‰è£ MySQLï¼š","code":"sudo apt install mysql-server -y"},{"path":"lamp-ç¨‹å¼é›†.html","id":"step-2-è¨­å®š-mysql","chapter":"ç« ç¯€ 3 LAMP ç¨‹å¼é›†","heading":"3.3.3 Step 2 â€” è¨­å®š MySQL","text":"æŒ‡ä»¤ mysql_secure_installation æœƒåšä»¥ä¸‹å¹¾ä»¶äº‹ï¼ˆè©³ç´°çš„èªªæ˜å¯ä»¥åœ¨é€™è£¡æ‰¾åˆ°ï¼‰ï¼šä½ å¯ä»¥è¨­å®š root å¸³è™Ÿçš„å¯†ç¢¼ã€‚ä½ å¯ä»¥è¨­å®š root å¸³è™Ÿçš„å¯†ç¢¼ã€‚ä½ å¯ä»¥ç§»é™¤ root å¸³è™Ÿé è¨­å¯ä»¥å¾ä»»ä½•åœ°æ–¹é€£ç·šè‡³æœ¬æ©Ÿçš„è¨­å®šã€‚ä½ å¯ä»¥ç§»é™¤ root å¸³è™Ÿé è¨­å¯ä»¥å¾ä»»ä½•åœ°æ–¹é€£ç·šè‡³æœ¬æ©Ÿçš„è¨­å®šã€‚ä½ å¯ä»¥ç§»é™¤æ²’æœ‰åç¨±çš„åŒ¿åå¸³è™Ÿï¼ˆanonymous-userï¼‰è©³ç´°èªªæ˜å¯ä»¥å¾é€™è£¡æ‰¾åˆ°ã€‚ä½ å¯ä»¥ç§»é™¤æ²’æœ‰åç¨±çš„åŒ¿åå¸³è™Ÿï¼ˆanonymous-userï¼‰è©³ç´°èªªæ˜å¯ä»¥å¾é€™è£¡æ‰¾åˆ°ã€‚ä½ å¯ä»¥ç§»é™¤é è¨­çš„ test è³‡æ–™åº«ï¼ˆé€™å€‹è³‡æ–™åº«ä»»ä½•äººéƒ½å¯ä»¥å­˜å–ï¼Œç”šè‡³æ˜¯åŒ¿åå¸³è™Ÿï¼‰ï¼Œå’Œä»»ä½•ä½¿ç”¨è€…åç¨±æ˜¯ test_ é–‹é ­çš„ä½¿ç”¨è€…å¸³è™Ÿå¯ä»¥å­˜å–ä»»ä½•è³‡æ–™åº«çš„æ¬Šé™ã€‚ä½ å¯ä»¥ç§»é™¤é è¨­çš„ test è³‡æ–™åº«ï¼ˆé€™å€‹è³‡æ–™åº«ä»»ä½•äººéƒ½å¯ä»¥å­˜å–ï¼Œç”šè‡³æ˜¯åŒ¿åå¸³è™Ÿï¼‰ï¼Œå’Œä»»ä½•ä½¿ç”¨è€…åç¨±æ˜¯ test_ é–‹é ­çš„ä½¿ç”¨è€…å¸³è™Ÿå¯ä»¥å­˜å–ä»»ä½•è³‡æ–™åº«çš„æ¬Šé™ã€‚å®‰è£å®Œæˆå¾Œï¼Œæ‰“ä¸‹é¢é€™æ®µæŒ‡ä»¤å•Ÿå‹• MySQL å®‰å…¨å®‰è£ç¨‹åºã€‚å»ºè­°é€™è£¡é¸ ã€‚å¦‚æœé€™è£¡é¸äº† Yesï¼Œé‚£ä¹‹å¾Œåªè¦æ˜¯å‰µå»ºä½¿ç”¨è€…éƒ½æœƒè¦æ±‚ä½ ä½¿ç”¨å¯†ç¢¼å¼·åº¦å¾ˆé«˜çš„å¯†ç¢¼ï¼Œå› ç‚ºè¦è¨­å®šè¤‡é›œçš„å¯†ç¢¼ï¼Œæ‰€ä»¥ä¸é©åˆçµ¦å­¸ç”Ÿä½¿ç”¨ã€‚è®Šæ›´ root å¯†ç¢¼ï¼Œé€™è£¡è¼¸å…¥ Yesé€™å€‹éšæ®µæ˜¯å•ä½ è¦ä¸è¦åˆªé™¤åŒ¿åå¸³è™Ÿï¼Œè¼¸å…¥ Yesé€™è£æ˜¯å•ä½ è¦ä¸è¦è®“ root å¸³è™Ÿå¯ä»¥å¾ä»»ä½•åœ°æ–¹é€£å…¥ï¼Œé€™è£¡ç•¶ç„¶æ˜¯é¸ Noå¦‚æœé¸æ“‡Yesï¼Œæœƒå°‡ä½¿ç”¨è€…å¸³è™Ÿçš„å¯é€£ç·šç¶²åŸŸè¨­ç‚º ï¼…ï¼Œä»£è¡¨ä»»ä½•åœ°æ–¹éƒ½å¯ä»¥é€£å…¥çš„æ„æ€æœ€å¾Œä½¿ç”¨æŒ‡ä»¤æ¸¬è©¦ MySQL é€£ç·šï¼š--user, -uï¼šä½¿ç”¨è€…å¸³è™Ÿ--user, -uï¼šä½¿ç”¨è€…å¸³è™Ÿ--password, -pï¼šä½¿ç”¨è€…å¯†ç¢¼--password, -pï¼šä½¿ç”¨è€…å¯†ç¢¼","code":"sudo mysql_secure_installationSecuring the MySQL server deployment.\n\nConnecting to MySQL using a blank password.\n\nVALIDATE PASSWORD COMPONENT can be used to test passwords\nand improve security. It checks the strength of password\nand allows the users to set only those passwords which are\nsecure enough. Would you like to setup VALIDATE PASSWORD component?\n\nPress y|Y for Yes, any other key for No: NoChange the password for root ? ((Press y|Y for Yes, any other key for No) : YesBy default, a MySQL installation has an anonymous user,\nallowing anyone to log into MySQL without having to have\na user account created for them. This is intended only for\ntesting, and to make the installation go a bit smoother.\nYou should remove them before moving into a production\nenvironment.\n\nRemove anonymous users? (Press y|Y for Yes, any other key for No) : YNormally, root should only be allowed to connect from\n'localhost'. This ensures that someone cannot guess at\nthe root password from the network.\n\nDisallow root login remotely? (Press y|Y for Yes, any other key for No) : Y - Dropping test database...\nSuccess.\n\n - Removing privileges on test database...\nSuccess.\n\nReloading the privilege tables will ensure that all changes\nmade so far will take effect immediately.\n\nReload privilege tables now? (Press y|Y for Yes, any other key for No) : Y\nSuccess.\n\nAll done! mysql -u root -p"},{"path":"lamp-ç¨‹å¼é›†.html","id":"php","chapter":"ç« ç¯€ 3 LAMP ç¨‹å¼é›†","heading":"3.4 PHP","text":"PHPï¼ˆHypertext PreProcessorï¼Œè¶…æ–‡å­—é è™•ç†å™¨ï¼‰ï¼Œå…è¨±ç¶²é é–‹ç™¼äººå“¡é–‹ç™¼å‹•æ…‹ç¶²é ï¼Œæˆªè‡³2021å¹´è¢«ä¸–ç•Œä¸Šè‡³å°‘70%ä»¥ä¸Šçš„ç¶²é æ‰€ä½¿ç”¨ã€‚","code":""},{"path":"lamp-ç¨‹å¼é›†.html","id":"æ¦‚è¿°-3","chapter":"ç« ç¯€ 3 LAMP ç¨‹å¼é›†","heading":"3.4.1 æ¦‚è¿°","text":"åœ¨æœ¬å°ç¯€æœƒèªªæ˜æ€éº¼å®‰è£ PHP èˆ‡ PHP èˆ‡ MySQL æºé€šçš„æ’ä»¶ã€‚","code":""},{"path":"lamp-ç¨‹å¼é›†.html","id":"step-1-å®‰è£-php-php-mysql-æ’ä»¶","chapter":"ç« ç¯€ 3 LAMP ç¨‹å¼é›†","heading":"3.4.2 Step 1 â€” å®‰è£ php & php-mysql æ’ä»¶","text":"å…ˆç¢ºèª php æ˜¯ä¸æ˜¯æˆ‘å€‘è¦å®‰è£çš„ç‰ˆæœ¬å¯ä»¥çœ‹åˆ°ï¼Œç›®å‰ php çš„ä¾è³´å¥—ä»¶æ˜¯ php7.4ï¼Œä»£è¡¨å°‡å®‰è£çš„ç‰ˆæœ¬ç‚º php7.4æ¥è‘—ï¼Œæˆ‘å€‘å†æŸ¥è©¢ä¸€æ¬¡ php7.4 æœƒå®‰è£ä»€éº¼æ±è¥¿é€™è£¡å¯ä»¥çœ‹åˆ° php7.4 å®‰è£äº†æœƒå®‰è£ä¸€äº›ä½¿ php7.4 é †åˆ©é‹ä½œçš„ä¾è³´å¥—ä»¶ï¼Œåƒæ˜¯ libapache2-mod-php7.4ã€php7.4-fpmã€php7.4-cgi èˆ‡ php7.4-commonä¸€æ¨£åœ°ï¼Œé€™è£¡ä¹Ÿç”¨ç›¸åŒçš„æŒ‡ä»¤æŸ¥è©¢ php-mysql å¥—ä»¶å› ç‚º php å·²ç¶“æœ‰ php-common ä¾è³´çš„ï¼Œæ‰€ä»¥å¾…æœƒå…©å€‹å¥—ä»¶ä¸€èµ·å®‰è£æ™‚ï¼Œåªæœƒå®‰è£ä¸€å€‹ php-commonç¢ºèªå®Œæˆ‘å€‘è¦å®‰è£çš„ç‰ˆæœ¬æ˜¯å¦æ­£ç¢ºå¾Œï¼Œç”¨å¥—ä»¶ç®¡ç†ç¨‹å¼ apt å®‰è£å¥—ä»¶ã€‚ç¢ºèª php æ˜¯å¦å®‰è£å®Œæˆï¼Œå¯ä»¥ç”¨ æŒ‡ä»¤ç¢ºèªï¼šç•¶ç³»çµ±ä¸­æœ‰å®‰è£è¤‡æ•¸å€‹ç‰ˆæœ¬çš„ php æ™‚ï¼Œphp åŸ·è¡Œæª”çš„ä½ç½®å¯èƒ½æœƒæœ‰æ‰€ä¸åŒã€‚åŒæ¨£åœ°åœ¨ç¬¬ 5 ç« è¨­ç½® Python 3 ç’°å¢ƒæ™‚ä¹Ÿæœƒé‡åˆ°ã€‚ç¢ºèªå‰›æ‰å®‰è£çš„ php ç‰ˆæœ¬ï¼š","code":"sudo apt info phpPackage: php\nVersion: 2:7.4+75\nPriority: optional\nSection: php\nSource: php-defaults (75)\nOrigin: Ubuntu\nMaintainer: Ubuntu Developers <ubuntu-devel-discuss@lists.ubuntu.com>\nOriginal-Maintainer: Debian PHP Maintainers <team+pkg-php@tracker.debian.org>\nBugs: https://bugs.launchpad.net/ubuntu/+filebug\nInstalled-Size: 13.3 kB\nDepends: php7.4\nDownload-Size: 2,712 B\nAPT-Sources: http://tw.archive.ubuntu.com/ubuntu focal/main amd64 Packages\nDescription: server-side, HTML-embedded scripting language (default)\n PHP (recursive acronym for PHP: Hypertext Preprocessor) is a widely-used\n open source general-purpose scripting language that is especially suited\n for web development and can be embedded into HTML.\n .\n This package is a dependency package, which depends on latest stable\n PHP version (currently 7.4).sudo apt info php7.4Package: php7.4\nVersion: 7.4.3-4ubuntu2.5\nPriority: optional\nSection: php\nOrigin: Ubuntu\nMaintainer: Ubuntu Developers <ubuntu-devel-discuss@lists.ubuntu.com>\nOriginal-Maintainer: Debian PHP Maintainers <team+pkg-php@tracker.debian.org>\nBugs: https://bugs.launchpad.net/ubuntu/+filebug\nInstalled-Size: 73.7 kB\nProvides: php\nDepends: libapache2-mod-php7.4 | php7.4-fpm | php7.4-cgi, php7.4-common\nHomepage: http://www.php.net/\nDownload-Size: 9,244 B\nAPT-Sources: http://tw.archive.ubuntu.com/ubuntu focal-updates/main amd64 Packages\nDescription: server-side, HTML-embedded scripting language (metapackage)\n This package is a metapackage that, when installed, guarantees that you\n have at least one of the four server-side versions of the PHP interpreter\n installed. Removing this package won't remove PHP from your system, however\n it may remove other packages that depend on this one.\n .\n PHP (recursive acronym for PHP: Hypertext Preprocessor) is a widely-used\n open source general-purpose scripting language that is especially suited\n for web development and can be embedded into HTML.sudo apt info php-mysqlPackage: php-mysql\nVersion: 2:7.4+75\nPriority: optional\nSection: php\nSource: php-defaults (75)\nOrigin: Ubuntu\nMaintainer: Ubuntu Developers <ubuntu-devel-discuss@lists.ubuntu.com>\nOriginal-Maintainer: Debian PHP Maintainers <team+pkg-php@tracker.debian.org>\nBugs: https://bugs.launchpad.net/ubuntu/+filebug\nInstalled-Size: 13.3 kB\nDepends: php-common, php7.4-mysql\nTask: lamp-server\nDownload-Size: 2,000 B\nAPT-Sources: http://tw.archive.ubuntu.com/ubuntu focal/main amd64 Packages\nDescription: MySQL module for PHP [default]\n This package provides a MySQL module for PHP.\n .\n PHP (recursive acronym for PHP: Hypertext Preprocessor) is a widely-used\n open source general-purpose scripting language that is especially suited\n for web development and can be embedded into HTML.\n .\n This package is a dependency package, which depends on Debian's default\n PHP version (currently 7.4).sudo apt install php php-mysql --yeswhich php/usr/bin/phpphp --versionPHP 7.4.3 (cli) (built: Jul  5 2021 15:13:35) ( NTS )\nCopyright (c) The PHP Group\nZend Engine v3.4.0, Copyright (c) Zend Technologies\n    with Zend OPcache v7.4.3, Copyright (c), by Zend Technologies"},{"path":"lamp-ç¨‹å¼é›†.html","id":"step-2-å»ºç«‹è™›æ“¬ç¶²ç«™","chapter":"ç« ç¯€ 3 LAMP ç¨‹å¼é›†","heading":"3.4.3 Step 2 â€” å»ºç«‹è™›æ“¬ç¶²ç«™","text":"è™›æ“¬ç¶²ç«™ï¼ˆVirtual Hostï¼‰å¯ä»¥è®“ä½ åœ¨ä¸€å°é›»è…¦åŒæ™‚æ¶è¨­å¤šå€‹ç¶²ç«™ï¼Œæ“æœ‰ä¸åŒçš„åŸŸåã€‚é¦–å…ˆï¼Œæ–¼ apache2 çš„è¨­å®šè³‡æ–™å¤¾ä¸­ï¼Œæ–°å»ºä¸€å€‹å«åš asis.conf çš„è¨­å®šæª”ï¼šå¯«å…¥æ¸¬è©¦ç”¨çš„è¨­å®š/etc/apache2/sites-available/asis.confServerAdminï¼šç¾åœ¨é€™å€‹è®Šæ•¸å·²ç¶“è¢«æ£„ç”¨äº†ï¼Œåœ¨ Apache å…ˆå‰çš„ç‰ˆæœ¬ç•¶ä¼ºæœå™¨å‡ºéŒ¯æ™‚æœƒé¡¯ç¤ºè¯çµ¡ç®¡ç†å“¡çš„æ–¹å¼ã€‚è€Œç¾éšæ®µç‰ˆæœ¬é‚„æ˜¯æœ‰é»ç”¨çš„ï¼Œä½ å¯ä»¥åœ¨ PHP ä¸­å‘¼å« $_SERVER['SERVER_ADMIN'] è®Šæ•¸æœƒé¡¯ç¤º ServerAdmin æ‰€è¨­å®šçš„ Emailã€‚ServerAdminï¼šç¾åœ¨é€™å€‹è®Šæ•¸å·²ç¶“è¢«æ£„ç”¨äº†ï¼Œåœ¨ Apache å…ˆå‰çš„ç‰ˆæœ¬ç•¶ä¼ºæœå™¨å‡ºéŒ¯æ™‚æœƒé¡¯ç¤ºè¯çµ¡ç®¡ç†å“¡çš„æ–¹å¼ã€‚è€Œç¾éšæ®µç‰ˆæœ¬é‚„æ˜¯æœ‰é»ç”¨çš„ï¼Œä½ å¯ä»¥åœ¨ PHP ä¸­å‘¼å« $_SERVER['SERVER_ADMIN'] è®Šæ•¸æœƒé¡¯ç¤º ServerAdmin æ‰€è¨­å®šçš„ Emailã€‚DocumentRootï¼šç¶²ç«™çš„æ ¹ç›®éŒ„DocumentRootï¼šç¶²ç«™çš„æ ¹ç›®éŒ„ErrorLogï¼šéŒ¯èª¤è¨Šæ¯è·¯å¾‘ErrorLogï¼šéŒ¯èª¤è¨Šæ¯è·¯å¾‘CustomLogï¼šè¨­å®š Log çš„æª”æ¡ˆåç¨±èˆ‡æ ¼å¼ï¼Œè©³ç´°èªªæ˜åœ¨æ­¤CustomLogï¼šè¨­å®š Log çš„æª”æ¡ˆåç¨±èˆ‡æ ¼å¼ï¼Œè©³ç´°èªªæ˜åœ¨æ­¤é€é list æŒ‡ä»¤å¯ä»¥çœ‹åˆ°ï¼Œè³‡æ–™å¤¾çš„æ“æœ‰è€…æ˜¯ rootã€‚ æˆ‘å€‘åœ¨å®‰è£ Apache2 çš„éƒ¨åˆ†å¾ http://<è™›æ“¬ä¸»æ©Ÿçš„ ip åœ°å€>/ çœ‹åˆ°çš„å°±æ˜¯ä½æ–¼ /var/www/html/ ä¸­çš„é¦–é ï¼Œæ¥ä¸‹ä¾†æˆ‘å€‘è¦åˆªé™¤ Apache2 é è¨­çš„è¨­å®šï¼Œä¸¦æ¸¬è©¦è‡ªå·±å»ºç«‹çš„è™›æ“¬ç¶²ç«™ï¼ˆVirtualHostï¼‰ã€‚ä¸€æ¨£åœ°ï¼Œä»¥åŒæ¨£åœ°æ–¹æ³•å»ºç«‹ asis è³‡æ–™å¤¾ç”¢ç”Ÿä¸€å€‹æ¸¬è©¦ç”¨çš„é¦–é /var/www/asis/index.htmlä½¿ç”¨ a2dissite æŒ‡ä»¤é—œé–‰é è¨­çš„è¨­å®šæª”ï¼ˆæœ‰èˆˆè¶£å¯ä»¥çœ‹ä¸€ä¸‹é è¨­çš„è¨­å®šæª” 000-default.confï¼Œæœ‰åŠ©æ–¼äº†è§£è¨­å®šæª”æ¡ˆæ€éº¼ç·¨å¯«ï¼‰æ¥è‘—ï¼Œå•Ÿç”¨å‰›æ‰å‰µç«‹çš„è¨­å®šæª” asis.confé‡æ–°è®€å–å‰›æ‰è®Šæ›´çš„è¨­å®šï¼Œä½¿æ–°çš„è¨­å®šç”Ÿæ•ˆæ¥è‘—è‡³ç€è¦½å™¨æ‰“ä¸Šè™›æ“¬æ©Ÿå™¨çš„ ip ä½å€\nåœ– 3.2: Apache2 æ¸¬è©¦è™›æ“¬ç¶²ç«™è¨­å®š\næˆ–æ˜¯ç›´æ¥åœ¨çµ‚ç«¯æ©Ÿä¸­ä½¿ç”¨æŒ‡ä»¤ curl æ¸¬è©¦ asis.conf è¨­å®šæª”ï¼š","code":"sudo vim /etc/apache2/sites-available/asis.conf<VirtualHost *:80>\n    ServerAdmin webmaster@localhost\n    DocumentRoot /var/www/asis\n    ErrorLog ${APACHE_LOG_DIR}/error.log\n    CustomLog ${APACHE_LOG_DIR}/access.log combined\n<\/VirtualHost>ls -al /var/www/total 12\ndrwxr-xr-x  3 root root 4096 Sep  1 06:51 ./\ndrwxr-xr-x 14 root root 4096 Sep  1 06:51 ../\ndrwxr-xr-x  2 root root 4096 Sep  1 06:51 html/sudo mkdir /var/www/asissudo vim /var/www/asis/index.html<!DOCTYPE html>\n<html lang=\"zh-TW\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>Apache VirtualHost config test<\/title>\n<\/head>\n<body>\n  <h1>æˆåŠŸ!<\/h1>\n  <p>æ‚¨çš„ Apache2 è™›æ“¬ç¶²ç«™çš„è¨­å®šé †åˆ©é‹ä½œä¸­ã€‚<\/p>\n<\/body>\n<\/html>sudo a2dissite 000-default.confSite 000-default disabled.\nTo activate the new configuration, you need to run:\n  systemctl reload apache2sudo a2ensite asis.confsudo systemctl reload apache2http://<è™›æ“¬ä¸»æ©Ÿçš„ ip åœ°å€>/curl http://<è™›æ“¬ä¸»æ©Ÿçš„ ip åœ°å€>/<!DOCTYPE html>\n<html lang=\"zh-TW\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>Apache VirtualHost config test<\/title>\n<\/head>\n<body>\n  <h1>æˆåŠŸ!<\/h1>\n  <p>æ‚¨çš„ Apache2 è™›æ“¬ç¶²ç«™çš„è¨­å®šé †åˆ©é‹ä½œä¸­ã€‚<\/p>\n<\/body>\n<\/html>"},{"path":"lamp-ç¨‹å¼é›†.html","id":"phpmyadmin","chapter":"ç« ç¯€ 3 LAMP ç¨‹å¼é›†","heading":"3.5 phpMyAdmin","text":"phpMyAdmin æ˜¯ä¸€å€‹ä»¥ PHP ç‚ºåŸºç¤æ’°å¯«çš„ä¸€å€‹è»Ÿé«”ï¼Œå¯ä»¥è®“ä½¿ç”¨è€…ä»¥ç°¡æ˜“çš„æ–¹å¼æ–°å¢ã€æŸ¥è©¢ã€ä¿®æ”¹ã€åˆªé™¤è³‡æ–™åº«è£¡é¢çš„ç´€éŒ„ã€‚","code":""},{"path":"lamp-ç¨‹å¼é›†.html","id":"æ¦‚è¿°-4","chapter":"ç« ç¯€ 3 LAMP ç¨‹å¼é›†","heading":"3.5.1 æ¦‚è¿°","text":"æœ¬å°ç¯€æœƒèªªæ˜æ€éº¼å®‰è£ phpMyAdmin èˆ‡åŸºç¤çš„å®‰å…¨æ€§è¨­å®šã€‚","code":""},{"path":"lamp-ç¨‹å¼é›†.html","id":"step-1-å®‰è£-phpmyadmin","chapter":"ç« ç¯€ 3 LAMP ç¨‹å¼é›†","heading":"3.5.2 Step 1 â€” å®‰è£ phpMyAdmin","text":"ä¸€æ¨£åœ°ï¼Œç¢ºèª phpmyadmin çš„ç‰ˆæœ¬ç¢ºèªå®Œç•¢å¾Œå®‰è£é€™è£ç”¨ç©ºç™½éµå‹¾é¸ apache2 ä½¿ä¸­æ‹¬è™Ÿä¸­è®Šæˆæ˜Ÿè™Ÿ *\nåœ– 3.3: phpMyAdmin å®‰è£å°è¦½\né€™è£é¸æ“‡ Yes å³å¯é™¤éä½ æƒ³å° phpmyadmin åšæ›´è©³ç´°çš„è¨­å®š\nåœ– 3.4: phpMyAdmin å®‰è£å°è¦½\nç•™ç©ºæœƒè‡ªå‹•ç”¢ç”Ÿä¾› phpmyadmin é€£ç·šè‡³ MySQL ç”¨çš„å¯†ç¢¼ï¼Œæ‰€ä»¥é€™è£¡ç›´æ¥æŒ‰ Ok\nåœ– 3.5: phpMyAdmin å®‰è£å°è¦½\nç•¶å‡ºç¾æ­¤éŒ¯èª¤æ™‚ä¸ç”¨å¤ªæ…Œå¼µï¼Œæ˜¯å› ç‚ºå®‰è£ MySQL æ™‚ï¼Œæœ‰é–‹å•Ÿ Validate Password æ’ä»¶å°è‡´çš„ï¼Œåªéœ€è¦é€éä¸‹åˆ—æŒ‡ä»¤æš«æ™‚é—œé–‰å³å¯ã€‚\nåœ– 3.6: phpMyAdmin å®‰è£å°è¦½ï¼ŒéŒ¯èª¤è¨Šæ¯\nä»¥ root ç™»å…¥è³‡æ–™åº«è§£é™¤å®‰è£æ’ä»¶ valid passwordåœ¨å®‰è£ä¸€æ¬¡ phpmyadminå°‡ valid password è£å›å»å•Ÿå‹• phpMyAdmin çš„ä¾è³´æ’ä»¶é‡æ–°å•Ÿå‹• Apache2å¾ç¶²ç«™é€²å…¥ phpMyAdmin æ“ä½œä»‹é¢å¦‚æœæ‰¾ä¸åˆ°æ˜¯æ­£å¸¸çš„ï¼ˆå¦‚ä¸‹åœ–ï¼‰ï¼Œåœ¨ Ubuntu 20.04 å®‰è£ phpMyAdmin æ™‚ï¼Œæ²’æœ‰æ­£ç¢ºçš„è¨­å®šåˆ° phpMyAdminã€‚ å¯ä»¥åƒè€ƒé€™è£¡ä¸‰æ¨“çš„è§£æ³•ï¼š\nåœ– 3.7: phpMyAdmin æ²’æœ‰æˆåŠŸè¨­å®šçš„é é¢\næ‰‹å‹•è»Ÿé€£çµåˆ° Apache2 çš„è¨­å®šè³‡æ–™å¤¾æ¥è‘—å•Ÿå‹• phpMyAdmin çš„è¨­å®šæª”é‡æ–°å•Ÿå‹• Apache2å†å¾ç€è¦½å™¨å˜—è©¦ä¸€æ¬¡é€£ç·šæˆåŠŸï½ ğŸŠ\nåœ– 3.8: phpMyAdmin é é¢\n","code":"sudo apt info phpmyadminPackage: phpmyadmin\nVersion: 4:4.9.5+dfsg1-2\nPriority: optional\nSection: universe/web\nOrigin: Ubuntu\nMaintainer: Ubuntu Developers <ubuntu-devel-discuss@lists.ubuntu.com>\nOriginal-Maintainer: phpMyAdmin Packaging Team <team+phpmyadmin@tracker.debian.org>\nBugs: https://bugs.launchpad.net/ubuntu/+filebug\nInstalled-Size: 27.2 MB\nDepends: php, php-cli, php-mysql, php-json, php-mbstring, php-xml, debconf (>= 0.5) | debconf-2.0, lib\njs-sphinxdoc (>= 1.0), sensible-utils, dbconfig-mysql | dbconfig-no-thanks | dbconfig-common (<< 2.0.0\n), php-phpseclib (>= 2.0), php-common, php-phpmyadmin-sql-parser (>= 4.3.2), php-phpmyadmin-sql-parser\n (<< 5~~), php-phpmyadmin-motranslator (>= 5.0), php-phpmyadmin-motranslator (<< 6~~), php-phpmyadmin-\nshapefile (>= 2.0), php-phpmyadmin-shapefile (<< 3~~), php-phpseclib (<< 3~~), php-google-recaptcha (>\n= 1.1), php-google-recaptcha (<< 2~~), php-psr-container (>= 1.0), php-psr-container (<< 2~~), php-twi\ng (>= 2.9), php-twig (<< 3~~), php-twig-extensions (>= 1.5.1), php-twig-extensions (<< 1.6~~), php-sym\nfony-expression-language, libjs-openlayers, ucf (>= 0.28)\nRecommends: apache2 | lighttpd | httpd, php-curl, php-gd, php-bz2, php-zip, php-tcpdf\nSuggests: default-mysql-server | virtual-mysql-server, www-browser, php-recode, php-opcache, php-gd2, \nphp-pragmarx-google2fa, php-bacon-qr-code, php-samyoul-u2f-php-server\nHomepage: https://www.phpmyadmin.net/\nDownload-Size: 4,426 kB\n\n[...]sudo apt install phpmyadmin --yesmysql -u root -puninstall component 'file://component_valid_password';exit;sudo apt install phpmyadmin --yesmysql -u root -pinstall component 'file://component_valid_password'exit;sudo phpenmod mbstringsudo systemctl restart apache2http://<è™›æ“¬ä¸»æ©Ÿçš„ ip åœ°å€>/phpmyadmin/sudo ln -s /etc/phpmyadmin/apache.conf /etc/apache2/conf-available/phpmyadmin.confsudo a2enconf phpmyadminsudo systemctl restart apache2http://<è™›æ“¬ä¸»æ©Ÿçš„ ip åœ°å€>/phpmyadmin/"},{"path":"lamp-ç¨‹å¼é›†.html","id":"step-2-ä½¿-phpmyadmin-æ›´åŠ å®‰å…¨","chapter":"ç« ç¯€ 3 LAMP ç¨‹å¼é›†","heading":"3.5.3 Step 2 â€” ä½¿ phpMyAdmin æ›´åŠ å®‰å…¨","text":"é è¨­çš„ç¶²å€ http://<è™›æ“¬æ©Ÿå™¨çš„ ip ä½ç½®>/phpmyadmin å¯¦åœ¨æ˜¯å¤ªå±éšªäº†ï¼Œå¦‚æœæœ‰äººæœ‰æ„ç ´å£ï¼Œåˆè¢«çŒœåˆ°ç®¡ç†å“¡çš„å¯†ç¢¼ï¼Œé‚£å°‡æœƒä¸€ç™¼ä¸å¯æ”¶æ‹¾ï¼Œæ‰€ä»¥æ¥ä¸‹ä¾†è¦æ”¹çš„æ˜¯ phpMyAdmin åœ¨ Apache2 ä¸­çš„è¨­å®šï¼Œå°‡é è¨­çš„ä½ç½®æ”¹æ‰è‡³å°‘æœƒå®‰å…¨ä¸€é»ã€‚/etc/phpmyadmin/apache.confå› ç‚º /etc/phpmyadmin/apache.conf å·²è»Ÿé€£çµï¼ˆsoft-linkï¼‰è‡³ /etc/apache2/conf-available/phpmyadmin.conf æ‰€ä»¥è®Šæ›´apache.conf æ™‚ï¼Œä½æ–¼ Apache2 ä¸­çš„è¨­å®šæª”ä¹Ÿæœƒè·Ÿè‘—è®Šæ›´ã€‚é‡æ–°å•Ÿå‹• Apache2å¾æ–°çš„ ip ä½å€é€²å…¥\nåœ– 3.9: å‰›æ‰æ›´æ–°çš„è·¯ç”±\n","code":"sudo vim /etc/phpmyadmin/apache.conf# phpMyAdmin default Apache configuration\n\nAlias /sql /usr/share/phpmyadmin # è®Šæ›´é€™è£¡\n\n<Directory /usr/share/phpmyadmin>\n    Options SymLinksIfOwnerMatch\n    DirectoryIndex index.php\n    AllowOverride All # æ–°å¢é€™è¡Œ\n\n    [...]\n\n<\/Directory>\n\n[...]sudo systemctl restart apache2http://<è™›æ“¬æ©Ÿå™¨çš„ ip ä½å€>/sql/"},{"path":"lamp-ç¨‹å¼é›†.html","id":"step-3-å†å¤šä¸€å±¤å­˜å–çš„å¯†ç¢¼ä¿è­·-å¯è·³é","chapter":"ç« ç¯€ 3 LAMP ç¨‹å¼é›†","heading":"3.5.4 Step 3 â€” å†å¤šä¸€å±¤å­˜å–çš„å¯†ç¢¼ä¿è­· [å¯è·³é]","text":"æ–°å¢ä¸€å€‹å«åš .htaccess çš„æª”æ¡ˆæ”¾å…¥è¨­å®šç”¨ htpasswd æŒ‡ä»¤ä»¥ .htpasswd ç”Ÿæˆå¸³è™Ÿï¼Œé€™å€‹å¸³è™Ÿå«åš asisï¼Œæ­¤æ™‚æœƒæç¤ºä½ è¼¸å…¥å¯†ç¢¼ã€‚å¦‚æœè¦æ–°å¢å…¶ä»–ä½¿ç”¨è€…ï¼Œè«‹å°‡ -c åƒæ•¸ç§»é™¤å†é€²å…¥ä¸€æ¬¡ phpMyAdmin çš„ä½å€å˜—è©¦ï¼š\nåœ– 3.10: phpMyAdmin ç™»å…¥æç¤º\næ­¤æ™‚æœƒè·³å‡ºä¸€å€‹ç™»å…¥ä»‹é¢ï¼Œéœ€è¦è¼¸å…¥å¯†ç¢¼æ‰èƒ½é€²å…¥ phpMyAdmin çš„é é¢ã€‚ å¦‚æœä¸éœ€è¦æ­¤è¨­å®šï¼Œç›´æ¥åˆªé™¤ä½æ–¼ /etc/phpmyadmin/.htpasswd çš„æª”æ¡ˆå³å¯ã€‚","code":"sudo vim /usr/share/phpmyadmin/.htaccessAuthType Basic\nAuthName \"é™åˆ¶å­˜å–çš„æª”æ¡ˆ\"\nAuthUserFile /etc/phpmyadmin/.htpasswd\nRequire valid-usersudo htpasswd -c /etc/phpmyadmin/.htpasswd asissudo htpasswd /etc/phpmyadmin/.htpasswd otheruser"},{"path":"rstudio-rshiny-server.html","id":"rstudio-rshiny-server","chapter":"ç« ç¯€ 4 RStudio & RShiny Server","heading":"ç« ç¯€ 4 RStudio & RShiny Server","text":"æœ¬ç« ç¯€æœƒèªªæ˜æ€éº¼å®‰è£ RStudio èˆ‡ RShiny Server åˆ°ç³»çµ±ä¸Šã€‚","code":""},{"path":"rstudio-rshiny-server.html","id":"äº‹å‰æº–å‚™-3","chapter":"ç« ç¯€ 4 RStudio & RShiny Server","heading":"4.1 äº‹å‰æº–å‚™","text":"å…ˆç¢ºèªç›®å‰çš„ä½¿ç”¨è€… asis æ“æœ‰ sudo çš„æ¬Šé™ã€‚","code":""},{"path":"rstudio-rshiny-server.html","id":"r-base","chapter":"ç« ç¯€ 4 RStudio & RShiny Server","heading":"4.2 R base","text":"R æ˜¯ä¸€å€‹è·¨å¹³å°çš„çµ±è¨ˆç¹ªåœ–é–‹æ”¾åŸå§‹ç¢¼è»Ÿé«”ã€‚é™¤äº† R åŸºæœ¬çš„åŠŸèƒ½ä¹‹å¤–ï¼Œé‚„æœ‰é¾å¤§çš„ç¤¾ç¾¤ä¸€èµ·åˆä½œå‰µé€ æ–°çš„åŠŸèƒ½ï¼Œä½¿ R çš„åŠŸèƒ½æ›´ç‚ºè±å¯Œã€‚","code":""},{"path":"rstudio-rshiny-server.html","id":"æ¦‚è¿°-5","chapter":"ç« ç¯€ 4 RStudio & RShiny Server","heading":"4.2.1 æ¦‚è¿°","text":"æœ¬å°ç¯€æœƒä»‹ç´¹æ€éº¼å®‰è£ R Baseã€‚","code":""},{"path":"rstudio-rshiny-server.html","id":"step-1-å®‰è£-r-base","chapter":"ç« ç¯€ 4 RStudio & RShiny Server","heading":"4.2.2 Step 1 â€” å®‰è£ R Base","text":"å®‰è£è»Ÿé«”ä¹‹å‰ï¼Œå…ˆæ›´æ–°å¥—ä»¶ç®¡ç†ç¨‹å¼çš„ä¾†æºå†ä¾†å®‰è£å®‰è£ r-base æ‰€éœ€è¦çš„ç¨‹å¼ software-properties-common èˆ‡ dirmngrã€‚åˆ‡æ›åˆ°æš«å­˜è³‡æ–™å¤¾å¾Œï¼Œå°‡ GPG ç°½åä¸‹è¼‰ä¸‹ä¾†ï¼Œæ·»åŠ è‡³ç›®çš„åœ°æ·»åŠ  apt ä¾†æºå®‰è£ r-base","code":"sudo apt updatesudo apt install software-properties-common dirmngr --yescd /tmp && \\\n    wget -qO- https://cloud.r-project.org/bin/linux/ubuntu/marutter_pubkey.asc \\\n    | sudo tee -a /etc/apt/trusted.gpg.d/cran_ubuntu_key.ascsudo add-apt-repository \\ \n    \"deb https://cloud.r-project.org/bin/linux/ubuntu $(lsb_release -cs)-cran40/\"sudo apt install r-base --yes"},{"path":"rstudio-rshiny-server.html","id":"step-2-ç¢ºèª-r-base-æ˜¯å¦æˆåŠŸå®‰è£","chapter":"ç« ç¯€ 4 RStudio & RShiny Server","heading":"4.2.3 Step 2 â€” ç¢ºèª R Base æ˜¯å¦æˆåŠŸå®‰è£","text":"åœ¨å‘½ä»¤åˆ—ä»‹é¢ä¸‹è¦ç¢ºèª R æœ‰ç„¡æ­£å¸¸å®‰è£å¾ˆç°¡å–®ï¼Œè¼¸å…¥ä¸€å€‹å¤§å¯« R å°±å¯ä»¥é€²åˆ° R çš„ Consoleã€‚è¼¸å…¥ä¸‹åˆ—æŒ‡ä»¤æŸ¥çœ‹ R çš„ç›¸é—œè¨Šæ¯ã€‚ç¢ºèªæ²’å•é¡Œå¾Œä½¿ç”¨æŒ‡ä»¤ q é€€å‡ºã€‚","code":"R\nsessionInfo()R version 4.2.0 (2022-04-22)\nPlatform: x86_64-pc-linux-gnu (64-bit)\nRunning under: Ubuntu 21.10\n\nMatrix products: default\nBLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.9.0\nLAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.9.0\n\nlocale:\n [1] LC_CTYPE=en_US.UTF-8   LC_NUMERIC=C           LC_TIME=C.UTF-8\n [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8\n [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C\n[10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base\n\nloaded via a namespace (and not attached):\n[1] compiler_4.2.0 pbdZMQ_0.3-7\nq(save='no')"},{"path":"rstudio-rshiny-server.html","id":"rstudio-server","chapter":"ç« ç¯€ 4 RStudio & RShiny Server","heading":"4.3 RStudio Server","text":"RStudio Server æ˜¯ RStudio çš„ç¶²é ç‰ˆæœ¬ï¼Œä½¿ç”¨è€…å¯ä»¥é€éç¶²é å­˜å–ä¸€å€‹ä½æ–¼ç¶²è·¯ä¸Šçš„ RStudioã€‚","code":""},{"path":"rstudio-rshiny-server.html","id":"æ¦‚è¿°-6","chapter":"ç« ç¯€ 4 RStudio & RShiny Server","heading":"4.3.1 æ¦‚è¿°","text":"æœ¬å°ç¯€æœƒä»‹ç´¹æ€éº¼å®‰è£ RStudio Server èˆ‡è¨­å®š Apache çš„åå‘ä»£ç†ã€‚","code":""},{"path":"rstudio-rshiny-server.html","id":"step-1-å®‰è£-rstudio-server-ä¼ºæœå™¨","chapter":"ç« ç¯€ 4 RStudio & RShiny Server","heading":"4.3.2 Step 1 â€” å®‰è£ RStudio Server ä¼ºæœå™¨","text":"åˆ‡åˆ°æš«å­˜è³‡æ–™å¤¾å¾Œï¼Œè‡ªå®˜ç¶²ä¸‹è¼‰ rstudio ä¼ºæœå™¨çš„å®‰è£ç¨‹å¼ã€‚é€™å€‹æŒ‡ä»¤æœƒä¸‹è¼‰ç•¶å‰æ’°å¯«é€™å€‹é é¢çš„æœ€æ–°ç‰ˆæœ¬ RStudio Serverã€‚å¦‚æœä½ æƒ³è¦ä¸‹è¼‰æœ€æ–°ç‰ˆæœ¬è«‹åˆ°å®˜æ–¹çš„ä¸‹è¼‰é é¢ç¢ºèªã€‚é€é ubuntu çš„å¯†é‘°ä¼ºæœå™¨å–å›å°æ‡‰çš„ç°½åå®‰è£ç¢ºèªæª”æ¡ˆç°½åæ‰€éœ€è¦çš„ç¨‹å¼æª¢æŸ¥æª”æ¡ˆç°½åï¼ŒåŠ ä¸Š --verify é¸é …é©—è­‰æª”æ¡ˆç°½åå‡ºç¾ GOODSIG å­—æ¨£ä»£è¡¨è©²æª”æ¡ˆæ²’æœ‰å•é¡Œï¼Œæª”æ¡ˆæ–¼ä¸‹è¼‰åœ–ä¸­æ²’æœ‰è¢«ä¿®æ”¹éï¼Œå¯ä»¥ç¹¼çºŒå®‰è£æœ€å¾Œå†ä½¿ç”¨ gdebi æŒ‡ä»¤å®‰è£ .deb æ ¼å¼å®‰è£ç¨‹å¼å°‡é˜²ç«ç‰†çš„ 8787 åŸ è™Ÿæ‰“é–‹æ¥è‘—ç”¨ç€è¦½å™¨é€²å…¥ä¸‹åˆ—ç¶²å€\nåœ– 4.1: RStudio ç™»å…¥é é¢\næˆ–æ˜¯åœ¨shellä¸­ç›´æ¥ä½¿ç”¨ curl æŒ‡ä»¤æŸ¥çœ‹","code":"sudo apt install gdebi-corecd /tmp && \\\nwget https://download2.rstudio.org/server/bionic/amd64/rstudio-server-1.4.1717-amd64.debgpg --keyserver keyserver.ubuntu.com --recv-keys 3F32EE77E331692Fsudo apt install dpkg-sig --yesdpkg-sig --verify rstudio-server-1.4.1717-amd64.debProcessing rstudio-server-1.4.1717-amd64.deb...\nGOODSIG _gpgbuilder FE8564CFF1AB93F1728645193F32EE77E331692F 1621900692sudo gdebi rstudio-server-1.4.1717-amd64.debsudo ufw allow 8787http://<è™›æ“¬ä¸»æ©Ÿçš„ ip ä½å€>:8787curl <è™›æ“¬ä¸»æ©Ÿçš„ ip ä½å€>:8787"},{"path":"rstudio-rshiny-server.html","id":"step-2-è¨­å®š-apache-çš„åå‘ä»£ç†reverse-proxy","chapter":"ç« ç¯€ 4 RStudio & RShiny Server","heading":"4.3.3 Step 2 â€” è¨­å®š Apache çš„åå‘ä»£ç†ï¼ˆReverse Proxyï¼‰","text":"ç”¨æŒ‡ä»¤ a2enmod å°‡ Apache å…§å»ºçš„æ’ä»¶å•Ÿç”¨ç¹¼çºŒç·¨è¼¯Step 2 â€” å»ºç«‹è™›æ“¬ç¶²ç«™æ‰€å»ºç«‹çš„ asis.confåœ¨ VirtualHost ç¯€é»ä¸‹é¢æ–°å¢ RStudio Proxy çš„å€å¡Š/etc/apache2/sites-available/asis.confå®Œæˆå¾Œéœ€è¦é‡æ–°å•Ÿå‹• Apacheæœ€å¾Œä»¥ç€è¦½å™¨æ‰“é–‹ä¸‹é¢çš„é€£çµæœƒç™¼ç¾ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨å…·æœ‰åå­—çš„è·¯å¾‘ï¼Œé€éåå‘ä»£ç†ï¼Œé€£çµåˆ°ç›®çš„åœ° 8787 åŸ è™Ÿã€‚\nåœ– 4.2: é€éå‰›æ‰æ›´æ–°çš„è·¯ç”±ï¼Œæ‰€çœ‹åˆ°çš„ RStudio ç™»å…¥é é¢\nåœ¨Step 1 â€” å®‰è£ RStudio Server ä¼ºæœå™¨é–‹çš„ 8787 åŸ è™Ÿå¯ä»¥é—œæ‰äº†ã€‚åœ¨ status çš„å¾Œé¢åŠ ä¸Š numbered å¯ä»¥å°‡è¨­å®šçš„ç·¨è™Ÿä¹Ÿä¸€èµ·åˆ—å‡ºä¾†ï¼Œå†è—‰ç”±ç·¨è™Ÿç·¨è¼¯è©²è¨­å®šã€‚åˆªé™¤ç¬¬ 5 å€‹è¨­å®šï¼ˆ8787ï¼‰åˆªé™¤ç¬¬ 9 å€‹è¨­å®šï¼ˆ8787 (v6)ï¼‰ï¼Œå› ç‚ºç¬¬ 5 å€‹è¨­å®šåˆªé™¤ä¹‹å¾Œï¼Œç¬¬ 10 é †ä½çš„è¨­å®šå°±æœƒå¾€å‰ç§»ï¼Œé‡æ–°ç·¨è™Ÿã€‚æ›´å‹•å¾Œçš„è¨­å®šã€‚","code":"sudo a2enmod proxy && sudo a2enmod proxy_http && sudo a2enmod proxy_wstunnelsudo vim /etc/apache2/sites-available/asis.conf<VirtualHost *:80>\n    ServerAdmin webmaster@localhost\n    DocumentRoot /var/www/asis\n    ErrorLog ${APACHE_LOG_DIR}/error.log\n    CustomLog ${APACHE_LOG_DIR}/access.log combined\n\n    ###\n    # RStudio Proxy\n    ###\n    <proxy *>\n    Allow from localhost\n    <\/proxy>\n    RedirectMatch permanent ^/rstudio$ /rstudio/\n  \n    RewriteEngine on\n    RewriteCond %{HTTP:Upgrade} =websocket\n    RewriteRule /rstudio/(.*)     ws://localhost:8787/$1  [P,L]\n    RewriteCond %{HTTP:Upgrade} !=websocket\n    RewriteRule /rstudio/(.*)     http://localhost:8787/$1 [P,L]\n    ProxyPass /rstudio/ http://localhost:8787/\n    ProxyPassReverse /rstudio/ http://localhost:8787/\n    ProxyRequests Off\n<\/VirtualHost>sudo systemctl restart apache2http://<è™›æ“¬ä¸»æ©Ÿçš„ ip ä½å€>/rstudio/sudo ufw status numberedStatus: active\n\n     To                         Action      From\n     --                         ------      ----\n[ 1] 60000                      ALLOW IN    Anywhere                  \n[ 2] mosh                       ALLOW IN    Anywhere                  \n[ 3] Apache                     ALLOW IN    Anywhere                  \n[ 4] Apache Secure              ALLOW IN    Anywhere                  \n[ 5] 8787                       ALLOW IN    Anywhere                  \n[ 6] 60000 (v6)                 ALLOW IN    Anywhere (v6)             \n[ 7] mosh (v6)                  ALLOW IN    Anywhere (v6)             \n[ 8] Apache (v6)                ALLOW IN    Anywhere (v6)             \n[ 9] Apache Secure (v6)         ALLOW IN    Anywhere (v6)             \n[10] 8787 (v6)                  ALLOW IN    Anywhere (v6)sudo ufw delete 5sudo ufw delete 9Status: active\n\nTo                         Action      From\n--                         ------      ----\n60000                      ALLOW       Anywhere                  \nmosh                       ALLOW       Anywhere                  \nApache                     ALLOW       Anywhere                  \nApache Secure              ALLOW       Anywhere                  \n60000 (v6)                 ALLOW       Anywhere (v6)             \nmosh (v6)                  ALLOW       Anywhere (v6)             \nApache (v6)                ALLOW       Anywhere (v6)             \nApache Secure (v6)         ALLOW       Anywhere (v6)"},{"path":"rstudio-rshiny-server.html","id":"r-shiny-server","chapter":"ç« ç¯€ 4 RStudio & RShiny Server","heading":"4.4 R Shiny Server","text":"RShiny Server æ˜¯ä¸€å€‹å¯ä»¥è®“ Shiny App éƒ¨ç½²åœ¨ä¼ºæœå™¨ä¸Šï¼Œé€éç‰¹å®šçš„ç¶²å€å•Ÿå‹•ç‰¹å®šçš„ Shiny Appã€‚","code":""},{"path":"rstudio-rshiny-server.html","id":"æ¦‚è¿°-7","chapter":"ç« ç¯€ 4 RStudio & RShiny Server","heading":"4.4.1 æ¦‚è¿°","text":"æœ¬å°ç¯€æœƒèªªæ˜æ€éº¼å®‰è£ R Shiny Server åœ¨ Ubuntu ä¸Šã€è¨­å®š Apache çš„åå‘ä»£ç†ã€å†ä¾†å° R Shiny Server åšæ›´é€²éšçš„è¨­å®šï¼Œæœ€å¾Œé©—è­‰å‰›æ‰çš„è¨­å®šæ˜¯å¦æœ‰æ•ˆã€‚","code":""},{"path":"rstudio-rshiny-server.html","id":"step-1-å®‰è£-r-shiny-server","chapter":"ç« ç¯€ 4 RStudio & RShiny Server","heading":"4.4.2 Step 1 â€” å®‰è£ R Shiny Server","text":"é¦–å…ˆé€éä¸€è¡ŒæŒ‡ä»¤ç”¨ root æ¬Šé™å®‰è£ shiny å¥—ä»¶ã€‚su æŒ‡ä»¤å¯ä»¥ç”¨ä¾†åˆ‡æ›ä½¿ç”¨è€…ï¼Œä¸éæˆ‘å€‘é€™è£¡çš„ç”¨æ³•æ˜¯åˆ‡æ›åˆ° root ä¸¦åŸ·è¡ŒæŒ‡ä»¤çš„æŒ‡ä»¤ã€‚- [ä½¿ç”¨è€…]ï¼šå¦‚æœä¸æŒ‡å®šä½¿ç”¨è€…ï¼Œå°‡æœƒä»¥ root ä»£æ›¿- [ä½¿ç”¨è€…]ï¼šå¦‚æœä¸æŒ‡å®šä½¿ç”¨è€…ï¼Œå°‡æœƒä»¥ root ä»£æ›¿--command, -cï¼šéœ€è¦ç›®æ¨™ä½¿ç”¨è€…åŸ·è¡Œçš„æŒ‡ä»¤--command, -cï¼šéœ€è¦ç›®æ¨™ä½¿ç”¨è€…åŸ·è¡Œçš„æŒ‡ä»¤R é™¤äº†å¯ä»¥é–‹å•Ÿäº’å‹•å¼çš„ R Console ä¹‹å¤–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ -e åƒæ•¸è®“ R åƒ…åŸ·è¡Œ R æŒ‡ä»¤ï¼Œå®Œæˆå¾Œå³é€€å‡ºã€‚æ¥ä¸‹ä¾†åˆ‡æ›ç›®éŒ„åˆ° /tmp è³‡æ–™å¤¾ä¸¦ä¸‹è¼‰ R Shiny Server å®‰è£ç¨‹å¼ã€‚é€™å€‹æŒ‡ä»¤æœƒä¸‹è¼‰ç•¶å‰æ’°å¯«é€™å€‹é é¢çš„æœ€æ–°ç‰ˆæœ¬ R Shiny Serverã€‚å¦‚æœä½ æƒ³è¦ä¸‹è¼‰æœ€æ–°ç‰ˆæœ¬è«‹åˆ°å®˜æ–¹çš„ä¸‹è¼‰é é¢ç¢ºèªã€‚ä½¿ç”¨ sha256sum è¨ˆç®—å®‰è£ç¨‹å¼çš„ sha256ï¼Œä¸¦åœ¨ç¶²ç«™ä¸Šç¢ºèªæœ‰æ²’æœ‰ç›¸åŒã€‚\nåœ– 4.3: R Shiny Server å®˜æ–¹ä¸‹è¼‰é é¢çš„ sha256\nä¾æ¨£åœ°ï¼Œä½¿ç”¨ gdebi æŒ‡ä»¤å®‰è£ .deb æ ¼å¼å®‰è£ç¨‹å¼æœ€å¾Œå¾ http://<è™›æ“¬æ©Ÿå™¨çš„ ip ä½å€>:3838 é€²å…¥ R Shiny Server é¦–é \nåœ– 4.4: R Shiny Server é¦–é \nå¦‚æœå³ä¸‹è§’é¡¯ç¤ºçš„æ˜¯éŒ¯èª¤è¨Šæ¯ï¼Œä»£è¡¨ä¼ºæœå™¨æ²’æœ‰å®‰è£ rmarkdown å¥—ä»¶ï¼Œä¸‹åˆ—æŒ‡ä»¤å®‰è£å³å¯ï¼š","code":"sudo su - \\\n-c \"R -e \\\"install.packages('shiny', repos='https://cran.rstudio.com/')\\\"\"cd /tmp && \\\n    wget https://download3.rstudio.org/ubuntu-14.04/x86_64/shiny-server-1.5.16.958-amd64.debsha256sum shiny-server-1.5.16.958-amd64.deb sudo gdebi shiny-server-1.5.16.958-amd64.debsudo su - \\\n    -c \"R -e \\\"install.packages('rmarkdown')\\\"\""},{"path":"rstudio-rshiny-server.html","id":"step-2-è¨­å®š-apache-çš„åå‘ä»£ç†","chapter":"ç« ç¯€ 4 RStudio & RShiny Server","heading":"4.4.3 Step 2 â€” è¨­å®š Apache çš„åå‘ä»£ç†","text":"ç¹¼çºŒç·¨è¼¯ Apache çš„ç¶²é è¨­å®šæ–‡ä»¶ asis.confä¸€æ¨£åœ°ï¼Œå°‡ R Shiny Server çš„è¨­å®šä¹Ÿä¸€åŒæ”¾å…¥è¨­å®šæª”æ¡ˆä¸­ã€‚/etc/apache2/sites-available/asis.confç·¨è¼¯å®Œæˆå¾Œï¼Œé ˆé‡æ–°å•Ÿå‹• Apache2æœ€å¾Œä½¿ç”¨å·²å‘½åçš„ç¶²å€é€²å…¥ R Shiny Server é¦–é \nåœ– 4.5: é€é Apache åå‘ä»£ç†é€²å…¥çš„R Shiny Server é¦–é \n","code":"sudo vim /etc/apache2/sites-available/asis.conf<VirtualHost *:80>\n    [...]\n\n    ###\n    # RStudio Proxy\n    ###\n    [...]\n    \n    ###\n    # RShiny Server Proxy\n    ###\n    RedirectMatch permanent ^/shiny$ /shiny/\n    \n    RewriteCond %{HTTP:Upgrade} =websocket\n    RewriteRule /shiny/(.*) ws://localhost:3838/$1 [P,L]\n    RewriteCond %{HTTP:Upgrade} !=websocket\n    RewriteRule /shiny/(.*) http://localhost:3838/$1 [P,L]\n    ProxyPass /shiny/ http://localhost:3838/\n    ProxyPassReverse /shiny/ http://localhost:3838/\n<\/VirtualHost>sudo systemctl restart apache2http://<è™›æ“¬æ©Ÿå™¨çš„ ip åœ°å€>/shiny/"},{"path":"rstudio-rshiny-server.html","id":"step-3-r-shiny-server-é€²éšè¨­å®š","chapter":"ç« ç¯€ 4 RStudio & RShiny Server","heading":"4.4.4 Step 3 â€” R Shiny Server é€²éšè¨­å®š","text":"é€™å€‹æ­¥é©Ÿæœƒç·¨è¼¯ R Shiny Server çš„è¨­å®šï¼Œå¯ä»¥æ ¹æ“šéœ€æ±‚å»å€åˆ† Shiny Appï¼Œä¾‹å¦‚æˆ‘æƒ³è¦ä½¿ç”¨è€…ç¾¤çµ„ç‚ºå­¸ç”Ÿçš„æ”¾åœ¨ä¸€èµ·ï¼Œç‚ºæ•™å¸«çš„ä½¿ç”¨è€…ç¾¤çµ„æ”¾åœ¨ä¸€èµ·ï¼Œéƒ½æ˜¯åšå¾—åˆ°çš„ã€‚æ›´è©³ç›¡çš„è¨­å®šå¯ä»¥çœ‹ R Shiny Server å®˜æ–¹çš„èªªæ˜æ–‡ä»¶è¨­å®šã€‚é¦–å…ˆæˆ‘å€‘å…ˆç·¨è¼¯ Shiny Server çš„è¨­å®šæª”æ¡ˆï¼š/etc/shiny-server/shiny-server.confé€™è£¡çš„ run_as è¨­å®šçš„ :HOME_USER: æœƒå°‡ç¬¦åˆ members_of æ‰€æŒ‡å®šçš„ç¾¤çµ„çš„ä½¿ç”¨è€…å®¶ç›®éŒ„åº•ä¸‹çš„è³‡æ–™å¤¾ï¼ˆ~/ShinyAppsï¼‰æœ‰æ•ˆï¼Œæœƒä»¥è©²ä½¿ç”¨è€…æ‰€å®‰è£çš„ R å¥—ä»¶ç‚ºç¬¬ä¸€å„ªå…ˆåŸ·è¡Œ Shiny Appsï¼Œå¦‚æœä½¿ç”¨è€…å®¶ç›®éŒ„æ²’æœ‰å®‰è£è©²å¥—ä»¶æ‰æœƒè½åˆ° R çš„ç³»çµ±å¥—ä»¶ã€‚é€™å€‹æ–¹æ³•èƒ½è®“ç³»çµ±ä¸ç”¨å¸¸å¸¸ä»¥ç®¡ç†å“¡çš„æ¬Šé™å®‰è£å¥—ä»¶ï¼Œè®“ä½¿ç”¨è€…å¯ä»¥è‡ªå·±å®‰è£æ‰€éœ€çš„å¥—ä»¶ï¼Œé”åˆ°æ¸›å°‘ç®¡ç†å“¡å·¥ä½œçš„ç›®çš„ã€‚è€Œç·Šæ¥åœ¨ :HOME_USER: å¾Œé¢çš„ä½¿ç”¨è€…æ˜¯ shiny é è¨­åŸ·è¡Œ Shiny Apps çš„ä½¿ç”¨è€…ã€‚access_log æ˜¯å­˜æ”¾ä»»ä½•äººé€éç¶²å€åŸ·è¡Œ Shiny Apps çš„æ‰€æœ‰è¨Šæ¯çš„ä½ç½®ï¼Œè€Œå¾Œé¢çš„ tiny å­—æ¨£æ˜¯è¨­å®šç´€éŒ„çš„è©³ç´°ç¨‹åº¦ï¼Œè©³ç´°çš„èªªæ˜å¯ä»¥åƒè€ƒå®˜æ–¹çš„èªªæ˜æ–‡ä»¶ã€‚åœ¨é–‹å§‹è¨­å®šä¹‹å‰è¦çŸ¥é“ä¸€ä»¶äº‹ï¼Œæ‰€æœ‰çš„è·¯ç”±è¨­å®šéƒ½æ˜¯æ”¾åœ¨ server { } ä¹‹ä¸­ï¼Œä¸æœƒè·‘åˆ°å¤§æ‹¬è™Ÿå¤–é¢ã€‚listen å¾Œé¢è¨­å®šçš„æ•¸å­—æ˜¯ R Shiny Server ä½ˆç½® Apps çš„åŸ è™Ÿï¼Œä¸è¦é‡è¤‡å³å¯ã€‚","code":"sudo vim /etc/shiny-server/shiny-server.conf# ä¸»è¦åŸ·è¡Œ App ç‚ºçš„ä½¿ç”¨è€…ç‚ºè©² App çš„æ“æœ‰è€…ï¼Œæ²’æœ‰æ“æœ‰è€…çš„ App å°‡ç”±å‚™å–ä½¿ç”¨è€… shiny åŸ·è¡Œã€‚\nrun_as :HOME_USER: shiny;\naccess_log /var/log/shiny-server/access.log tiny;\n  \nserver {\n    listen 3838;\n\n    # 110.09.21 è·Ÿæ˜è¼è€å¸«çš„çµæœæ˜¯åªç•™ä¸‹ 'è€å¸«' èˆ‡ 'å­¸ç”Ÿç¾¤çµ„'\n    # é‡æ–°å°å‘èˆŠç¾¤çµ„ /asisstuc è‡³å­¸ç”Ÿç¾¤çµ„ /stu\n    location /asisstuc {\n      redirect \"https://<è™›æ“¬ä¸»æ©Ÿ ip ä½å€>/shiny/stu/\" 302 true;\n    }\n    \n    location /defstu {\n      redirect \"https://<è™›æ“¬ä¸»æ©Ÿ ip ä½å€>/shiny/stu/\" 302 true;\n    }\n    \n    location /asisstuc {\n      redirect \"https://<è™›æ“¬ä¸»æ©Ÿ ip ä½å€>/shiny/stu/\" 302 true;\n    }\n    \n    location /stu {\n        user_dirs;\n        members_of stu;\n        directory_index on;\n    }\n\n    location /teacher {\n        user_dirs;\n        members_of teacher;\n        directory_index off;\n    }\n\n    # Shiny é¦–é \n    location / {\n        site_dir /srv/shiny-server;\n        log_dir /var/log/shiny-server;\n        directory_index on;\n    }\n}"},{"path":"rstudio-rshiny-server.html","id":"ä½ˆç½®å–®ä¸€å€‹-app","chapter":"ç« ç¯€ 4 RStudio & RShiny Server","heading":"4.4.4.1 ä½ˆç½®å–®ä¸€å€‹ App","text":"å–®ä¸€å€‹ App å¯ä»¥çœ‹é è¨­é¦–é ï¼ˆå¦‚åœ–4.5æ‰€ç¤ºï¼‰çš„è¨­ç½®ï¼Œé¦–é çš„è¨­å®šå¦‚ä¸‹ï¼šlocation / è¨­å®šçš„æ˜¯é€™å€‹é é¢çš„ä½ç½®ï¼Œ/ ä»£è¡¨çš„æ˜¯æ ¹é é¢ï¼Œè·Ÿç¶²å€åŠ åœ¨ä¸€èµ·å°±è®Šæˆ http://<è™›æ“¬æ©Ÿå™¨çš„ ip ä½ç½®>/shiny/ ã€‚è€Œ site_dir æŒ‡çš„æ˜¯é€™å€‹é é¢çš„ç¶²é æª”æ¡ˆä½ç½®ï¼Œ/srv/shiny-server/ çš„ç›®éŒ„çµæ§‹å¦‚ä¸‹ï¼šå®ƒæœƒå°‡ index.html ä½œç‚º / è·¯ç”±ï¼ˆä¹Ÿå°±æ˜¯é¦–é ï¼‰çš„é é¢ã€‚å¦‚æœåº•ä¸‹æœ‰è³‡æ–™å¤¾ï¼Œé€éç¶²é çš„ç›¸å°è·¯å¾‘ä¹Ÿæ˜¯é€²å¾—å»çš„ã€‚R Shiny Server æœƒå°‡è³‡æ–™å¤¾åº•ä¸‹çš„ Shiny Apps æˆ–æ˜¯ R Markdown ä½ˆç½®åˆ°å°æ‡‰çš„è·¯ç”±ä¸Šã€‚ä¾‹å¦‚é€™è£¡æœ‰ä¸€å€‹ sample-apps è³‡æ–™å¤¾ï¼Œè£é¢åˆ†åˆ¥æœ‰ä¸€å€‹ Shiny Appï¼Œèˆ‡ä¸€å€‹ R Markdown æª”æ¡ˆï¼Œè·¯å¾‘å¦‚ä¸‹ï¼šhello è³‡æ–™å¤¾åº•ä¸‹æ˜¯ä¸€å€‹ Shiny Appï¼Œè€Œ rmd è³‡æ–™å¤¾åº•ä¸‹æ˜¯ä¸€å€‹ R Markdown æª”æ¡ˆã€‚å…©è€…çš†å¯ä»¥é€éé¦–é ä¸‹çš„ sample-apps/ è·¯ç”±å­˜å–ã€‚ä»¥ hello çš„ Shiny App ç‚ºä¾‹ï¼ŒApp çš„è·¯ç”±ç‚ºï¼šhttp://<è™›æ“¬æ©Ÿå™¨çš„ ip ä½ç½®>/shiny/sample-apps/helloã€‚\nåœ– 4.6: é€é http:///shiny/sample-apps/hello è¨ªå•çš„ Shiny App\nè€Œ directory_index è¨­å®šç‚º ï¼Œä¸”è©²è·¯ç”±æ²’æœ‰é¦–é æª”æ¡ˆï¼ˆindex.htmlï¼‰ã€Shiny Apps æˆ–æ˜¯ R Markdown æ™‚ï¼Œæœƒå°‡è³‡æ–™å¤¾èˆ‡æª”æ¡ˆé¡¯ç¤ºå‡ºä¾†ã€‚é€™è£¡åŒæ¨£çš„ä»¥ /srv/shiny-server åº•ä¸‹çš„ /sample-apps ç‚ºä¾‹ï¼Œå¦‚ä¸‹åœ–æ‰€ç¤ºï¼š\nåœ– 4.7: /shiny/sample-apps çš„é é¢\n","code":"[...]\n\nserver {\n    [...]\n    \n    # Shiny é¦–é \n    location / {\n        site_dir /srv/shiny-server;\n        log_dir /var/log/shiny-server;\n        directory_index on;\n    }\n}total 8\ndrwxr-xr-x 2 root root 4096 Jul  4 19:44 ./\ndrwxr-xr-x 3 root root 4096 May 29 10:02 ../\nlrwxrwxrwx 1 root root   38 Feb  1 03:43 index.html -> /opt/shiny-server/samples/welcome.html\nlrwxrwxrwx 1 root root   37 Feb  1 03:43 sample-apps -> /opt/shiny-server/samples/sample-apps//srv/shiny-server/sample-apps/\nâ”œâ”€â”€ hello\nâ”‚   â”œâ”€â”€ server.R\nâ”‚   â””â”€â”€ ui.R\nâ””â”€â”€ rmd\n    â””â”€â”€ index.Rmd"},{"path":"rstudio-rshiny-server.html","id":"æ ¹æ“šä½¿ç”¨è€…ç¾¤çµ„ä½ˆç½®-app","chapter":"ç« ç¯€ 4 RStudio & RShiny Server","heading":"4.4.4.2 æ ¹æ“šä½¿ç”¨è€…ç¾¤çµ„ä½ˆç½® App","text":"R Shiny Server å¯ä»¥æ ¹æ“šä½¿ç”¨è€…ç¾¤çµ„å‰µå»ºå°æ‡‰çš„è·¯ç”±ï¼Œåƒæ˜¯è¦å®šå­¸ç”Ÿåªèƒ½å¾ /stu å­˜å–ä»–å€‘è‡ªå·±çš„ Shiny Appã€‚å…·é«”è¨­å®šå¦‚ä¸‹ï¼šé€™å€‹è¨­å®šæœƒé™åˆ¶ä½¿ç”¨è€…ç¾¤çµ„ç‚º stu çš„ä½¿ç”¨è€…å¾ http://<è™›æ“¬æ©Ÿå™¨çš„ ip ä½ç½®>/shiny/<ä½¿ç”¨è€…åç¨±> å­˜å–ä»–å€‘å­˜æ”¾ä½æ–¼å®¶ç›®éŒ„åº•ä¸‹åç‚ºShinyAppsï¼ˆ~/ShinyAppsï¼‰è³‡æ–™å¤¾å…§çš„ Shiny Appsã€‚","code":"[...]\n\nserver{\n    [...]\n    \n    # å­¸ç”Ÿé é¢\n    location /stu {\n        user_dirs;\n        members_of stu;\n        directory_index on;\n    }\n}"},{"path":"rstudio-rshiny-server.html","id":"é‡æ–°å°å‘é é¢","chapter":"ç« ç¯€ 4 RStudio & RShiny Server","heading":"4.4.4.3 é‡æ–°å°å‘é é¢","text":"é‡æ–°å°å‘é é¢å¯ä»¥å°‡èˆŠçš„ç¶²å€å°å‘è‡³æ–°çš„ç¶²å€ï¼Œä¸€èˆ¬çš„è¨­å®šå¦‚ä¸‹ï¼šredirect å¾Œé¢ç¬¬ä¸€å€‹åƒæ•¸æ˜¯ç›®çš„åœ°ç¶²å€ï¼Œç¬¬äºŒå€‹åƒæ•¸æ˜¯ç¶²é é‡æ–°å°å‘çš„ç¨®é¡ï¼ˆ301 ç‚ºæ°¸ä¹…ï¼Œ302 ç‚ºæš«æ™‚ï¼‰ï¼Œæœ€å¾Œä¸€å€‹åƒæ•¸æ˜¯å¦è¦å¥—ç”¨å®Œå…¨ä¸€æ¨£çš„è·¯ç”±ï¼Œå¦‚æœè¨­ç‚º trueï¼Œè·¯ç”±ç‚º /asisstuc æ‰æœƒé‡æ–°å°å‘ã€‚å¦‚æœè¨­ç‚º false ï¼Œå‰‡å®ƒçš„è·¯ç”±åªè¦åŒ…å« /asisstucï¼Œä¸ç®¡å®ƒåº•ä¸‹æ‰æœ‰æ²’æœ‰å…¶ä»–è·¯ç”±ï¼ˆä¾‹å¦‚ï¼š/asisstuc/08170875/exampleï¼‰ï¼Œéƒ½æœƒé‡æ–°å°å‘è‡³æŒ‡å®šçš„ç¶²é ã€‚é€™è£è¦å…ˆè·³è‡³Step 4 â€” ä½¿ç”¨ä½¿ç”¨è€…æ¸¬è©¦è¨­å®šæ˜¯å¦æœ‰æ•ˆå…ˆå»ºç«‹ä½¿ç”¨è€…ç¾¤çµ„å¾Œå†é‡æ–°å•Ÿå‹• R Shiny Serverã€‚å› ç‚ºè¨­å®šæª”ä¸­è¨­æœ‰ä½¿ç”¨è€…ç¾¤çµ„ï¼ˆMCUã€teacherï¼‰è€Œæ²’æœ‰å‰µå»ºçš„è©±ï¼Œé‡æ–°å•Ÿå‹• R Shiny Server æœƒå› ç‚ºæ‰¾ä¸åˆ°è©²ä½¿ç”¨è€…ç¾¤çµ„è€Œå‡ºç¾éŒ¯èª¤ã€‚","code":"[...]\n\nserver {\n    [...]\n    \n    # å°‡ç¶²å€ç‚º /asisstuc çš„è·¯ç”±é‡æ–°å°å‘è‡³æ–°çš„ç¶²å€\n    location /asisstuc {\n      redirect \"https://<è™›æ“¬ä¸»æ©Ÿ ip ä½å€>/shiny/stu/\" 302 true;\n    }\n}"},{"path":"rstudio-rshiny-server.html","id":"step-4-ä½¿ç”¨ä½¿ç”¨è€…æ¸¬è©¦è¨­å®šæ˜¯å¦æœ‰æ•ˆ","chapter":"ç« ç¯€ 4 RStudio & RShiny Server","heading":"4.4.5 Step 4 â€” ä½¿ç”¨ä½¿ç”¨è€…æ¸¬è©¦è¨­å®šæ˜¯å¦æœ‰æ•ˆ","text":"é€™è£¡æœƒå¤§æ¦‚è¬›ä¸€ä¸‹æ€éº¼å‰µå»ºä½¿ç”¨è€…ç¾¤çµ„ã€ä½¿ç”¨è€…å¸³æˆ¶ï¼Œä»¥åŠåœ¨å‰µå»ºä½¿ç”¨è€…å¸³æˆ¶çš„åŒæ™‚ï¼Œä¹Ÿä¸€èµ·æ–¼å®¶ç›®éŒ„å‰µå»º ShinyApps è³‡æ–™å¤¾ã€‚è©³ç´°çš„èªªæ˜æœƒæ–¼é™„éŒ„çš„å¸³è™Ÿç®¡ç†èªªæ˜ã€‚é¦–å…ˆç”¨ä¸‹é¢çš„æŒ‡ä»¤å‰µå»ºå…©å€‹ä½¿ç”¨è€…ç¾¤çµ„ï¼Œåˆ†åˆ¥æ˜¯ stu èˆ‡ teacherã€‚æ¥è‘—ç·¨è¼¯ä½¿ç”¨æŒ‡ä»¤ useradd å‰µå»ºä½¿ç”¨è€…æ™‚ï¼Œé è¨­çš„ä½¿ç”¨è€…è¨­å®šï¼Œå¾ŒçºŒå»ºç«‹ä½¿ç”¨è€…æ‰ä¸æœƒå¤šæ‰“å¾ˆå¤šæŒ‡ä»¤ã€‚/etc/default/useraddå°‡ SHELL çš„éƒ¨åˆ†å–æ¶ˆè¨»è§£ï¼Œä¸¦æŠŠ bash çš„ç¨‹å¼è·¯å¾‘å¡«ä¸Šå»ã€‚åªè¦è®Šæ›´é€™ä¸€è¡Œå°±å¥½ï¼Œå¦‚æœä¸æ¸…æ¥šè·¯å¾‘å¯ä»¥åƒè€ƒä¸‹é¢çš„èªªæ˜ã€‚é€™è£¡çš„ SHELL å°±æ˜¯æŒ‡ linux èˆ‡ä½¿ç”¨è€…ä¹‹é–“çš„æºé€šæ–¹å¼ï¼ŒæŒ‡å®š bash ç‚ºæˆ‘å€‘ä½¿ç”¨è€…é è¨­çš„ SHELLã€‚å¦‚æœä¸çŸ¥é“ bash ç¨‹å¼çš„ä½ç½®ï¼Œå¯ä»¥ä½¿ç”¨ æŒ‡ä»¤æŸ¥è©¢å¾Œï¼Œå†ä¾†åšé€™ä¸€æ­¥ï¼Œä¾‹å¦‚ï¼šæ¥è‘—æ–¼ /etc/skel çš„è·¯å¾‘å‰µå»ºä¸€å€‹å«åš ShinyApps çš„è³‡æ–™å¤¾ã€‚ä½æ–¼æ­¤è·¯å¾‘çš„æ‰€æœ‰æª”æ¡ˆéƒ½æœƒåœ¨å‰µå»ºä½¿ç”¨è€…æ™‚è¤‡è£½ä¸€ä»½åˆ°ä½¿ç”¨è€…çš„å®¶ç›®éŒ„ã€‚å‰µå»ºå®Œå¾Œï¼Œå†å°‡ç¯„ä¾‹çš„ sample-apps é€£çµåˆ°æ¨¡æ¿è³‡æ–™å¤¾ /etc/skel çš„ ShinyApps è³‡æ–™å¤¾ä¸­ã€‚è®“æ–°å‰µç«‹çš„ä½¿ç”¨è€…æœ‰æ¸¬è©¦ç”¨çš„ Shiny Appã€‚æœ€å¾Œå†ç”¨ useradd æŒ‡ä»¤éš¨æ„å‰µå»ºå…©å€‹å¸³æˆ¶--badnamesï¼šæ–°ç‰ˆçš„ useradd æŒ‡ä»¤æ–°å¢çš„åƒæ•¸ï¼Œè®“ä¸å®‰å…¨çš„ä½¿ç”¨è€…ï¼ˆä¾‹å¦‚å…¨éƒ¨éƒ½æ˜¯æ•¸å­—çš„ä½¿ç”¨è€…ï¼‰å¯ä»¥å‰µå»ºã€‚--badnamesï¼šæ–°ç‰ˆçš„ useradd æŒ‡ä»¤æ–°å¢çš„åƒæ•¸ï¼Œè®“ä¸å®‰å…¨çš„ä½¿ç”¨è€…ï¼ˆä¾‹å¦‚å…¨éƒ¨éƒ½æ˜¯æ•¸å­—çš„ä½¿ç”¨è€…ï¼‰å¯ä»¥å‰µå»ºã€‚-N, ---user-groupï¼šé è¨­ useradd åœ¨å‰µå»ºä½¿ç”¨è€…å¸³æˆ¶æ™‚ï¼Œæœƒæ ¹æ“šä½¿ç”¨è€…åç¨±å†å‰µç«‹ä¸€å€‹ä¸»è¦çš„ä½¿ç”¨è€…ç¾¤çµ„ã€‚-N, ---user-groupï¼šé è¨­ useradd åœ¨å‰µå»ºä½¿ç”¨è€…å¸³æˆ¶æ™‚ï¼Œæœƒæ ¹æ“šä½¿ç”¨è€…åç¨±å†å‰µç«‹ä¸€å€‹ä¸»è¦çš„ä½¿ç”¨è€…ç¾¤çµ„ã€‚-g, --gid GROUPï¼šç›´æ¥æŒ‡å®šä½¿ç”¨è€…çš„ä¸»è¦çš„ä½¿ç”¨è€…ç¾¤çµ„ã€‚-g, --gid GROUPï¼šç›´æ¥æŒ‡å®šä½¿ç”¨è€…çš„ä¸»è¦çš„ä½¿ç”¨è€…ç¾¤çµ„ã€‚-m, --create-homeï¼šå»ºç«‹ä½¿ç”¨è€…æ™‚ï¼Œé †å¸¶å»ºç«‹å®¶ç›®éŒ„ã€‚-m, --create-homeï¼šå»ºç«‹ä½¿ç”¨è€…æ™‚ï¼Œé †å¸¶å»ºç«‹å®¶ç›®éŒ„ã€‚æ–°å¢å®Œæˆå¾Œï¼Œç‚ºäº†ä½¿å‰›æ‰ R Shiny Server çš„è¨­å®šç”Ÿæ•ˆï¼Œé‡æ–°å•Ÿå‹• R Shiny Serverã€‚æœ€å¾Œå†å¾å‰›æ‰è¨­å®šçš„è·¯ç”±é€²å…¥ä½¿ç”¨è€…çš„ Shiny Apps ç›®éŒ„ï¼Œç¶²å€ç‚ºï¼šhttp://<è™›æ“¬æ©Ÿå™¨ ip ä½å€>/shiny/stu/08170875/\nåœ– 4.8: Shiny Server ä½¿ç”¨è€… 08170875 çš„ Shiny Apps\nå¦‚æœè¼¸å…¥äº† http://<è™›æ“¬æ©Ÿå™¨ ip ä½å€>/shiny/stu æ˜¯ä¸æœƒå‡ºç¾æ‰€æœ‰ä½¿ç”¨è€…çš„ï¼Œé€™é»è¦æ³¨æ„ã€‚ä¸éæˆ‘å€‘ä¹Ÿå¯ä»¥æ ¹æ“šé€™å€‹è·¯ç”±ï¼Œåˆ©ç”¨ site_dir åƒæ•¸è¨­è¨ˆä¸€å€‹å°ˆå±¬æ–¼ä½¿ç”¨è€…ç¾¤çµ„ stu çš„ç¶²é ã€‚\nåœ– 4.9: è·¯ç”± /stu çš„ç¶²é ï¼ˆæ‰¾ä¸åˆ°ç¶²é ï¼‰\n","code":"sudo groupadd MCU && sudo groupadd teachersudo vim /etc/default/useradd# Default values for useradd(8)\n#\n# The SHELL variable specifies the default login shell on your\n# system.\n# Similar to DSHELL in adduser. However, we use \"sh\" here because\n# useradd is a low level utility and should be as general\n# as possible\nSHELL=/usr/bin/bashwhich bash/usr/bin/bashsudo mkdir /etc/skel/ShinyApps/sudo ln -s /srv/shiny-server/sample-apps \\\n/etc/skel/ShinyApps/examplesudo useradd --badnames -N -g stu -m 08170875sudo useradd --badnames -N -g teacher -m ms00000000sudo systemctl restart shiny-server"},{"path":"jupyterlab-on-jupyterhub.html","id":"jupyterlab-on-jupyterhub","chapter":"ç« ç¯€ 5 JupyterLab on JupyterHub","heading":"ç« ç¯€ 5 JupyterLab on JupyterHub","text":"æœ¬ç¯‡æ•™å­¸å®Œå…¨ç…§è‘—(mangecoeur et al. 2021)æ‰€å¯«çš„æ•™å­¸æ“ä½œã€‚æ—¨åœ¨å»ºç«‹ Jupyterhub ç’°å¢ƒã€‚","code":""},{"path":"jupyterlab-on-jupyterhub.html","id":"äº‹å‰æº–å‚™-4","chapter":"ç« ç¯€ 5 JupyterLab on JupyterHub","heading":"5.1 äº‹å‰æº–å‚™","text":"å…ˆç¢ºèªç›®å‰çš„ä½¿ç”¨è€… asis æ“æœ‰ sudo çš„æ¬Šé™ã€‚","code":""},{"path":"jupyterlab-on-jupyterhub.html","id":"è¨­ç½®-python-3-ç’°å¢ƒ","chapter":"ç« ç¯€ 5 JupyterLab on JupyterHub","heading":"5.2 è¨­ç½® Python 3 ç’°å¢ƒ","text":"é¦–å…ˆï¼Œä¸€æ¨£åœ°ï¼Œåªè¦å®‰è£å¥—ä»¶éƒ½éœ€è¦å…ˆæ›´æ–°å¥—ä»¶ä¾†æºã€‚é€™è£¡æˆ‘å€‘ç”¨ && é€£æ¥å…©å€‹æŒ‡ä»¤ï¼Œè®“æ›´æ–°èˆ‡å®‰è£ä¾åºåŸ·è¡Œã€‚å®‰è£ python3-venv ï¼Œå¾ŒçºŒå»ºç«‹ python è™›æ“¬ç’°å¢ƒæ™‚æœƒç”¨åˆ°å› ç‚ºç›®å‰ Ubuntu å…§å»ºçš„ python ç‰ˆæœ¬é€šå¸¸éƒ½æ˜¯ python 2.Xï¼Œæ‰€ä»¥æˆ‘å€‘é‚„è¦å†å¤šè£ä¸€å€‹å«åš python--python3 çš„å¥—ä»¶ï¼Œå°‡ python è¨­ç‚º python3 çš„åˆ¥åï¼Œé€™å€‹æœƒä½¿ä½ ä»¥å¾Œå‘¼å« python æŒ‡ä»¤ç¢ºä¿ python çš„ç‰ˆæœ¬æ˜¯ python 3ã€‚","code":"sudo apt update && sudo apt install python3-dev python3-pip --yessudo apt install python3-venvsudo apt install python-is-python3 --yes"},{"path":"jupyterlab-on-jupyterhub.html","id":"jupyterlab-èˆ‡-jupyterhub","chapter":"ç« ç¯€ 5 JupyterLab on JupyterHub","heading":"5.3 JupyterLab èˆ‡ JupyterHub","text":"","code":""},{"path":"jupyterlab-on-jupyterhub.html","id":"æ¦‚è¿°-8","chapter":"ç« ç¯€ 5 JupyterLab on JupyterHub","heading":"5.3.1 æ¦‚è¿°","text":"","code":""},{"path":"jupyterlab-on-jupyterhub.html","id":"æ–¼è™›æ“¬ç’°å¢ƒä¸­è¨­ç½®-jupyterlab-èˆ‡-jupyterhub","chapter":"ç« ç¯€ 5 JupyterLab on JupyterHub","heading":"5.3.2 æ–¼è™›æ“¬ç’°å¢ƒä¸­è¨­ç½® JupyterLab èˆ‡ JupyterHub","text":"","code":"sudo python3 -m venv /opt/jupyterhubsudo /opt/jupyterhub/bin/python -m pip install wheelsudo /opt/jupyterhub/bin/python -m pip install jupyterlab jupyterhubsudo /opt/jupyterhub/bin/python -m pip install ipywidgetscurl -fsSL https://deb.nodesource.com/setup_lts.x | sudo -E bash -\nsudo apt-get install -y nodejssudo npm install -g configurable-http-proxy"},{"path":"jupyterlab-on-jupyterhub.html","id":"è¨­å®š-jupyterhub","chapter":"ç« ç¯€ 5 JupyterLab on JupyterHub","heading":"5.3.3 è¨­å®š JupyterHub","text":"/opt/jupyterhub/etc/jupyterhub/jupyterhub_config.py","code":"sudo mkdir -p /opt/jupyterhub/etc/jupyterhub/cd /opt/jupyterhub/etc/jupyterhub/sudo /opt/jupyterhub/bin/jupyterhub --generate-configsudo vim jupyterhub_config.pyc.JupyterHub.bind_url = 'http://:8000/jhub'\nc.Spawner.default_url = '/lab'\nc.Authenticator.admin_users = {'asis'}\nc.Spawner.cmd = ['jupyter-labhub']\nc.Spawner.args = ['--collaborative']"},{"path":"jupyterlab-on-jupyterhub.html","id":"æ–°å¢é–‹æ©Ÿè‡ªå‹•å•Ÿå‹•-jupyterhub-çš„æœå‹™","chapter":"ç« ç¯€ 5 JupyterLab on JupyterHub","heading":"5.3.4 æ–°å¢é–‹æ©Ÿè‡ªå‹•å•Ÿå‹• JupyterHub çš„æœå‹™","text":"/opt/jupyterhub/etc/systemd/jupyterhub.service","code":"sudo mkdir -p /opt/jupyterhub/etc/systemdsudo vim /opt/jupyterhub/etc/systemd/jupyterhub.service[Unit]\nDescription=JupyterHub\nAfter=syslog.target network.target\n\n[Service]\nUser=root\nEnvironment=\"PATH=/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/opt/jupyterhub/bin\"\nExecStart=/opt/jupyterhub/bin/jupyterhub -f /opt/jupyterhub/etc/jupyterhub/jupyterhub_config.py\n\n[Install]\nWantedBy=multi-user.targetsudo ln -s /opt/jupyterhub/etc/systemd/jupyterhub.service \\\n    /etc/systemd/system/jupyterhub.servicesudo systemctl daemon-reloadsudo systemctl enable jupyterhub.servicesudo systemctl start jupyterhub.servicesudo systemctl status jupyterhub.service"},{"path":"jupyterlab-on-jupyterhub.html","id":"jupyterhub-ä¸­çš„é‹ç®—æ ¸å¿ƒ","chapter":"ç« ç¯€ 5 JupyterLab on JupyterHub","heading":"5.4 JupyterHub ä¸­çš„é‹ç®—æ ¸å¿ƒ","text":"","code":""},{"path":"jupyterlab-on-jupyterhub.html","id":"conda-çš„-python-ç’°å¢ƒ","chapter":"ç« ç¯€ 5 JupyterLab on JupyterHub","heading":"5.4.1 Conda çš„ PythonğŸ ç’°å¢ƒ","text":"/opt/conda/envs/environment.yml\nåœ– 5.1: jupyterhub ç™»å…¥å¾Œçš„é é¢\n","code":"cd ~curl https://repo.anaconda.com/pkgs/misc/gpgkeys/anaconda.asc \\\n    | gpg --dearmor > conda.gpgsudo install -o root -g root -m 644 conda.gpg /etc/apt/trusted.gpg.d/rm conda.gpgecho \\\n    \"deb [arch=amd64] https://repo.anaconda.com/pkgs/misc/debrepo/conda stable main\" \\\n    | sudo tee /etc/apt/sources.list.d/conda.listsudo apt update && sudo apt install conda --yessudo mkdir /opt/conda/envscd /opt/conda/envs/ && sudo vim environment.ymlname: python\nchannels:\n  - defaults\ndependencies:\n  - python=3.9\n  - ipykernel\n  - pip:\n    - ipython-sql\n    - PyMySQL\n    - matplotlib\n    - plotly\n    - dash\n    - pandas\nprefix: /opt/conda/envs/pythonsudo /opt/conda/bin/conda env create -f environment.ymlsudo /opt/conda/envs/python/bin/python -m \\\n    ipykernel install \\\n    --prefix=/opt/jupyterhub/ \\\n    --name 'python3' \\\n    --display-name \"Python (default)\""},{"path":"jupyterlab-on-jupyterhub.html","id":"r-ç’°å¢ƒ","chapter":"ç« ç¯€ 5 JupyterLab on JupyterHub","heading":"5.4.2 R ç’°å¢ƒ","text":"ä¸»è¦åŸå› æ˜¯å› ç‚ºï¼Œç³»çµ±æ‰¾ä¸åˆ° jupyter æŒ‡ä»¤ã€‚å¯ä»¥è‡ªå·±åœ¨çµ‚ç«¯æ©Ÿé‡ç¾ä¸€æ¬¡ï¼šæ‰¾ä¸åˆ°æŒ‡ä»¤ï¼Œå‡ºç¾äº†æ¨è–¦å®‰è£æ–¹å¼ï¼Œä¸éé€™ä¸æ˜¯æˆ‘å€‘è¦çš„ã€‚é€™è£¡æœƒç”¨ä¸€å€‹æŠ€å·§è®“ç³»çµ±æ‰¾å¾—åˆ°ä½æ–¼ /opt/jupyter/bin/jupyter çš„æŒ‡ä»¤ã€‚ è—‰ç”±è»Ÿé€£çµåˆ°ç³»çµ±çš„ path è®Šæ•¸ä¸­è®“ R æ‰¾å¾—åˆ°ã€‚\né¦–å…ˆå…ˆå°å‡º PATH è®Šæ•¸ï¼šæ”¾ç½®æ–¼å…¶ä¸­ä¸€å€‹ä½ç½®å°±è¡Œï¼Œæ³¨æ„ä¸è¦æ”¾ç½®åœ¨ /home åº•ä¸‹ï¼ŒåŸ·è¡Œ R æ™‚äº‹ä½¿ç”¨ root æ¬Šé™ï¼Œç”¨ root æ¬Šé™åŸ·è¡Œæ™‚ï¼Œä¸¦ä¸æœƒç¿» /home/asis/ åº•ä¸‹çš„è³‡æ–™å¤¾ã€‚ é€™è£¡æˆ‘å€‘é¸ç”¨ /usr/local/bin ä½œç‚ºè»Ÿé€£çµæ”¾ç½® jupyter åŸ·è¡Œæª”ã€‚æ¥è‘—ç”¨ æŒ‡ä»¤æŸ¥è©¢æŒ‡ä»¤æ˜¯å¦å­˜åœ¨ï¼šåˆ—å‡ºäºŒé€²åˆ¶åŸ·è¡Œæª”å­˜åœ¨ä½ç½®ï¼šå¯ä»¥çœ‹åˆ°æŒ‡ä»¤ jupyter ä¹‹æ‰€ä»¥æœƒå­˜åœ¨æ˜¯å› ç‚ºè»Ÿé€£çµè‡³ /opt/jupyterhub/bin/jupyter å¾Œï¼Œå› ç‚º /usr/local/bin åœ¨è®Šæ•¸ path å…§ï¼Œè®“ç³»çµ±æ‰¾å¾—åˆ°ï¼Œæ‰å¯ä»¥ä½¿ç”¨é€™å€‹æŒ‡ä»¤ã€‚å†åŸ·è¡Œä¸€æ¬¡å‰›é–‹å§‹çš„æŒ‡ä»¤ï¼š\nåœ– 5.2: jupyterhub å®‰è£å®Œ R æ ¸å¿ƒèˆ‡é è¨­ Python çš„é é¢\n","code":"sudo su - -c \"R -e \\\"install.packages('IRkernel')\\\"\"sudo su - -c \"R -e \\\"\n    IRkernel::installspec(\n        name='ir41', \n        displayname='R 4.1',\n        user=FALSE,\n        prefix='/opt/jupyterhub'\n    )\n\\\"\"Error in IRkernel::installspec(name = \"ir41\", displayname = \"R 4.1\") : \n  jupyter-client has to be installed but â€œjupyter kernelspec --versionâ€ exited with code 127.\nIn addition: Warning message:\nIn system2(\"jupyter\", c(\"kernelspec\", \"--version\"), FALSE, FALSE) :\n  error in running command\nExecution haltedjupyter kernelspec --versionCommand 'jupyter' not found, but can be installed with:\n\nsudo snap install jupyter       # version 1.0.0, or\nsudo apt  install jupyter-core  # version 4.6.3-3\n\nSee 'snap info jupyter' for additional versions.echo $PATH/home/asis/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/binsudo ln -s /opt/jupyterhub/bin/jupyter /usr/local/binwhich jupyterls -al $(which jupyter)lrwxrwxrwx 1 root root 27 Sep 17 16:23 /usr/local/bin/jupyter -> /opt/jupyterhub/bin/jupyter*sudo su - -c \"R -e \\\"\n    IRkernel::installspec(\n        name='ir41', \n        displayname='R 4.1',\n        user=FALSE,\n        prefix='/opt/jupyterhub'\n    )\n\\\"\"jupyter kernelspec listAvailable kernels:\n  ir41       /opt/jupyterhub/share/jupyter/kernels/ir41\n  python3    /opt/jupyterhub/share/jupyter/kernels/python3"},{"path":"jupyterlab-on-jupyterhub.html","id":"c-èˆ‡-c-ç’°å¢ƒ","chapter":"ç« ç¯€ 5 JupyterLab on JupyterHub","heading":"5.4.3 C èˆ‡ C++ ç’°å¢ƒ","text":"/opt/conda/envs/c_cpp.yml/opt/conda/envs/c-cpp/share/jupyter/kernels/c/kernel.json\nåœ– 5.3: C èªè¨€æ ¸å¿ƒåœ–æ¨™ï¼Œ32x32\n\nåœ– 5.4: C èªè¨€æ ¸å¿ƒåœ–æ¨™ï¼Œ64x64\n\nåœ– 5.5: jupyterhub åŠ ä¸Šäº† C èˆ‡ CPP æ ¸å¿ƒçš„é é¢\n","code":"sudo vim /opt/conda/envs/c_cpp.ymlname: c-cpp\nchannels:\n  - defaults\n  - conda-forge\ndependencies:\n  - xeus-cling\n  - python=3.*\n  - pip\n  - ipykernel\nprefix: /opt/conda/envs/c-cppsudo conda env create -f c_cpp.ymlsudo jupyter kernelspec install \\\n    /opt/conda/envs/c-cpp/share/jupyter/kernels/xcpp11 --sys-prefixsudo jupyter kernelspec install \\\n    /opt/conda/envs/c-cpp/share/jupyter/kernels/xcpp14 --sys-prefixsudo jupyter kernelspec install \\\n    /opt/conda/envs/c-cpp/share/jupyter/kernels/xcpp17 --sys-prefixsudo /opt/conda/envs/c-cpp/bin/python3.9 -m \\\n    pip install git+https://github.com/XaverKlemenschits/jupyter-c-kernel.gitsudo vim /opt/conda/envs/c-cpp/share/jupyter/kernels/c/kernel.json{\n  \"display_name\": \"C\",\n  \"argv\": [\n      \"/opt/conda/envs/c-cpp/bin/python3\",\n      \"-m\",\n      \"jupyter_c_kernel\",\n      \"-f\",\n      \"{connection_file}\"\n  ],\n  \"language\": \"C\"\n}sudo mv ~/Downloads/logo** /opt/conda/envs/c-cpp/share/jupyter/c/ls -al /opt/conda/envs/c-cpp/share/jupyter/kernels/cdrwxrwxr-x 2 root root 4096 Oct 23 17:20 ./\ndrwxrwxr-x 7 root root 4096 Oct 23 15:31 ../\n-rw-rw-r-- 1 root root  181 Oct 23 15:26 kernel.json\n-rw-r--r-- 1 root root 1536 Oct 23 17:02 logo-32x32.png\n-rw-r--r-- 1 root root 4079 Oct 23 17:02 logo-64x64.pngsudo jupyter kernelspec install /opt/conda/envs/c-cpp/share/jupyter/c --sys-prefix"},{"path":"jupyterlab-on-jupyterhub.html","id":"sas-ç’°å¢ƒ","chapter":"ç« ç¯€ 5 JupyterLab on JupyterHub","heading":"5.4.4 SAS ç’°å¢ƒ","text":"/opt/conda/envs/sas.yml/opt/conda/envs/sas/share/jupyter/kernels/sas/kernel.json","code":"sudo vim /opt/conda/envs/sas.ymlname: sas\nchannels:\n  - defaults\n  - conda-forge\n  - anaconda\ndependencies:\n  - sas_kernel\n  - python=3.*\n  - pip\n  - ipykernel\nprefix: /opt/conda/envs/sassudo conda env create -f sas.ymlsudo vim /opt/conda/envs/sas/share/jupyter/kernels/sas/kernel.json{\n    \"argv\": [\n        \"/opt/conda/envs/sas/bin/python\",\n        \"-m\",\n        \"sas_kernel\",\n        \"-f\",\n        \"{connection_file}\"\n    ],\n    \"display_name\": \"SAS\",\n    \"codemirror_mode\": \"sas\",\n    \"language\": \"sas\",\n    \"name\": \"sas\"\n}sudo cp \\\n    /opt/conda/envs/sas/lib/python3.9/site-packages/sas_kernel/data/logo-64x64.png \\\n    /opt/conda/envs/sas/share/jupyter/kernels/sas"},{"path":"jupyterlab-on-jupyterhub.html","id":"è¨­ç½®-apache-çš„åå‘ä»£ç†","chapter":"ç« ç¯€ 5 JupyterLab on JupyterHub","heading":"5.5 è¨­ç½® Apache çš„åå‘ä»£ç†","text":"/etc/apache2/sites-available/asis.conf","code":"sudo vim /etc/apache2/sites-available/asis.conf<VirtualHost *:80>\n    [...]\n\n    ###\n    # JupyterHub Reverse Proxy\n    ###\n    RewriteCond %{HTTP:Connection} Upgrade [NC]\n    RewriteCond %{HTTP:Upgrade} websocket [NC]\n    RewriteRule /jhub/(.*) ws://127.0.0.1:8000/jhub/$1 [NE,P,L]\n    RewriteRule /jhub/(.*) http://127.0.0.1:8000/jhub/$1 [NE,P,L]\n\n    <Location \"/jhub/\">\n      # preserve Host header to avoid cross-origin problems\n      ProxyPreserveHost on\n      # proxy to JupyterHub\n      ProxyPass         http://127.0.0.1:8000/\n      ProxyPassReverse  http://127.0.0.1:8000/\n    <\/Location>\n    \n<\/VirtualHost>http://<è™›æ“¬ä¸»æ©Ÿçš„ ip ä½å€>/jhub"},{"path":"jupyterlab-on-jupyterhub.html","id":"jupyterhub-æ“´å……å¥—ä»¶","chapter":"ç« ç¯€ 5 JupyterLab on JupyterHub","heading":"5.6 JupyterHub æ“´å……å¥—ä»¶","text":"jupyterlab-drawio\nsudo /opt/jupyterhub/bin/pip install jupyterlab-drawiojupyterlab-drawiojupyterlab-git\nsudo /opt/jupyterhub/bin/pip \\\n    install --upgrade jupyterlab jupyterlab-gitjupyterlab-gitjupyterlab-variable-inspector\nsudo /opt/jupyterhub/bin/pip \\\n    install lckr_jupyterlab_variableinspector\nsudo su - -c \"R -e \\\"install.packages('repr')\\\"\"jupyterlab-variable-inspectorjupyterext-text-shortcuts\nsudo jupyter labextension install @techrah/text-shortcutsjupyterext-text-shortcutsjupyterlab-spreadsheet\nsudo jupyter labextension install jupyterlab-spreadsheetjupyterlab-spreadsheetipympl\nsudo /opt/jupyterhub/bin/pip install ipymplipympljupyter-dash (å¾…æ›´æ–°ï¼Œç›®å‰ä¸èƒ½ç”¨ 2021.09.18)\nsudo /opt/jupyterhub/bin/pip install jupyter-dashjupyter-dash (å¾…æ›´æ–°ï¼Œç›®å‰ä¸èƒ½ç”¨ 2021.09.18)jupyterlab-link-share\nsudo /opt/jupyterhub/bin/pip install jupyterlab-link-sharejupyterlab-link-sharelanguage-packs\nsudo /opt/jupyterhub/bin/pip install jupyterlab-language-pack-zh-TW\nsudo /opt/jupyterhub/bin/pip install jupyterlab-language-pack-zh-CNlanguage-packsjupyterlab-lsp\nsudo /opt/jupyterhub/bin/pip install 'jupyterlab>=3.0.0,<4.0.0a0' jupyterlab-lsp\nsudo apt install libcurl4-openssl-dev libxml2-dev --yes\nsudo su - -c \"R -e \\\"install.packages('languageserver')\\\"\"\"\nsudo /opt/jupyterhub/bin/pip install -U jedi-language-serverjupyterlab-lspnbgitpuller\nsudo /opt/jupyterhub/bin/pip install nbgitpullernbgitpuller","code":"sudo /opt/jupyterhub/bin/pip install jupyterlab-drawiosudo /opt/jupyterhub/bin/pip \\\n    install --upgrade jupyterlab jupyterlab-gitsudo /opt/jupyterhub/bin/pip \\\n    install lckr_jupyterlab_variableinspectorsudo su - -c \"R -e \\\"install.packages('repr')\\\"\"sudo jupyter labextension install @techrah/text-shortcutssudo jupyter labextension install jupyterlab-spreadsheetsudo /opt/jupyterhub/bin/pip install ipymplsudo /opt/jupyterhub/bin/pip install jupyter-dashsudo /opt/jupyterhub/bin/pip install jupyterlab-link-sharesudo /opt/jupyterhub/bin/pip install jupyterlab-language-pack-zh-TWsudo /opt/jupyterhub/bin/pip install jupyterlab-language-pack-zh-CNsudo /opt/jupyterhub/bin/pip install 'jupyterlab>=3.0.0,<4.0.0a0' jupyterlab-lspsudo apt install libcurl4-openssl-dev libxml2-dev --yessudo su - -c \"R -e \\\"install.packages('languageserver')\\\"\"\"sudo /opt/jupyterhub/bin/pip install -U jedi-language-serversudo /opt/jupyterhub/bin/pip install nbgitpullersudo systemctl restart jupyterhub.service"},{"path":"ç›¸é—œè»Ÿé«”.html","id":"ç›¸é—œè»Ÿé«”","chapter":"A ç›¸é—œè»Ÿé«”","heading":"A ç›¸é—œè»Ÿé«”","text":"","code":""},{"path":"ç›¸é—œè»Ÿé«”.html","id":"putty","chapter":"A ç›¸é—œè»Ÿé«”","heading":"A.1 PuTTY","text":"ä½¿ç”¨ PuTTY é€£ç·šè‡³ OpenSSH ä¼ºæœå™¨","code":""},{"path":"ç›¸é—œè»Ÿé«”.html","id":"ä»¥-putty-ç”¢ç”Ÿ-key","chapter":"A ç›¸é—œè»Ÿé«”","heading":"A.1.1 ä»¥ PuTTY ç”¢ç”Ÿ key","text":"å¦ä¸€å€‹æ–¹æ³•ä¸æœƒéœ€è¦ä½ æ‰‹å‹•å®‰è£ OpenSSH Clientï¼Œä¸éã€ä¸€æ¨£åœ°ï¼Œè¦å®‰è£PuTTY ç¨‹å¼ã€‚","code":""},{"path":"ç›¸é—œè»Ÿé«”.html","id":"step-1-å®‰è£-putty","chapter":"A ç›¸é—œè»Ÿé«”","heading":"A.1.1.1 Step 1 â€” å®‰è£ PuTTY","text":"åˆ°é–‹ç™¼è€…çš„ç¶²ç«™ï¼Œç„¶å¾Œä¸‹è¼‰é©åˆä½  Windows çš„ç‰ˆæœ¬ (å‰¯æª”åç‚º *.msi çš„å®‰è£ç¨‹å¼)https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.htmlæ ¹æ“šä½ çš„éœ€æ±‚è¨­å®šå®‰è£ç¨‹å¼å¾…å®‰è£ç¨‹å¼å®‰è£å®Œæˆå®‰è£å®Œæˆå¾Œï¼Œé»é¸ã€Œé–‹å§‹ã€ï¼Œæ‰¾åˆ° PuTTYgené–‹å•Ÿï¼Œæˆ–æ˜¯é»é¸ã€Œé–‹å§‹ã€ï¼Œéµå…¥ puttygen å¾ŒæŒ‰ Enterâ†©ï¸","code":""},{"path":"ç›¸é—œè»Ÿé«”.html","id":"step-2-ç¶“ç”±-puttygen-ç”¢ç”Ÿ-ssh-key-pairs","chapter":"A ç›¸é—œè»Ÿé«”","heading":"A.1.1.2 Step 2 â€” ç¶“ç”± PuTTYgen ç”¢ç”Ÿ ssh key pairs","text":"è·Ÿ OpenSSH Client ä¸€æ¨£åœ°ï¼Œä½ å¯ä»¥åœ¨ä¸‹æ–¹çš„ Types é¸æ“‡ä½ åå¥½çš„åŠ å¯†æ–¹å¼ã€‚é»é¸ã€ŒGenerateã€é–‹å§‹ç”¢ç”Ÿ keyï¼Œæ­¤æ™‚ä¸è¦å‚»å‚»åœ°åœ¨é‚£é‚Šç­‰ï¼Œè¦åœ¨ç¨‹å¼é€²åº¦æ¢ä¸‹æ–¹ç©ºç™½è™•éš¨æ„ç§»å‹•ä½ çš„æ»‘é¼ é¼ æ¨™ã€‚å®Œæˆå¾Œï¼Œå¯ä»¥åœ¨ Comment çš„è¼¸å…¥æ¡†è¨»è§£ä¸€ä¸‹é€™å€‹ key æ˜¯å¾å“ªè£¡ä¾†çš„ï¼Œä»¥å¾Œæ“æœ‰å¤šå€‹ key pairs æ™‚æ‰ä¸æœƒææ··ã€‚ç•¶ç„¶ä½ ä¹Ÿå¯ä»¥ç”¨å¯†ç¢¼ä¿è­·é€™å€‹ key pairsï¼Œå¦‚æœæœ‰éœ€è¦åœ¨ Key passphrase èˆ‡ Confirm passphrase è¼¸å…¥ä¸€æ¨¡ä¸€æ¨£çš„å¯†ç¢¼ã€‚","code":""},{"path":"ç›¸é—œè»Ÿé«”.html","id":"step-3-å¦¥å–„ä¿å­˜å¥½ç”¢ç”Ÿçš„-key","chapter":"A ç›¸é—œè»Ÿé«”","heading":"A.1.1.3 Step 3 â€” å¦¥å–„ä¿å­˜å¥½ç”¢ç”Ÿçš„ Key","text":"åˆ†åˆ¥æŒ‰ä¸‹ã€ŒSave public keyã€èˆ‡ã€ŒSave private keyã€æ‰¾åˆ°é©åˆçš„åœ°æ–¹å„²å­˜å®ƒã€‚","code":""},{"path":"ç›¸é—œè»Ÿé«”.html","id":"ä¸Šå‚³-ssh-key-pairs","chapter":"A ç›¸é—œè»Ÿé«”","heading":"A.1.2 ä¸Šå‚³ ssh key pairs","text":"PuTTY ç”¢ç”Ÿçš„ public key èˆ‡ private key æ ¼å¼æ¯”è¼ƒç‰¹åˆ¥ï¼Œä¸¦ä¸èƒ½ç›´æ¥æŠŠ public key è£¡é¢çš„æ–‡å­—ç›´æ¥è²¼åˆ°é ç«¯é›»è…¦çš„ ~/.ssh/authorized_keys æª”æ¡ˆè£¡é¢ï¼Œéœ€è¦ç¶“ç”± PuTTYgen.exe è®€å– *.ppk æ‰èƒ½å¾—åˆ°æ­£ç¢ºæ ¼å¼çš„ public keyã€‚é¦–å…ˆæŠŠ PuTTYgen ç¨‹å¼æ‰“é–‹ã€‚æ¥è‘—æŒ‰ã€ŒLoadã€æŠŠå‰›å‰›ç”¢ç”Ÿçš„ *.ppk æª”æ¡ˆè®€å–é€²ä¾†ã€‚æœƒçœ‹åˆ°ä¸€è¡Œå­—ã€ŒPublic key pasting OpenSSH authorized_keys fileã€ä¸‹é¢çš„å¯è¤‡è£½å€åŸŸå°±æ˜¯ public keyï¼ŒæŠŠå®ƒæ•´æ®µè¤‡è£½èµ·ä¾†ã€‚æ¥è‘—æ‰“é–‹ã€ŒPowerShellã€æˆ–æ˜¯ã€Œå‘½ä»¤æç¤ºå­—å…ƒã€ï¼Œè¼¸å…¥:å°‡ <YOUR_PUBLIC_KEY> æ›¿æ›æˆè‡ªå·±çš„ public keyå°‡ <YOUR_PUBLIC_KEY> æ›¿æ›æˆè‡ªå·±çš„ public keyé€™è£¡çš„ asis ç‚ºç¬¬ä¸€ç« çš„ä½¿ç”¨è€…è¨­å®šçš„é è¨­ä½¿ç”¨è€…é€™è£¡çš„ asis ç‚ºç¬¬ä¸€ç« çš„ä½¿ç”¨è€…è¨­å®šçš„é è¨­ä½¿ç”¨è€…192.168.0.13 ç‚ºæˆ‘è™›æ“¬ä¸»æ©Ÿçš„ ip ä½å€ï¼ŒæŸ¥è©¢ ip ä½å€å¯ä»¥å…ˆæ‰‹å‹•ç™»å…¥è™›æ“¬ä¸»æ©Ÿå¾Œï¼Œç”¨ hostname -æˆ–æ˜¯ ip addr show æŒ‡ä»¤æŸ¥è©¢192.168.0.13 ç‚ºæˆ‘è™›æ“¬ä¸»æ©Ÿçš„ ip ä½å€ï¼ŒæŸ¥è©¢ ip ä½å€å¯ä»¥å…ˆæ‰‹å‹•ç™»å…¥è™›æ“¬ä¸»æ©Ÿå¾Œï¼Œç”¨ hostname -æˆ–æ˜¯ ip addr show æŒ‡ä»¤æŸ¥è©¢æ¥è‘—æŒ‰ Enterâ†©ï¸ï¼Œè·³å‡ºè¼¸å…¥å¯†ç¢¼æç¤ºï¼Œé€™è£¡è¼¸å…¥é è¨­çš„ä½¿ç”¨è€…å¯†ç¢¼ asisè¼¸å…¥å®Œæˆä¸æœƒå‡ºç¾ä»»ä½•è¨Šæ¯æ˜¯æ­£å¸¸çš„ï¼Œä»£è¡¨æ“ä½œæ²’æœ‰å•é¡Œä¸”å·²ç¶“å¯ä»¥ä½¿ç”¨ PuTTY é€£ç·šäº†ã€‚","code":"echo \"<YOUR_PUBLIC_KEY>\" | ssh asis@192.168.0.13 \"cat >> ~/.ssh/authorized_keys\"asis@192.168.0.13's password:"},{"path":"ç›¸é—œè»Ÿé«”.html","id":"puttygen-ç”¢ç”Ÿçš„-key-pairs-çš„é€£ç·šæ–¹å¼","chapter":"A ç›¸é—œè»Ÿé«”","heading":"A.1.3 PuTTYgen ç”¢ç”Ÿçš„ key pairs çš„é€£ç·šæ–¹å¼:","text":"SSH é€£ç·šæ–¹å¼å¤§åŒå°ç•°:é¦–å…ˆé»é¸ã€Œé–‹å§‹ã€ï¼Œéµå…¥ PuTTY æ‰“é–‹å®¢æˆ¶ç«¯é¦–å…ˆé»é¸ã€Œé–‹å§‹ã€ï¼Œéµå…¥ PuTTY æ‰“é–‹å®¢æˆ¶ç«¯åœ¨å·¦é‚Šçš„ ã€ŒCategory:ã€ ä¸‹ï¼Œé¸å– ã€ŒSessionã€åœ¨å·¦é‚Šçš„ ã€ŒCategory:ã€ ä¸‹ï¼Œé¸å– ã€ŒSessionã€æ–¼ Host Name è¼¸å…¥ã€Œä½¿ç”¨è€…@ç›®çš„åœ° IPã€ï¼Œåƒæ˜¯ã€Œasis@192.168.0.13ã€\n\nä½ å¯ä»¥é»é¸ä¸‹é¢çš„ã€ŒDefault Settingsã€å¾Œï¼Œæ¥è‘—æŒ‰ã€ŒSaveã€æœƒæŠŠå‰›å‰›è¼¸å…¥çš„ IP èˆ‡ Port å„²å­˜è‡³ã€ŒDefault Settingsã€å…§ï¼Œç•¶ç„¶ä½ ä¹Ÿå¯ä»¥è‡ªå·±å–ä¸€å€‹æ–°çš„åå­—ã€‚\næ–¼ Host Name è¼¸å…¥ã€Œä½¿ç”¨è€…@ç›®çš„åœ° IPã€ï¼Œåƒæ˜¯ã€Œasis@192.168.0.13ã€ä½ å¯ä»¥é»é¸ä¸‹é¢çš„ã€ŒDefault Settingsã€å¾Œï¼Œæ¥è‘—æŒ‰ã€ŒSaveã€æœƒæŠŠå‰›å‰›è¼¸å…¥çš„ IP èˆ‡ Port å„²å­˜è‡³ã€ŒDefault Settingsã€å…§ï¼Œç•¶ç„¶ä½ ä¹Ÿå¯ä»¥è‡ªå·±å–ä¸€å€‹æ–°çš„åå­—ã€‚æ¥è‘—å±•é–‹å·¦é‚Š ã€ŒCategory:ã€ ä¸‹çš„ã€ŒConnectionã€ âœ é»é¸ã€ŒSSHã€ âœ å†é»é¸ã€ŒAuthã€ï¼Œæ–¼æœ€ä¸‹é¢çš„ã€ŒPrivate key file authentication:ã€é»é¸ã€ŒBrowseâ€¦ã€é¸å– *.ppk æª”æ¡ˆä½ç½®æ¥è‘—å±•é–‹å·¦é‚Š ã€ŒCategory:ã€ ä¸‹çš„ã€ŒConnectionã€ âœ é»é¸ã€ŒSSHã€ âœ å†é»é¸ã€ŒAuthã€ï¼Œæ–¼æœ€ä¸‹é¢çš„ã€ŒPrivate key file authentication:ã€é»é¸ã€ŒBrowseâ€¦ã€é¸å– *.ppk æª”æ¡ˆä½ç½®å®Œæˆå¾Œé»é¸ã€ŒOpenã€é€£ç·šå®Œæˆå¾Œé»é¸ã€ŒOpenã€é€£ç·šèˆ‡ä½¿ç”¨ ssh æŒ‡ä»¤é€£ç·šç›¸åŒï¼Œéƒ½æœƒå…ˆæé†’ä½ ç›®çš„åœ°æ˜¯å¦æ­£ç¢ºã€‚ç¢ºèªç„¡èª¤æŒ‰ä¸‹ã€ŒAcceptã€é€£æ¥æˆåŠŸ!","code":""},{"path":"å¸³è™Ÿç®¡ç†.html","id":"å¸³è™Ÿç®¡ç†","chapter":"B å¸³è™Ÿç®¡ç†","heading":"B å¸³è™Ÿç®¡ç†","text":"å¸³è™Ÿç®¡ç†åˆ†ç‚ºå…©å€‹éƒ¨åˆ†ï¼Œä¸€å€‹éƒ¨åˆ†æ˜¯ç³»çµ±çš„å¸³è™Ÿç®¡ç†ï¼Œå¦ä¸€å€‹éƒ¨åˆ†æ˜¯ MySQL è³‡æ–™åº«çš„å¸³è™Ÿç®¡ç†ã€‚","code":""},{"path":"å¸³è™Ÿç®¡ç†.html","id":"ç³»çµ±å¸³è™Ÿ","chapter":"B å¸³è™Ÿç®¡ç†","heading":"B.1 ç³»çµ±å¸³è™Ÿ","text":"é€™å€‹å°ç¯€æœƒèªªæ˜ç”¨ä¾†ç®¡ç†å¸³è™Ÿçš„è…³æœ¬çš„é‹ä½œæµç¨‹çš„æ´»å‹•åœ–ã€è…³æœ¬é‹è¡Œï¼Œæ¥è‘—æ‰æ˜¯æŒ‡ä»¤èªªæ˜ã€‚å¦‚æœè¦ç›´æ¥åŸ·è¡Œè…³æœ¬è«‹åˆ° è…³æœ¬é‹è¡Œ çš„éƒ¨åˆ†ã€‚","code":""},{"path":"å¸³è™Ÿç®¡ç†.html","id":"æ¦‚è¿°-9","chapter":"B å¸³è™Ÿç®¡ç†","heading":"B.1.1 æ¦‚è¿°","text":"æœ¬è…³æœ¬ï¼ˆBash Scriptï¼‰çš„æ´»å‹•åœ–ï¼Œå¦‚åœ– B.1 æ‰€ç¤ºã€‚ä¸€é–‹å§‹æœƒæ ¹æ“šä½¿ç”¨è€…è¨­å®šçš„é¸é …çš„è¨­å®šç’°å¢ƒï¼Œæ¥è‘—æ‰æœƒé€²åˆ°ä¸»è¦æ–¹æ³•çš„éƒ¨åˆ†ã€‚ä¸»è¦æ–¹æ³•æœ‰å…©ç¨®ï¼Œåˆ†åˆ¥æ˜¯å»ºç«‹å¸³è™Ÿï¼ˆcreateï¼‰èˆ‡åˆªé™¤å¸³è™Ÿï¼ˆdeleteï¼‰ï¼Œé€™å…©å€‹æ–¹æ³•éš¨å¾Œæœƒå¦å¤–èªªæ˜ã€‚\nåœ– B.1: manage-users.sh\n","code":""},{"path":"å¸³è™Ÿç®¡ç†.html","id":"è…³æœ¬é‹è¡Œ","chapter":"B å¸³è™Ÿç®¡ç†","heading":"B.1.2 è…³æœ¬é‹è¡Œ","text":"é€™å€‹éƒ¨åˆ†æœƒèªªæ˜æ€éº¼åŸ·è¡Œè…³æœ¬ã€‚é¦–å…ˆå…ˆåˆ‡æ›ä½¿ç”¨è€…ç›®éŒ„åˆ°å®¶ç›®éŒ„åº•ä¸‹çš„ ~/binå†ä¾†ç”¨ä½ å–œæ„›çš„ç·¨è¼¯å™¨åœ¨é€™å€‹ç›®éŒ„åº•ä¸‹æ–°å¢ä¸€å€‹å«åš manage-users.sh çš„è…³æœ¬ï¼ˆBash Scriptï¼‰å°‡è—åœ¨ â–¶ è£¡é¢çš„è…³æœ¬å…§å®¹æ”¾åˆ°è…³æœ¬å…§å¾Œå„²å­˜\n~/bin/manage-users.shæ¥è‘—ä½¿ç”¨ chmod æŒ‡ä»¤ç‚ºè…³æœ¬åŠ ä¸Šå¯åŸ·è¡Œçš„æ¬Šé™ä½¿ç”¨è…³æœ¬åç¨±åŠ ä¸Š -h æˆ–æ˜¯ --help é¸é …å¯ä»¥é¡¯ç¤ºä½¿ç”¨è…³æœ¬çš„èªªæ˜å“¦ï½å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨æ­¤è…³æœ¬ï¼Œå¯ä»¥ä½¿ç”¨ -c é¸é …ç”¢ç”Ÿç¯„ä¾‹è¨­å®šé€™å€‹è…³æœ¬æœƒæ ¹æ“šæ‰€è¨­å®šçš„ç³»è³‡æ–™å¤¾æ–°å¢å¸³è™Ÿï¼Œæ–°å¢çš„ä½¿ç”¨è€…å¸³è™Ÿçš„ä¸»è¦ä½¿ç”¨è€…ç¾¤çµ„æ˜¯ stuï¼Œå‰¯ä½¿ç”¨è€…ç¾¤çµ„ç‚º .txt çš„åç¨±ï¼Œé€™ä¸€é»è¦å¤šåŠ æ³¨æ„ã€‚é è¨­è…³æœ¬ç”¢ç”Ÿçš„è³‡æ–™æœ‰å…©å€‹å¸³è™Ÿï¼Œåˆ†åˆ¥æ˜¯å±¬æ–¼ä½¿ç”¨è€…ç¾¤çµ„ asis çš„ 08170875 èˆ‡å±¬æ–¼ä½¿ç”¨è€…ç¾¤çµ„ eco çš„ 08220855ã€‚æ¥è‘—ä½¿ç”¨ sudo æ¬Šé™å»ºç«‹ä½¿ç”¨è€…å¸³è™Ÿé€™æ™‚å€™æœƒé è¦½åœ¨æª”æ¡ˆä¸­ç™¼ç¾çš„ä½¿ç”¨è€…æ•¸ç›®ï¼Œæ­¤æ™‚è¼¸å…¥ Yes/å¯ä»¥ç¹¼çºŒæˆ–æ˜¯ä¸­æ–·è…³æœ¬ï¼Œé€™è£¡é¸æ“‡ç¹¼çºŒæ‰€ä»¥è¼¸å…¥ Y å¾ŒæŒ‰ Enterâ†©ï¸ã€‚å®Œæˆå¾Œä¹Ÿæœƒæç¤ºå»ºç«‹å¸³è™Ÿçš„èªªæ˜å®Œæˆå¾Œå¯ä»¥ç”¨æŒ‡ä»¤ id ç¢ºèªä½¿ç”¨è€…æœ‰ç„¡æˆåŠŸå»ºç«‹æ¸¬è©¦å®Œå¾Œå¯ä»¥ç”¨è…³æœ¬é™„å¸¶çš„ detele æ–¹æ³•åˆªé™¤å¸³è™Ÿèˆ‡å»ºç«‹å¸³è™Ÿç›¸åŒï¼Œåˆªé™¤å¸³è™Ÿä¸€æ¨£æœƒæœ‰æç¤ºï¼Œé€™è£¡ä¹Ÿæ˜¯è¼¸å…¥ Y å¾Œç¹¼çºŒåˆªé™¤å¸³è™Ÿçš„æ–¹æ³•å†ç”¨ç›¸åŒçš„æŒ‡ä»¤ç¢ºèªä½¿ç”¨è€…æ˜¯å¦å­˜åœ¨æç¤ºä½¿ç”¨è€…ä¸å­˜åœ¨","code":"cd ~/binvim manage-users.sh#!/bin/bash\n# author: kuaz\n# created date: 2022.02.24\n# last modified: 2022.07.11\n# \n# This script is used to:\n# 1. Create user accounts from /depts/dept.txt files (one student ID per line).\n\n# ç’°å¢ƒè®Šæ•¸\ndepts_dir='depts'       # æ”¾ç½®ç”¨ä¾†å»ºç½® linux å¸³è™Ÿçš„ç³»è³‡æ–™å¤¾\n# pass_dir='passwd'       # æ”¾ç½®å»ºç½®å®Œæˆçš„ linux å¸³è™Ÿå¯†ç¢¼çš„è³‡æ–™å¤¾\ngp=false                # æ˜¯å¦ç”¢ç”Ÿæ–°å¯†ç¢¼\nnew=true                # æ˜¯å¦æ˜¯æ–°ç‰ˆçš„ shiny app é€£çµæ–¹å¼ï¼›å¦‚æœè¨­ç‚º trueï¼Œ\n                        # å°‡ä¸æœƒä½¿ç”¨ systemetic link çš„æ–¹å¼é€£çµ\ndryrun=false            # è©¦é‹è¡Œï¼›å¦‚æœè¨­ç‚º trueï¼Œå°‡ä¸æœƒå‰µç«‹å¸³è™Ÿ\n                        # useradd æ˜¯å¦æ”¯æ´ badname\nbadname_supported=$(useradd 2>&1 | grep -q \"badname\"; echo $?)    \n\ncheck_permission() {\n    if [ ${dryrun} == true ]; then\n        :\n    else\n        if [ $(id -u) -ne 0 ]; then\n            echo \"å¿…é ˆä»¥ root æ¬Šé™åŸ·è¡Œæ­¤è…³æœ¬ï¼\";\n            exit 1;\n        fi\n    fi\n}\n\nuser_exists() { \n    id \"$1\" &> /dev/null \n}\n\ncheck_depts_dir() {\n    if [ -d ${depts_dir} ]; then\n        grps=\"$(ls ./${depts_dir} | grep \".txt\" | cut -d \".\" -f 1)\"\n        for grp in ${grps}\n        do\n            # https://stackoverflow.com/questions/28038633/wc-l-is-not-counting-last-of-the-file-if-it-does-not-have-end-of-line-character\n            count=$(awk 'END{print NR}' ./${depts_dir}/${grp}.txt)\n            file=$(realpath ./${depts_dir}/${grp}.txt)\n            if [ $count -lt 1 ]; then\n                echo \"è«‹å†æª¢æŸ¥ä¸€æ¬¡ ${depts_dir} å…§æ˜¯å¦å«æœ‰æ­£ç¢ºæ ¼å¼çš„å­¸è™Ÿæª”æ¡ˆï¼\"\n                echo \"æœ‰å•é¡Œçš„æª”æ¡ˆ: $file\"\n                exit 1\n            else\n                echo \"æ–¼ $file ç™¼ç¾äº† $count å€‹å­¸ç”Ÿ\"\n            fi\n        done\n    else\n        echo \"ç³»è³‡æ–™å¤¾ ${depts_dir} ä¸å­˜åœ¨ï¼è«‹å…ˆæ‰‹å‹•å‰µå»ºæˆ–æ˜¯ç”±é¸é … -c, --generate-configuration å»ºç«‹ã€‚\"\n        exit 1;\n    fi\n}\n\n# create_pass_dir() {\n#     if [ ! -d ${pass_dir} ]; then\n#         echo \"å­˜æ”¾å¯†ç¢¼çš„ ${pass_dir} è³‡æ–™å¤¾ä¸å­˜åœ¨ï¼Œå°‡å»ºç«‹ ${pass_dir} è³‡æ–™å¤¾\"\n#         mkdir ${pass_dir}\n#     else\n#         read -p \"å­˜æ”¾å¯†ç¢¼çš„ ${pass_dir} è³‡æ–™å¤¾å·²å­˜åœ¨ï¼æ˜¯å¦è¦å°‡å…¶ç§»é™¤å¾Œç¹¼çºŒå»ºç«‹å¸³è™Ÿ? (yes/No)\" yn\n#         case $yn in\n#             [Yy]* ) \n#                 rm -rf ${pass_dir}\n#                 make_pass_dir\n#             ;;\n#             [Nn]* ) exit 1;;\n#         esac\n#     fi\n# }\n\ncreate_users() {\n    # å¦‚æœæœ‰ç”¢ç”Ÿå¯†ç¢¼çš„éœ€æ±‚\n    # if [ ${gp} = true ]; then\n    #     create_pass_dir\n    # fi\n\n    for grp in ${grps}\n    do\n        # ç¢ºèªä½¿ç”¨è€…ç¾¤çµ„æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨å°‡è‡ªå‹•å»ºç«‹\n        if $(grep -q \"^${grp}:\" /etc/group); then\n            :\n        else\n            # éè©¦é‹è¡Œ\n            if [ ${dryrun} = false ]; then\n                groupadd ${grp}\n            fi\n            echo \"å·²å»ºç«‹ ${grp} ä½¿ç”¨è€…ç¾¤çµ„\"\n        fi\n    done\n\n    for grp in ${grps}\n    do \n        # ä½¿ç”¨èˆŠæ–¹æ³•é€£çµ ShinyApps\n        if [ ${new} = false ] && [ ! -d /srv/shiny-server/${grp} ]; then\n            echo \"/srv/shiny-server/${grp} è³‡æ–™å¤¾ä¸å­˜åœ¨ï¼Œå°‡å»ºç«‹ç¾¤çµ„è³‡æ–™å¤¾\"\n            # éè©¦é‹è¡Œ\n            if [ ${dryrun} = false ]; then\n                mkdir /srv/shiny-server/${grp}\n            fi\n        fi\n\n        created=0\n        skip=0\n\n        # é€è¡Œè®€å–å­¸è™Ÿ\n        while IFS= read -r stu || [ -n \"$stu\" ];\n        do\n            cur_user=${stu}\n\n            if user_exists \"${cur_user}\"; then\n                (( skip += 1 ))\n            \n            elif [ ${dryrun} = false ]; then\n                # å¦‚æœä¸æ”¯æ´ badname\n                if [ ${badname_supported} == false ]; then\n                    useradd -N -g stu -G ${grp} -m ${cur_user}\n                else\n                    useradd --badnames -N -g stu -G ${grp} -m ${cur_user}\n                fi\n\n                # ç”¢ç”Ÿéš¨æ©Ÿå¯†ç¢¼\n                # if [ ${gp} = false ]; then\n                cur_user_password=${cur_user}\n                # else\n                #     cur_user_password=$(openssl rand -base64 6)\n                # fi\n                \n                # ä»¥ root æ¬Šé™å‰µç«‹ä½¿ç”¨è€…å¸³è™Ÿï¼Œä¸¦è¨­å®šå¯†ç¢¼\n                echo \"${cur_user}:${cur_user_password}\" | chpasswd\n\n                # å°‡è¨­å®šçš„å¸³è™Ÿå¯†ç¢¼å„²å­˜ä¸€ä»½åˆ°è³‡æ–™å¤¾ä¸­\n                # echo \"${cur_user},${cur_user_password}\"| tee -a ./${pass_dir}/${grp}.csv > /dev/null 2>&1\n\n                # å°‡ ShinyApp è»Ÿé€£çµè‡³ä½¿ç”¨è€…è³‡æ–™å¤¾\n                if [ ${new} = false ]; then\n                    # éœ€è¦å…ˆåœ¨ /etc/skel/ å»ºç«‹ ShinyApps è³‡æ–™å¤¾ï¼Œæ‰å¯æˆåŠŸé€£çµ\n                    ln -s /home/${cur_user}/ShinyApps /srv/shiny-server/${grp}/${cur_user}\n                fi\n\n                (( created += 1 ))\n            else\n                # å¦‚æœç‚ºè©¦é‹è¡Œæ¨¡å¼\n                (( created += 1 ))\n            fi\n\n        done < ./${depts_dir}/${grp}.txt\n\n        echo \"æˆåŠŸå¾ç¾¤çµ„ ${grp} å»ºç«‹äº† ${created} å€‹å¸³è™Ÿï¼Œå¿½ç•¥äº† ${skip} å€‹å·²å­˜åœ¨å¸³è™Ÿã€‚\"\n    done\n}\n\ndelete_users() {\n    for grp in ${grps}\n    do \n        skip=0\n        deleted=0\n        while IFS= read -r stu || [ -n \"$stu\" ];\n        do\n            cur_user=${stu}\n            if user_exists \"${cur_user}\"; then\n                userdel -r ${cur_user} > /dev/null 2>&1\n                if [ ${new} = false ]; then\n                    rm -rf /srv/shiny-server/${grp}/${stu}\n                fi\n                (( deleted += 1 ))\n            else\n                (( skip += 1 ))\n            fi\n        done < ./${depts_dir}/${grp}.txt\n        echo \"æˆåŠŸå¾ç¾¤çµ„ ${grp} ç§»é™¤äº† ${deleted} å€‹å¸³è™Ÿï¼Œå…¶ä¸­å…±æœ‰ ${skip} å€‹å¸³è™Ÿä¸å­˜åœ¨ã€‚\"\n    done\n    # read -p \"ä½¿ç”¨è€…å·²ç§»é™¤ï¼Œæ˜¯å¦è¦é †ä¾¿ç§»é™¤å­˜æ”¾å¯†ç¢¼çš„è³‡æ–™å¤¾ ${pass_dir}? (yes/No)\" yn\n\n    # case $yn in\n    #     [Yy]* ) \n    #         rm -rf ${pass_dir}\n    #     ;;\n    #     [No]* ) exit 0;;\n    # esac\n}\n\ncreate_prompt() {\n    read -p \"å³å°‡å»ºç«‹ä½¿ç”¨è€…å¸³æˆ¶ï¼Œç¢ºèªä½¿ç”¨è€…è³‡æ–™æ˜¯å¦ç„¡èª¤?ï¼ˆYes/Noï¼‰\" yn\n    echo \n\n    case $yn in\n        [Yy]* ) create_users;;\n        [Nn]* ) exit 0;;\n    esac\n}\n\ndelete_prompt() {\n    read -p \"å³å°‡ 'åˆªé™¤' ä½¿ç”¨è€…å¸³æˆ¶ï¼Œæ–¼ /home/<ä½¿ç”¨è€…> çš„è³‡æ–™å°‡æœƒæ¶ˆå¤±ï¼Œæ˜¯å¦åŸ·è¡Œ?ï¼ˆYes/Noï¼‰\" yn\n    case $yn in\n        [Yy]* ) delete_users;;\n        [Nn]* ) exit 0;;\n    esac\n}\n\ngenerate_configuration() {\n    if [ -d ${depts_dir} ]; then\n        echo \"è³‡æ–™å¤¾å·²å­˜åœ¨ï¼è«‹å…ˆåˆªé™¤ ${depts_dir} è³‡æ–™å¤¾\"\n    else\n        mkdir ${depts_dir}\n        touch ${depts_dir}/asis.txt\n        touch ${depts_dir}/eco.txt\n        echo 08170875 > ${depts_dir}/asis.txt\n        echo 08220855 > ${depts_dir}/eco.txt\n        echo \"è¨­å®šæª”æ¡ˆå»ºç«‹å®Œæˆ\"\n    fi\n    exit 0;\n}\n\ndisplay_help() {\n    cat << EOF\nä½¿ç”¨æ–¹æ³•: $0 [ é¸é …... ] < create | delete >\n\né¸é …: \n    -h, --help                      ç”¢ç”Ÿæ­¤èªªæ˜æ–‡å­—\n    -d, --dry-run                   è©¦é‹è¡Œè…³æœ¬ï¼Œä¸å¯¦éš›åŸ·è¡Œ\n    -c, --generate-configuration    ç”¢ç”Ÿç¯„ä¾‹è¨­å®š\n    -o, --old-shiny-server          ShinyApps å°‡ä½¿ç”¨è»Ÿé€£çµçš„æ–¹å¼é€£çµï¼ˆä¸æ¨è–¦ï¼‰\nEOF\n}\n\nwhile :\ndo\n    case \"$1\" in\n        -h | --help)\n            display_help\n            exit 0\n        ;;\n        -d | --dry-run)\n            dryrun=true\n            shift 1\n            break\n        ;;\n        # -p | --generate-password)\n        #     gp=true\n        #     shift 1\n        #     break\n        # ;;\n        -c | --generate-configuration)\n            generate_configuration\n            exit 0\n        ;;\n        -o | --old-shiny-server)\n            new=false\n            shift 1\n            break\n        ;;\n        -*)\n            echo \"éŒ¯èª¤ï¼šæœªçŸ¥çš„é¸é …ï¼š$1\"\n            display_help\n            exit 1\n        ;;\n        *)\n            break\n        ;;\n    esac\ndone\n\ncase \"$1\" in\n    create)\n        check_permission\n        check_depts_dir\n        create_prompt\n    ;;\n    delete)\n        check_permission\n        check_depts_dir\n        delete_prompt\n    ;;\n    *)\n        echo \"éŒ¯èª¤ï¼Œè«‹åƒè€ƒä¸‹åˆ—æŒ‡ä»¤èªªæ˜ï¼š\"\n        echo \n        display_help\n        exit 1\n    ;;\nesacchmod +x manage-users.sh./manage-users.sh --helpä½¿ç”¨æ–¹æ³•: ./manage-users.sh [é¸é …...] <create | delete>\n\né¸é …:\n    -h, --help                      ç”¢ç”Ÿæ­¤èªªæ˜æ–‡å­—\n    -d, --dry-run                   è©¦é‹è¡Œè…³æœ¬ï¼Œä¸å¯¦éš›åŸ·è¡Œ\n    -c, --generate-configuration    ç”¢ç”Ÿç¯„ä¾‹è¨­å®š\n    -o, --old-shiny-server          ShinyApps å°‡ä½¿ç”¨è»Ÿé€£çµçš„æ–¹å¼é€£çµï¼ˆä¸æ¨è–¦ï¼‰./manage-users.sh -câ”œâ”€â”€ depts\nâ”‚Â Â  â”œâ”€â”€ asis.txt\nâ”‚Â Â  â””â”€â”€ eco.txt\nâ””â”€â”€ manage-users.shsudo ./manage-users.sh createæ–¼ /home/kuaz/Downloads/depts/asis.txt ç™¼ç¾äº† 1 å€‹å­¸ç”Ÿ\næ–¼ /home/kuaz/Downloads/depts/eco.txt ç™¼ç¾äº† 1 å€‹å­¸ç”Ÿ\nå³å°‡å»ºç«‹ä½¿ç”¨è€…å¸³æˆ¶ï¼Œç¢ºèªä½¿ç”¨è€…è³‡æ–™æ˜¯å¦ç„¡èª¤?ï¼ˆYes/Noï¼‰æˆåŠŸå¾ç¾¤çµ„ asis å»ºç«‹äº† 1 å€‹å¸³è™Ÿï¼Œå¿½ç•¥äº† 0 å€‹å·²å­˜åœ¨å¸³è™Ÿã€‚\næˆåŠŸå¾ç¾¤çµ„ eco å»ºç«‹äº† 1 å€‹å¸³è™Ÿï¼Œå¿½ç•¥äº† 0 å€‹å·²å­˜åœ¨å¸³è™Ÿã€‚id 08170875; id 08220855uid=1026(08170875) gid=1006(stu) groups=1006(stu),1007(asis)\nuid=1027(08220855) gid=1006(stu) groups=1006(stu),1005(eco)sudo ./manage-users.sh deleteæ–¼ /home/kuaz/Downloads/depts/asis.txt ç™¼ç¾äº† 1 å€‹å­¸ç”Ÿ\næ–¼ /home/kuaz/Downloads/depts/eco.txt ç™¼ç¾äº† 1 å€‹å­¸ç”Ÿ\nå³å°‡ 'åˆªé™¤' ä½¿ç”¨è€…å¸³æˆ¶ï¼Œæ–¼ /home/<ä½¿ç”¨è€…> çš„è³‡æ–™å°‡æœƒæ¶ˆå¤±ï¼Œæ˜¯å¦åŸ·è¡Œ?ï¼ˆYes/Noï¼‰æˆåŠŸå¾ç¾¤çµ„ asis ç§»é™¤äº† 1 å€‹å¸³è™Ÿï¼Œå…¶ä¸­å…±æœ‰ 0 å€‹å¸³è™Ÿä¸å­˜åœ¨ã€‚\næˆåŠŸå¾ç¾¤çµ„ eco ç§»é™¤äº† 1 å€‹å¸³è™Ÿï¼Œå…¶ä¸­å…±æœ‰ 0 å€‹å¸³è™Ÿä¸å­˜åœ¨ã€‚id 08170875; id 08220855id: â€˜08170875â€™: no such user\nid: â€˜08220855â€™: no such user"},{"path":"å¸³è™Ÿç®¡ç†.html","id":"æŒ‡ä»¤èªªæ˜","chapter":"B å¸³è™Ÿç®¡ç†","heading":"B.1.3 æŒ‡ä»¤èªªæ˜","text":"","code":""},{"path":"å¸³è™Ÿç®¡ç†.html","id":"è®€å–é¸é …çš„è¿´åœˆ","chapter":"B å¸³è™Ÿç®¡ç†","heading":"B.1.3.1 è®€å–é¸é …çš„è¿´åœˆ","text":"é¦–å…ˆæ˜¯ç¬¬ä¸€å€‹è¿´åœˆï¼Œç¬¬ä¸€å€‹è¿´åœˆæ˜¯æª¢æŸ¥é¸é …ç”¨çš„ï¼Œé€™è£¡ä½¿ç”¨çš„æ˜¯ Bash Script çš„ Case èªæ³•ï¼ˆé¡ä¼¼ Switch çš„æ¦‚å¿µï¼‰ã€‚é¦–å…ˆ : çš„æ„æ€åœ¨ Bash Script è£¡é¢å°±æ˜¯ true çš„æ„æ€ã€‚è€Œ -done æ˜¯æ¥çºŒ çš„èªå¥ã€‚æ¥è‘—æœƒç¢°åˆ° $1ï¼Œ$1 ä»£è¡¨çš„æ˜¯æŒ‡ä»¤ä»¥ç©ºç™½å€éš”ï¼Œç¬¬ä¸€å€‹ä½ç½®çš„åƒæ•¸åœ¨ Bash Script è£¡é¢å°±æœƒè¢«è¨­ç‚º $1ï¼Œä¾‹å¦‚ï¼šæ‰€ä»¥é€™è£¡çš„ $1 å°±ä»£è¡¨è‘—ç¬¬ä¸€å€‹åƒæ•¸ä½ç½®ï¼Œ-cã€‚æ‰€ä»¥ç•¶è…³æœ¬ç¢°åˆ° - é–‹é ­çš„é¸é …æ™‚ï¼Œå°±æœƒè½åˆ° Case çš„ Pattern è£¡é¢å»åŒ¹é…é¸é …ã€‚é‚£ç‚ºä»€éº¼è…³æœ¬ä¸Ÿåˆ° Case è£¡é¢çš„è®Šæ•¸ä¸€ç›´éƒ½æ˜¯ $1 ä¹Ÿå¯ä»¥è·‘ï¼Ÿæ˜¯å› ç‚ºæ­é…äº† shift 1 æŒ‡ä»¤ï¼Œç•¶è…³æœ¬ç¢°åˆ° shift 1ï¼Œå®ƒæœƒå°‡ $1 ä¸Ÿæ£„ï¼Œ$2 éè£œä¸Šä¾†è®Šç‚º $1ï¼Œç›´åˆ°é‡åˆ°å…¶ä»–çµ‚æ­¢çš„æ¢ä»¶ï¼Œåƒæ˜¯ break æˆ–æ˜¯ exitã€‚","code":"while :\ndo\n    case \"$1\" in\n        -h | --help)\n            display_help\n            exit 0\n        ;;\n        -d | --dry-run)\n            dryrun=true\n            shift 1\n            break\n        ;;\n        # -p | --generate-password)\n        #     gp=true\n        #     shift 1\n        #     break\n        # ;;\n        -c | --generate-configuration)\n            generate_configuration\n            exit 0\n        ;;\n        -o | --old-shiny-server)\n            new=false\n            shift 1\n            break\n        ;;\n        -*)\n            echo \"éŒ¯èª¤ï¼šæœªçŸ¥çš„é¸é …ï¼š$1\"\n            display_help\n            exit 1\n        ;;\n        *)\n            break\n        ;;\n    esac\ndone./manage-users.sh -c"},{"path":"å¸³è™Ÿç®¡ç†.html","id":"è®€å–æ–¹æ³•çš„-switch-case","chapter":"B å¸³è™Ÿç®¡ç†","heading":"B.1.3.2 è®€å–æ–¹æ³•çš„ Switch Case","text":"ä¸€æ¨£çš„ï¼Œé€™è£¡æœƒç”¨åˆ°ç›¸åŒçš„ Switch Case æ¦‚å¿µï¼Œå‡å¦‚ä¸Šä¸€å€‹è¿´åœˆè¢« break çµ‚æ­¢å¾Œï¼Œä¸” $1 è¢«åŒ…å«åœ¨ Switch Case çš„é¸é …ä¸­å°±æœƒè§¸ç™¼å°æ‡‰çš„æ–¹æ³•ã€‚é€™è£¡æˆ‘é‡å° create èˆ‡ delete è¨­å®šäº†ä¸åŒçš„æ–¹æ³•ã€‚å»ºç«‹ä½¿ç”¨è€…æœƒä¾åºå‘¼å« 3 å€‹æ–¹æ³•ï¼Œåˆ†åˆ¥æ˜¯ check_permissionï¼ˆæª¢æŸ¥æ¬Šé™æ˜¯å¦ç‚º rootï¼‰ã€check_depts_dirï¼ˆæª¢æŸ¥ç³»è³‡æ–™å¤¾æ˜¯å¦ç¬¦åˆè¦ç¯„ï¼‰æœ€å¾Œæ‰æ˜¯ create_prompt ï¼ˆå»ºç«‹ä½¿ç”¨è€…æç¤ºï¼‰ã€‚","code":"case \"$1\" in\n    create)\n        check_permission\n        check_depts_dir\n        create_prompt\n    ;;\n    delete)\n        check_permission\n        check_depts_dir\n        delete_prompt\n    ;;\n    *)\n        echo \"éŒ¯èª¤ï¼Œè«‹åƒè€ƒä¸‹åˆ—æŒ‡ä»¤èªªæ˜ï¼š\"\n        echo \n        display_help\n        exit 1\n    ;;\nesac"},{"path":"å¸³è™Ÿç®¡ç†.html","id":"å»ºç«‹ä½¿ç”¨è€…","chapter":"B å¸³è™Ÿç®¡ç†","heading":"B.1.3.3 å»ºç«‹ä½¿ç”¨è€…","text":"å»ºç«‹ä½¿ç”¨è€…çš„æµç¨‹å¦‚ä¸‹åœ–ï¼Œåœ– B.2 æ´»å‹•åœ–æ‰€ç¤ºï¼š\nåœ– B.2: å»ºç«‹ä½¿ç”¨è€…\né€™è£¡ç”¨åˆ°éå¸¸å¤šçš„ åˆ¤æ–·ç’°å¢ƒï¼Œæ‰€ä»¥æœ¬è…³æœ¬é‚„æœ‰å¾ˆå¤šæ”¹å–„çš„ç©ºé–“ã€‚","code":""},{"path":"å¸³è™Ÿç®¡ç†.html","id":"æª¢æŸ¥æ¬Šé™check_permissionæ–¹æ³•","chapter":"B å¸³è™Ÿç®¡ç†","heading":"B.1.3.3.1 æª¢æŸ¥æ¬Šé™ï¼ˆcheck_permissionï¼‰æ–¹æ³•ï¼š","text":"é€™æ®µç¨‹å¼ç¢¼åšäº†ï¼šç¬¬ 1 è¡Œï¼Œæ–¹æ³•åç¨±ç¬¬ 1 è¡Œï¼Œæ–¹æ³•åç¨±ç¬¬ 2 è¡Œï¼Œæª¢æŸ¥è®Šæ•¸ dryrunï¼ˆè©¦é‹è¡Œï¼‰æ˜¯å¦ç‚º trueã€‚å¦‚æœè©¦é‹è¡Œé¸é …æœ‰è¨­å®šæ™‚ï¼Œæœƒç›´æ¥ç•¥éé€™å€‹ èªå¥ã€‚ç¬¬ 2 è¡Œï¼Œæª¢æŸ¥è®Šæ•¸ dryrunï¼ˆè©¦é‹è¡Œï¼‰æ˜¯å¦ç‚º trueã€‚å¦‚æœè©¦é‹è¡Œé¸é …æœ‰è¨­å®šæ™‚ï¼Œæœƒç›´æ¥ç•¥éé€™å€‹ èªå¥ã€‚ç¬¬ 3 è¡Œï¼Œ: åœ¨è…³æœ¬ä¸­ä»£è¡¨çš„æ˜¯ true çš„åˆ¥åï¼Œå› ç‚º èˆ‡å¥ä¸èƒ½ç‚ºç©ºï¼Œæ‰€ä»¥é€™è£¡æ”¾ä¸€å€‹ :ã€‚è©³ç´°èªªæ˜å¯ä»¥åƒè€ƒé€™è£¡ç¬¬ 3 è¡Œï¼Œ: åœ¨è…³æœ¬ä¸­ä»£è¡¨çš„æ˜¯ true çš„åˆ¥åï¼Œå› ç‚º èˆ‡å¥ä¸èƒ½ç‚ºç©ºï¼Œæ‰€ä»¥é€™è£¡æ”¾ä¸€å€‹ :ã€‚è©³ç´°èªªæ˜å¯ä»¥åƒè€ƒé€™è£¡ç¬¬ 5 è¡Œï¼Œæª¢æŸ¥ç•¶å‰çš„ä½¿ç”¨è€…ç·¨è™Ÿæ˜¯å¦ç‚º 0ï¼Œé€™è£¡çš„ 0 æ˜¯ä»£è¡¨ rootã€‚ç¬¬ 5 è¡Œï¼Œæª¢æŸ¥ç•¶å‰çš„ä½¿ç”¨è€…ç·¨è™Ÿæ˜¯å¦ç‚º 0ï¼Œé€™è£¡çš„ 0 æ˜¯ä»£è¡¨ rootã€‚ç¬¬ 6 è¡Œï¼Œè¼¸å‡ºè¨Šæ¯ç¬¬ 6 è¡Œï¼Œè¼¸å‡ºè¨Šæ¯ç¬¬ 7 è¡Œï¼ŒçµæŸç¨‹å¼ï¼ŒéŒ¯èª¤ä»£ç¢¼ç‚º 1ç¬¬ 7 è¡Œï¼ŒçµæŸç¨‹å¼ï¼ŒéŒ¯èª¤ä»£ç¢¼ç‚º 1","code":"check_permission() {\n    if [ ${dryrun} == true ]; then\n        :\n    else\n        if [ $(id -u) -ne 0 ]; then\n            echo \"å¿…é ˆä»¥ root æ¬Šé™åŸ·è¡Œæ­¤è…³æœ¬ï¼\";\n            exit 1;\n        fi\n    fi\n}"},{"path":"å¸³è™Ÿç®¡ç†.html","id":"æª¢æŸ¥ç³»è³‡æ–™å¤¾æ˜¯å¦ç¬¦åˆè¦ç¯„check_depts_dir","chapter":"B å¸³è™Ÿç®¡ç†","heading":"B.1.3.3.2 æª¢æŸ¥ç³»è³‡æ–™å¤¾æ˜¯å¦ç¬¦åˆè¦ç¯„ï¼ˆcheck_depts_dirï¼‰","text":"é€™æ®µç¨‹å¼ç¢¼åšäº†ï¼šç¬¬ 1 è¡Œï¼Œæ–¹æ³•åç¨±ç¬¬ 1 è¡Œï¼Œæ–¹æ³•åç¨±ç¬¬ 2 è¡Œï¼Œæª¢æŸ¥è³‡æ–™å¤¾ depts æ˜¯å¦å­˜åœ¨ç¬¬ 2 è¡Œï¼Œæª¢æŸ¥è³‡æ–™å¤¾ depts æ˜¯å¦å­˜åœ¨ç¬¬ 3 è¡Œï¼Œls æœƒåˆ—å‡ºæ–¼ depts è³‡æ–™å¤¾ä¸­æ‰€æœ‰çš„æª”æ¡ˆï¼Œ| æœƒå°‡å‰ä¸€å€‹æŒ‡ä»¤çš„çµæœå‚³åˆ°ä¸‹ä¸€å€‹æŒ‡ä»¤è£¡é¢ï¼Œgrep \".txt\" æœƒæŠ“å‡ºå«æœ‰ .txt çš„æª”æ¡ˆï¼Œæ¥è‘—æœ€å¾Œçš„ cut -d \".\" -f 1 æœƒå°‡è³‡æ–™ä»¥ . ä½œç‚ºåˆ†éš”ç¬¦è™Ÿåˆ‡å‰²ï¼Œå–å‡ºç¬¬ä¸€å€‹çµæœã€‚ä¾‹å¦‚è³‡æ–™å¤¾ä¸­æœ‰è‘—ä¸‰å€‹ .txt çš„æª”æ¡ˆï¼Œasis.txtã€eco.txtèˆ‡ fin.txtï¼Œæœ€å¾Œè¼¸å‡ºçš„çµæœç‚ºï¼šasisã€eco èˆ‡ finã€‚ç¬¬ 3 è¡Œï¼Œls æœƒåˆ—å‡ºæ–¼ depts è³‡æ–™å¤¾ä¸­æ‰€æœ‰çš„æª”æ¡ˆï¼Œ| æœƒå°‡å‰ä¸€å€‹æŒ‡ä»¤çš„çµæœå‚³åˆ°ä¸‹ä¸€å€‹æŒ‡ä»¤è£¡é¢ï¼Œgrep \".txt\" æœƒæŠ“å‡ºå«æœ‰ .txt çš„æª”æ¡ˆï¼Œæ¥è‘—æœ€å¾Œçš„ cut -d \".\" -f 1 æœƒå°‡è³‡æ–™ä»¥ . ä½œç‚ºåˆ†éš”ç¬¦è™Ÿåˆ‡å‰²ï¼Œå–å‡ºç¬¬ä¸€å€‹çµæœã€‚ä¾‹å¦‚è³‡æ–™å¤¾ä¸­æœ‰è‘—ä¸‰å€‹ .txt çš„æª”æ¡ˆï¼Œasis.txtã€eco.txtèˆ‡ fin.txtï¼Œæœ€å¾Œè¼¸å‡ºçš„çµæœç‚ºï¼šasisã€eco èˆ‡ finã€‚ç¬¬ 4-5 è¡Œï¼Œå°‡å‰ä¸€å€‹çµæœæ”¾åˆ° è¿´åœˆä¸­ã€‚ç¬¬ 4-5 è¡Œï¼Œå°‡å‰ä¸€å€‹çµæœæ”¾åˆ° è¿´åœˆä¸­ã€‚ç¬¬ 6 è¡Œï¼Œawk æ˜¯ä¸€ç¨®æ–‡å­—è™•ç†å·¥å…·ï¼Œé€™è£¡çš„åŠŸç”¨æ˜¯è¨ˆç®—ç³»è³‡æ–™ä¸­çš„æª”æ¡ˆæœ‰å¹¾åˆ—ï¼ˆä¸åŒ…å«ç©ºè¡Œï¼‰ï¼Œä¼°ç®—è¦å»ºç«‹çš„ä½¿ç”¨è€…æ•¸ç›®ã€‚ç¬¬ 6 è¡Œï¼Œawk æ˜¯ä¸€ç¨®æ–‡å­—è™•ç†å·¥å…·ï¼Œé€™è£¡çš„åŠŸç”¨æ˜¯è¨ˆç®—ç³»è³‡æ–™ä¸­çš„æª”æ¡ˆæœ‰å¹¾åˆ—ï¼ˆä¸åŒ…å«ç©ºè¡Œï¼‰ï¼Œä¼°ç®—è¦å»ºç«‹çš„ä½¿ç”¨è€…æ•¸ç›®ã€‚ç¬¬ 7 è¡Œï¼Œrealpath æœƒå°‡æª”æ¡ˆå®Œæ•´çš„è·¯é€²å°å‡ºä¾†ï¼Œä¸¦å„²å­˜åœ¨è®Šæ•¸ file ä¸­ç¬¬ 7 è¡Œï¼Œrealpath æœƒå°‡æª”æ¡ˆå®Œæ•´çš„è·¯é€²å°å‡ºä¾†ï¼Œä¸¦å„²å­˜åœ¨è®Šæ•¸ file ä¸­ç¬¬ 8 è¡Œï¼Œèªå¥ï¼Œå¦‚æœæ•¸é‡å°‘æ–¼ 1ç¬¬ 8 è¡Œï¼Œèªå¥ï¼Œå¦‚æœæ•¸é‡å°‘æ–¼ 1ç¬¬ 9-11 è¡Œï¼Œè¼¸å‡ºè¨Šæ¯ä¸¦ä¸­æ­¢ç¬¬ 9-11 è¡Œï¼Œè¼¸å‡ºè¨Šæ¯ä¸¦ä¸­æ­¢ç¬¬ 13 è¡Œï¼Œè¼¸å‡ºè¨Šæ¯ç¬¬ 13 è¡Œï¼Œè¼¸å‡ºè¨Šæ¯ç¬¬ 17-18 è¡Œï¼Œè¼¸å‡ºè¨Šæ¯ä¸¦ä¸­æ­¢ç¬¬ 17-18 è¡Œï¼Œè¼¸å‡ºè¨Šæ¯ä¸¦ä¸­æ­¢","code":"check_depts_dir() {\n    if [ -d ${depts_dir} ]; then\n        grps=\"$(ls ./${depts_dir} | grep \".txt\" | cut -d \".\" -f 1)\"\n        for grp in ${grps}\n        do\n            count=$(awk 'END{print NR}' ./${depts_dir}/${grp}.txt)\n            file=$(realpath ./${depts_dir}/${grp}.txt)\n            if [ $count -lt 1 ]; then\n                echo \"è«‹å†æª¢æŸ¥ä¸€æ¬¡ ${depts_dir} å…§æ˜¯å¦å«æœ‰æ­£ç¢ºæ ¼å¼çš„å­¸è™Ÿæª”æ¡ˆï¼\"\n                echo \"æœ‰å•é¡Œçš„æª”æ¡ˆ: $file\"\n                exit 1\n            else\n                echo \"æ–¼ $file ç™¼ç¾äº† $count å€‹å­¸ç”Ÿ\"\n            fi\n        done\n    else\n        echo \"ç³»è³‡æ–™å¤¾ ${depts_dir} ä¸å­˜åœ¨ï¼è«‹å…ˆæ‰‹å‹•å‰µå»ºæˆ–æ˜¯ç”±é¸é … -c, --generate-configuration å»ºç«‹ã€‚\"\n        exit 1;\n    fi\n}"},{"path":"å¸³è™Ÿç®¡ç†.html","id":"å»ºç«‹ä½¿ç”¨è€…æç¤ºcreate_prompt","chapter":"B å¸³è™Ÿç®¡ç†","heading":"B.1.3.3.3 å»ºç«‹ä½¿ç”¨è€…æç¤ºï¼ˆcreate_promptï¼‰","text":"é€™æ®µç¨‹å¼ç¢¼åšäº†ï¼šç¬¬ 1 è¡Œï¼Œæ–¹æ³•åç¨±ç¬¬ 1 è¡Œï¼Œæ–¹æ³•åç¨±ç¬¬ 2 è¡Œï¼Œè®€å–ä½¿ç”¨è€…è¼¸å…¥ï¼Œä¸¦å„²å­˜åˆ°è®Šæ•¸ yn ä¸­ç¬¬ 2 è¡Œï¼Œè®€å–ä½¿ç”¨è€…è¼¸å…¥ï¼Œä¸¦å„²å­˜åˆ°è®Šæ•¸ yn ä¸­ç¬¬ 5 è¡Œï¼ŒSwitch Case èªå¥ç¬¬ 5 è¡Œï¼ŒSwitch Case èªå¥ç¬¬ 6 è¡Œï¼Œç•¶ç¬¬ä¸€å€‹å­—æ¯ç‚º Y æˆ–æ˜¯ y æœƒè½åˆ°æ­¤èªå¥ï¼Œä¸¦åŸ·è¡Œ create_users æ–¹æ³•ç¬¬ 6 è¡Œï¼Œç•¶ç¬¬ä¸€å€‹å­—æ¯ç‚º Y æˆ–æ˜¯ y æœƒè½åˆ°æ­¤èªå¥ï¼Œä¸¦åŸ·è¡Œ create_users æ–¹æ³•ç¬¬ 7 è¡Œï¼Œç•¶ç¬¬ä¸€å€‹å­—æ¯ç‚º N æˆ–æ˜¯ n æœƒè½åˆ°æ­¤èªå¥ï¼Œç›´æ¥é€€å‡ºç¨‹å¼ç¬¬ 7 è¡Œï¼Œç•¶ç¬¬ä¸€å€‹å­—æ¯ç‚º N æˆ–æ˜¯ n æœƒè½åˆ°æ­¤èªå¥ï¼Œç›´æ¥é€€å‡ºç¨‹å¼","code":"create_prompt() {\n    read -p \"å³å°‡å»ºç«‹ä½¿ç”¨è€…å¸³æˆ¶ï¼Œç¢ºèªä½¿ç”¨è€…è³‡æ–™æ˜¯å¦ç„¡èª¤?ï¼ˆYes/Noï¼‰\" yn\n    echo \n\n    case $yn in\n        [Yy]* ) create_users;;\n        [Nn]* ) exit 0;;\n    esac\n}"},{"path":"å¸³è™Ÿç®¡ç†.html","id":"å»ºç«‹ä½¿ç”¨è€…create_users","chapter":"B å¸³è™Ÿç®¡ç†","heading":"B.1.3.3.4 å»ºç«‹ä½¿ç”¨è€…ï¼ˆcreate_usersï¼‰","text":"é€™æ®µç¨‹å¼ç¢¼åšäº†ï¼šç¬¬ 1 è¡Œï¼Œæ–¹æ³•åç¨±ç¬¬ 1 è¡Œï¼Œæ–¹æ³•åç¨±ç¬¬ 7 è¡Œï¼Œæ ¹æ“š check_depts_dir ç”¢ç”Ÿçš„è®Šæ•¸ grps åš è¿´åœˆç¬¬ 7 è¡Œï¼Œæ ¹æ“š check_depts_dir ç”¢ç”Ÿçš„è®Šæ•¸ grps åš è¿´åœˆç¬¬ 10 è¡Œï¼Œæª¢æŸ¥ç•¶å‰ è¿´åœˆç¾¤çµ„ä½¿å¦å­˜åœ¨ç¬¬ 10 è¡Œï¼Œæª¢æŸ¥ç•¶å‰ è¿´åœˆç¾¤çµ„ä½¿å¦å­˜åœ¨ç¬¬ 11 è¡Œï¼Œ: åœ¨è…³æœ¬ä¸­ä»£è¡¨çš„æ˜¯ true çš„åˆ¥åï¼Œå› ç‚º èˆ‡å¥ä¸èƒ½ç‚ºç©ºï¼Œæ‰€ä»¥é€™è£¡æ”¾ä¸€å€‹ :ã€‚è©³ç´°èªªæ˜å¯ä»¥åƒè€ƒé€™è£¡ç¬¬ 11 è¡Œï¼Œ: åœ¨è…³æœ¬ä¸­ä»£è¡¨çš„æ˜¯ true çš„åˆ¥åï¼Œå› ç‚º èˆ‡å¥ä¸èƒ½ç‚ºç©ºï¼Œæ‰€ä»¥é€™è£¡æ”¾ä¸€å€‹ :ã€‚è©³ç´°èªªæ˜å¯ä»¥åƒè€ƒé€™è£¡ç¬¬ 14 è¡Œï¼Œæª¢æŸ¥ dryrunï¼ˆè©¦é‹è¡Œï¼‰è®Šæ•¸ç¬¬ 14 è¡Œï¼Œæª¢æŸ¥ dryrunï¼ˆè©¦é‹è¡Œï¼‰è®Šæ•¸ç¬¬ 15 è¡Œï¼Œæ–°å¢ä½¿ç”¨è€…ç¾¤çµ„ç¬¬ 15 è¡Œï¼Œæ–°å¢ä½¿ç”¨è€…ç¾¤çµ„ç¬¬ 21 è¡Œï¼Œæ ¹æ“š check_depts_dir ç”¢ç”Ÿçš„è®Šæ•¸ grps åš è¿´åœˆç¬¬ 21 è¡Œï¼Œæ ¹æ“š check_depts_dir ç”¢ç”Ÿçš„è®Šæ•¸ grps åš è¿´åœˆç¬¬ 24 è¡Œï¼Œæª¢æŸ¥ newï¼ˆæ˜¯å¦ä½¿ç”¨æ–°æ–¹æ³•å‰µå»º ShinyApps è³‡æ–™å¤¾ï¼‰èˆ‡ /srv/shiny-server/ç¾¤çµ„åç¨±ç¬¬ 24 è¡Œï¼Œæª¢æŸ¥ newï¼ˆæ˜¯å¦ä½¿ç”¨æ–°æ–¹æ³•å‰µå»º ShinyApps è³‡æ–™å¤¾ï¼‰èˆ‡ /srv/shiny-server/ç¾¤çµ„åç¨±ç¬¬ 25 è¡Œï¼Œè¼¸å‡ºè¨Šæ¯ç¬¬ 25 è¡Œï¼Œè¼¸å‡ºè¨Šæ¯ç¬¬ 27 è¡Œï¼Œæª¢æŸ¥ dryrunï¼ˆè©¦é‹è¡Œï¼‰è®Šæ•¸ç¬¬ 27 è¡Œï¼Œæª¢æŸ¥ dryrunï¼ˆè©¦é‹è¡Œï¼‰è®Šæ•¸ç¬¬ 28 è¡Œï¼Œå»ºç«‹ä½¿ç”¨è€…ç¾¤çµ„ç¬¬ 28 è¡Œï¼Œå»ºç«‹ä½¿ç”¨è€…ç¾¤çµ„ç¬¬ 32-33 è¡Œï¼Œåˆå§‹åŒ–è®Šæ•¸ï¼Œcreated ç”¨ä¾†è¨ˆç®—æˆåŠŸå»ºç«‹çš„ä½¿ç”¨è€…ï¼Œskip æ˜¯ç”¨ä¾†è¨ˆç®—å·²ç¶“å­˜åœ¨çš„ä½¿ç”¨è€…ã€‚ç¬¬ 32-33 è¡Œï¼Œåˆå§‹åŒ–è®Šæ•¸ï¼Œcreated ç”¨ä¾†è¨ˆç®—æˆåŠŸå»ºç«‹çš„ä½¿ç”¨è€…ï¼Œskip æ˜¯ç”¨ä¾†è¨ˆç®—å·²ç¶“å­˜åœ¨çš„ä½¿ç”¨è€…ã€‚ç¬¬ 36-37ã€76 è¡Œï¼Œé€è¡Œè®€å…¥æŒ‡å®šçš„æª”æ¡ˆï¼Œ< ./${depts_dir}/${grp}.txtï¼Œé€™è£¡æœƒé€è¡Œè®€å…¥ä¿‚æª”æ¡ˆçš„å­¸è™Ÿï¼Œæ¯è¡Œä»£è¡¨ä¸€å€‹è¦å»ºç«‹çš„ä½¿ç”¨è€…ï¼Œä¸¦å„²å­˜åˆ° stu è®Šæ•¸ä¸­ã€‚\nIFS= read -r stu || [ -n \"$stu\" ];\n\n    [ çœç•¥... ]\ndone < ./${depts_dir}/${grp}.txtç¬¬ 36-37ã€76 è¡Œï¼Œé€è¡Œè®€å…¥æŒ‡å®šçš„æª”æ¡ˆï¼Œ< ./${depts_dir}/${grp}.txtï¼Œé€™è£¡æœƒé€è¡Œè®€å…¥ä¿‚æª”æ¡ˆçš„å­¸è™Ÿï¼Œæ¯è¡Œä»£è¡¨ä¸€å€‹è¦å»ºç«‹çš„ä½¿ç”¨è€…ï¼Œä¸¦å„²å­˜åˆ° stu è®Šæ•¸ä¸­ã€‚ç¬¬ 38 è¡Œï¼Œè¤‡è£½ä¸€å€‹ stu è®Šæ•¸å„²å­˜åˆ° cur_stu è®Šæ•¸ä¸­ç¬¬ 38 è¡Œï¼Œè¤‡è£½ä¸€å€‹ stu è®Šæ•¸å„²å­˜åˆ° cur_stu è®Šæ•¸ä¸­ç¬¬ 40 è¡Œï¼Œç”¨æ–¹æ³• user_exists åˆ¤æ–·ä½¿ç”¨è€…æ˜¯å¦å­˜åœ¨ï¼Œéš¨å¾Œçš„æ˜¯æ–¹æ³•æ˜¯è¼¸å…¥è®Šæ•¸ç¬¬ 40 è¡Œï¼Œç”¨æ–¹æ³• user_exists åˆ¤æ–·ä½¿ç”¨è€…æ˜¯å¦å­˜åœ¨ï¼Œéš¨å¾Œçš„æ˜¯æ–¹æ³•æ˜¯è¼¸å…¥è®Šæ•¸ç¬¬ 41 è¡Œï¼Œè®Šæ•¸ skip åŠ  1ç¬¬ 41 è¡Œï¼Œè®Šæ•¸ skip åŠ  1ç¬¬ 43 è¡Œï¼Œæª¢æŸ¥ dryrunï¼ˆè©¦é‹è¡Œï¼‰è®Šæ•¸ç¬¬ 43 è¡Œï¼Œæª¢æŸ¥ dryrunï¼ˆè©¦é‹è¡Œï¼‰è®Šæ•¸ç¬¬ 45 è¡Œï¼Œæª¢æŸ¥ badname_supported è®Šæ•¸ç¬¬ 45 è¡Œï¼Œæª¢æŸ¥ badname_supported è®Šæ•¸ç¬¬ 46 è¡Œï¼Œä½¿ç”¨ useradd æŒ‡ä»¤å»ºç«‹ä½¿ç”¨è€…ï¼Œåƒæ•¸èªªæ˜å¦‚ä¸‹ï¼š\n-N, ---user-groupï¼šä¸å»ºç«‹ä½¿ç”¨è€…çš„å€‹äººä½¿ç”¨è€…ç¾¤çµ„ï¼Œé ˆèˆ‡ -g åŒæ™‚ä½¿ç”¨\n-g, --gid ç¾¤çµ„ï¼šæŒ‡å®šä½¿ç”¨è€…çš„ä¸»è¦ç¾¤çµ„\n-G, --groups ç¾¤çµ„1[, ç¾¤çµ„2, ...[,ç¾¤çµ„N]]ï¼šæŒ‡å®šä½¿ç”¨è€…çš„å‰¯ç¾¤çµ„\n-m, --create-homeï¼šå»ºç«‹ä½¿ç”¨è€…çš„å®¶ç›®éŒ„\nç¬¬ 46 è¡Œï¼Œä½¿ç”¨ useradd æŒ‡ä»¤å»ºç«‹ä½¿ç”¨è€…ï¼Œåƒæ•¸èªªæ˜å¦‚ä¸‹ï¼š-N, ---user-groupï¼šä¸å»ºç«‹ä½¿ç”¨è€…çš„å€‹äººä½¿ç”¨è€…ç¾¤çµ„ï¼Œé ˆèˆ‡ -g åŒæ™‚ä½¿ç”¨-N, ---user-groupï¼šä¸å»ºç«‹ä½¿ç”¨è€…çš„å€‹äººä½¿ç”¨è€…ç¾¤çµ„ï¼Œé ˆèˆ‡ -g åŒæ™‚ä½¿ç”¨-g, --gid ç¾¤çµ„ï¼šæŒ‡å®šä½¿ç”¨è€…çš„ä¸»è¦ç¾¤çµ„-g, --gid ç¾¤çµ„ï¼šæŒ‡å®šä½¿ç”¨è€…çš„ä¸»è¦ç¾¤çµ„-G, --groups ç¾¤çµ„1[, ç¾¤çµ„2, ...[,ç¾¤çµ„N]]ï¼šæŒ‡å®šä½¿ç”¨è€…çš„å‰¯ç¾¤çµ„-G, --groups ç¾¤çµ„1[, ç¾¤çµ„2, ...[,ç¾¤çµ„N]]ï¼šæŒ‡å®šä½¿ç”¨è€…çš„å‰¯ç¾¤çµ„-m, --create-homeï¼šå»ºç«‹ä½¿ç”¨è€…çš„å®¶ç›®éŒ„-m, --create-homeï¼šå»ºç«‹ä½¿ç”¨è€…çš„å®¶ç›®éŒ„ç¬¬ 48 è¡Œï¼Œå¤šäº† --badnames é¸é …ï¼Œç‚ºäº†ä½¿ä¸å®‰å…¨å‘½åæ–¹å¼çš„ä½¿ç”¨è€…æˆåŠŸå»ºç«‹ï¼Œä¾‹å¦‚æ•¸å­—é–‹é ­çš„ä½¿ç”¨è€…ã€‚ç¬¬ 48 è¡Œï¼Œå¤šäº† --badnames é¸é …ï¼Œç‚ºäº†ä½¿ä¸å®‰å…¨å‘½åæ–¹å¼çš„ä½¿ç”¨è€…æˆåŠŸå»ºç«‹ï¼Œä¾‹å¦‚æ•¸å­—é–‹é ­çš„ä½¿ç”¨è€…ã€‚ç¬¬ 53 è¡Œï¼Œè¨­å®š cur_user_passwordï¼ˆä½¿ç”¨è€…å¯†ç¢¼ï¼‰è®Šæ•¸ç‚º cur_userï¼ˆç›®å‰çš„ä½¿ç”¨è€…ï¼‰è®Šæ•¸ç¬¬ 53 è¡Œï¼Œè¨­å®š cur_user_passwordï¼ˆä½¿ç”¨è€…å¯†ç¢¼ï¼‰è®Šæ•¸ç‚º cur_userï¼ˆç›®å‰çš„ä½¿ç”¨è€…ï¼‰è®Šæ•¸ç¬¬ 59 è¡Œï¼Œä½¿ç”¨ chpasswd è®Šæ›´ cur_userï¼ˆç›®å‰çš„ä½¿ç”¨è€…ï¼‰çš„ä½¿ç”¨è€…å¯†ç¢¼ç¬¬ 59 è¡Œï¼Œä½¿ç”¨ chpasswd è®Šæ›´ cur_userï¼ˆç›®å‰çš„ä½¿ç”¨è€…ï¼‰çš„ä½¿ç”¨è€…å¯†ç¢¼ç¬¬ 65 è¡Œï¼Œæª¢æŸ¥ newï¼ˆæ˜¯å¦ä½¿ç”¨æ–°æ–¹æ³•å‰µå»º ShinyApps è³‡æ–™å¤¾ï¼‰ç¬¬ 65 è¡Œï¼Œæª¢æŸ¥ newï¼ˆæ˜¯å¦ä½¿ç”¨æ–°æ–¹æ³•å‰µå»º ShinyApps è³‡æ–™å¤¾ï¼‰ç¬¬ 67 è¡Œï¼Œå°‡ ShinyApp è»Ÿé€£çµè‡³ä½¿ç”¨è€…è³‡æ–™å¤¾ç¬¬ 67 è¡Œï¼Œå°‡ ShinyApp è»Ÿé€£çµè‡³ä½¿ç”¨è€…è³‡æ–™å¤¾ç¬¬ 70ã€73 è¡Œï¼Œè®Šæ•¸ created åŠ  1ç¬¬ 70ã€73 è¡Œï¼Œè®Šæ•¸ created åŠ  1ç¬¬ 78 è¡Œï¼Œè¼¸å‡ºè¨Šæ¯ç¬¬ 78 è¡Œï¼Œè¼¸å‡ºè¨Šæ¯","code":"create_users() {\n    # å¦‚æœæœ‰ç”¢ç”Ÿå¯†ç¢¼çš„éœ€æ±‚\n    # if [ ${gp} = true ]; then\n    #     create_pass_dir\n    # fi\n\n    for grp in ${grps}\n    do\n        # ç¢ºèªä½¿ç”¨è€…ç¾¤çµ„æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨å°‡è‡ªå‹•å»ºç«‹\n        if $(grep -q \"^${grp}:\" /etc/group); then\n            :\n        else\n            # éè©¦é‹è¡Œ\n            if [ ${dryrun} = false ]; then\n                groupadd ${grp}\n            fi\n            echo \"å·²å»ºç«‹ ${grp} ä½¿ç”¨è€…ç¾¤çµ„\"\n        fi\n    done\n\n    for grp in ${grps}\n    do \n        # ä½¿ç”¨èˆŠæ–¹æ³•é€£çµ ShinyApps\n        if [ ${new} = false ] && [ ! -d /srv/shiny-server/${grp} ]; then\n            echo \"/srv/shiny-server/${grp} è³‡æ–™å¤¾ä¸å­˜åœ¨ï¼Œå°‡å»ºç«‹ç¾¤çµ„è³‡æ–™å¤¾\"\n            # éè©¦é‹è¡Œ\n            if [ ${dryrun} = false ]; then\n                mkdir /srv/shiny-server/${grp}\n            fi\n        fi\n\n        created=0\n        skip=0\n\n        # é€è¡Œè®€å–å­¸è™Ÿ\n        while IFS= read -r stu || [ -n \"$stu\" ];\n        do\n            cur_user=${stu}\n\n            if user_exists \"${cur_user}\"; then\n                (( skip += 1 ))\n            \n            elif [ ${dryrun} = false ]; then\n                # å¦‚æœä¸æ”¯æ´ badname\n                if [ ${badname_supported} == false ]; then\n                    useradd -N -g stu -G ${grp} -m ${cur_user}\n                else\n                    useradd --badnames -N -g stu -G ${grp} -m ${cur_user}\n                fi\n\n                # ç”¢ç”Ÿéš¨æ©Ÿå¯†ç¢¼\n                # if [ ${gp} = false ]; then\n                cur_user_password=${cur_user}\n                # else\n                #     cur_user_password=$(openssl rand -base64 6)\n                # fi\n                \n                # ä»¥ root æ¬Šé™å‰µç«‹ä½¿ç”¨è€…å¸³è™Ÿï¼Œä¸¦è¨­å®šå¯†ç¢¼\n                echo \"${cur_user}:${cur_user_password}\" | chpasswd\n\n                # å°‡è¨­å®šçš„å¸³è™Ÿå¯†ç¢¼å„²å­˜ä¸€ä»½åˆ°è³‡æ–™å¤¾ä¸­\n                # echo \"${cur_user},${cur_user_password}\"| tee -a ./${pass_dir}/${grp}.csv > /dev/null 2>&1\n\n                # å°‡ ShinyApp è»Ÿé€£çµè‡³ä½¿ç”¨è€…è³‡æ–™å¤¾\n                if [ ${new} = false ]; then\n                    # éœ€è¦å…ˆåœ¨ /etc/skel/ å»ºç«‹ ShinyApps è³‡æ–™å¤¾ï¼Œæ‰å¯æˆåŠŸé€£çµ\n                    ln -s /home/${cur_user}/ShinyApps /srv/shiny-server/${grp}/${cur_user}\n                fi\n\n                (( created += 1 ))\n            else\n                # å¦‚æœç‚ºè©¦é‹è¡Œæ¨¡å¼\n                (( created += 1 ))\n            fi\n\n        done < ./${depts_dir}/${grp}.txt\n\n        echo \"æˆåŠŸå¾ç¾¤çµ„ ${grp} å»ºç«‹äº† ${created} å€‹å¸³è™Ÿï¼Œå¿½ç•¥äº† ${skip} å€‹å·²å­˜åœ¨å¸³è™Ÿã€‚\"\n    done\n}while IFS= read -r stu || [ -n \"$stu\" ];\ndo\n    [ çœç•¥... ]\ndone < ./${depts_dir}/${grp}.txt"},{"path":"å…¶ä»–.html","id":"å…¶ä»–","chapter":"C å…¶ä»–","heading":"C å…¶ä»–","text":"","code":""},{"path":"å…¶ä»–.html","id":"æ›´æ”¹é è¨­çš„æ–‡æœ¬ç·¨è¼¯å™¨","chapter":"C å…¶ä»–","heading":"C.1 æ›´æ”¹é è¨­çš„æ–‡æœ¬ç·¨è¼¯å™¨","text":"é€™å€‹æŒ‡ä»¤å¯ä»¥è®Šæ›´ç³»çµ±ç·¨è¼¯æ–‡ä»¶æ‰€ç”¨çš„ç¨‹å¼æŒ‰äº† Enterâ†©ï¸ ä¹‹å¾Œï¼Œæœƒå‡ºç¾ç¾åœ¨å¯ç”¨çš„ç·¨è¼¯å™¨ï¼Œè¼¸å…¥å°æ‡‰çš„ç·¨è™Ÿå³å¯è®Šæ›´ã€‚æœ‰æ¨™ * è™Ÿçš„ç·¨è¼¯å™¨ç‚ºç›®å‰è¨­å®šçš„é è¨­ç·¨è¼¯å™¨ã€‚","code":"sudo update-alternatives --config editorThere are 4 choices for the alternative editor (providing /usr/bin/editor).\n\n  Selection    Path                Priority   Status\n------------------------------------------------------------\n  0            /bin/nano            40        auto mode\n  1            /bin/ed             -100       manual mode\n  2            /bin/nano            40        manual mode\n* 3            /usr/bin/vim.basic   30        manual mode\n  4            /usr/bin/vim.tiny    15        manual mode\n\nPress <enter> to keep the current choice[*], or type selection number: 3"},{"path":"å…¶ä»–.html","id":"mysql-8.0-root-å¯†ç¢¼é‡è¨­","chapter":"C å…¶ä»–","heading":"C.2 Mysql 8.0 root å¯†ç¢¼é‡è¨­","text":"å…ˆå»ºç«‹ä¸€å€‹å«æœ‰æ”¹è®Š root å¯†ç¢¼çš„ sql èªæ³•æ–‡å­—æª”æ¡ˆå¦‚å­˜å¥½å¾Œå°‡æ“æœ‰è€…èˆ‡ä½¿ç”¨è€…ç¾¤çµ„æ”¹æˆ mysql å¾Œï¼Œç§»è‡³ /tmp è³‡æ–™å¤¾ï¼Œä½¿ mysql ä½¿ç”¨è€…å¯ä»¥å­˜å–ã€‚åˆ‡æ›è‡³ root ä½¿ç”¨è€…é€²è¡Œå¾ŒçºŒæ“ä½œå°‡ç›®å‰çš„ mysql é—œé–‰æˆ–æ˜¯ä½¿ç”¨ systemctl æŒ‡ä»¤é—œé–‰ mysql æœå‹™{.bash prefixed} systemctl stop mysql.serviceæ¥è‘—ä½¿ç”¨ mysqld æŒ‡ä»¤å•Ÿå‹• mysql ä¸¦æŒ‡å®š --userã€--defaults-file èˆ‡ --init-file åƒæ•¸ã€‚--defaults-file: MySQL é è¨­å•Ÿå‹•çš„è¨­å®šæª”æ¡ˆ--defaults-file: MySQL é è¨­å•Ÿå‹•çš„è¨­å®šæª”æ¡ˆ--user: ä»¥ä½¿ç”¨è€… mysql åŸ·è¡Œ--user: ä»¥ä½¿ç”¨è€… mysql åŸ·è¡Œ--init-file: åˆå§‹åŒ–æ™‚ï¼ŒåŸ·è¡Œ /tmp/mysql-init æŒ‡ä»¤ï¼Œè®Šæ›´å¯†ç¢¼--init-file: åˆå§‹åŒ–æ™‚ï¼ŒåŸ·è¡Œ /tmp/mysql-init æŒ‡ä»¤ï¼Œè®Šæ›´å¯†ç¢¼&: å°‡ mysql deamon æ”¾è‡³èƒŒæ™¯åŸ·è¡Œã€‚&: å°‡ mysql deamon æ”¾è‡³èƒŒæ™¯åŸ·è¡Œã€‚æ­¤æ™‚ï¼Œæ‡‰è©²å¯ä»¥æ­£å¸¸ç™»å…¥äº†ã€‚å¦‚æœä¸è¡Œçš„è©±ï¼Œè«‹æª¢æŸ¥ä½æ–¼ /var/log/mysql/error.log çš„éŒ¯èª¤ç´€éŒ„ï¼Œå¦‚æœæœ‰çœ‹åˆ°é¡ä¼¼ /var/run/mysqld çš„éŒ¯èª¤ï¼Œéœ€è¦æ‰‹å‹•å»ºç«‹è³‡æ–™å¤¾ï¼Œä¸¦æŠŠæ¬Šé™è®Šæ›´ç‚º mysql ç”¨æˆ¶çš„æ¬Šé™ã€‚ æ“ä½œå®Œä¹‹å¾Œå†å¾é—œé–‰ mysql æœå‹™é–‹å§‹ï¼Œå†å˜—è©¦ä¸€æ¬¡ã€‚åƒè€ƒæŒ‡ä»¤å¦‚ä¸‹ï¼šæœ€å¾Œä»¥æ­£å¸¸çš„æœå‹™å•Ÿå‹• mysqlï¼šé€€å‡º root å¸³è™Ÿè©¦ä»¥æ–°å¯†ç¢¼ç™»å…¥ mysql root å¸³è™Ÿï¼šæˆåŠŸ ğŸŠ","code":"vim mysql-initALTER USER 'root'@'localhost' IDENTIFIED with caching_sha2_password by '<æ–°çš„ root å¯†ç¢¼>';chown mysql.mysql mysql-init && mv mysql-init /tmpsudo su -killall -9 mysqldmysqld --defaults-file=/etc/mysql/mysql.conf.d/mysqld.cnf \\ \n--user=mysql \\ \n--init-file=/tmp/mysql-init &mkdir /var/run/mysqld && chown mysql.mysql /var/run/mysqldsystemctl restart mysql.serviceexitmysql -u root -pWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 17\nServer version: 8.0.26-0ubuntu0.20.04.3 (Ubuntu)\n\nCopyright (c) 2000, 2021, Oracle and/or its affiliates.\n\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nmysql> "},{"path":"åƒè€ƒè³‡æ–™.html","id":"åƒè€ƒè³‡æ–™","chapter":"åƒè€ƒè³‡æ–™","heading":"åƒè€ƒè³‡æ–™","text":"","code":""}]
