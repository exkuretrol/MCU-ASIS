<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>ç« ç¯€ 3 LAMP ç¨‹å¼é›† | MCU ASIS Ubuntu ç³»çµ±å®‰è£æŒ‡å—</title>
<meta name="author" content="Chiawei Chen">
<meta name="generator" content="bookdown 0.28 with bs4_book()">
<meta property="og:title" content="ç« ç¯€ 3 LAMP ç¨‹å¼é›† | MCU ASIS Ubuntu ç³»çµ±å®‰è£æŒ‡å—">
<meta property="og:type" content="book">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ç« ç¯€ 3 LAMP ç¨‹å¼é›† | MCU ASIS Ubuntu ç³»çµ±å®‰è£æŒ‡å—">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><link href="libs/Noto_Sans_TC-0.4.2/font.css" rel="stylesheet">
<link href="libs/Source_Code_Pro-0.4.2/font.css" rel="stylesheet">
<link href="libs/Noto_Serif_TC-0.4.2/font.css" rel="stylesheet">
<script src="libs/bs3compat-0.4.0/transition.js"></script><script src="libs/bs3compat-0.4.0/tabs.js"></script><script src="libs/bs3compat-0.4.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="bs4_style.css">
<meta name="description" content="LAMP æ˜¯ç”± 4 å€‹å–®å­—é–‹é ­çš„å­—çµ„æˆçš„è©ã€‚ LAMP è®“ä½ å¯ä»¥åœ¨ä¸€å°ç³»çµ±ç‚º Linux çš„é›»è…¦ä¸Šï¼Œç”¨ Apache æ¶è¨­ç¶²ç«™ä¼ºæœå™¨ï¼Œå…¶ä¸­è³‡æ–™å„²å­˜åœ¨ MySQL è£¡é¢ï¼Œæœ€å¾Œç”¨ PHP åŸ·è¡Œå‹•æ…‹çš„ç¶²ç«™ã€‚ é€™ç« æœƒæ•™ä½ æ€éº¼å®‰è£ LAMP ç¨‹å¼é›†ã€‚  3.1 äº‹å‰æº–å‚™ åœ¨å®‰è£è»Ÿé«”ä¹‹å‰ï¼Œä½ éœ€è¦æœ‰ä¸€å€‹å¯ä»¥åŸ·è¡Œ sudo æŒ‡ä»¤çš„ä½¿ç”¨è€…ã€‚ å¦‚æœä½ æ˜¯ç…§è‘—å…ˆå‰çš„æ•™å­¸åšçš„è©±ï¼Œé€™å€‹ä½¿ç”¨è€…ç‚ºå®‰è£æ™‚çš„é è¨­ä½¿ç”¨è€…...">
<meta property="og:description" content="LAMP æ˜¯ç”± 4 å€‹å–®å­—é–‹é ­çš„å­—çµ„æˆçš„è©ã€‚ LAMP è®“ä½ å¯ä»¥åœ¨ä¸€å°ç³»çµ±ç‚º Linux çš„é›»è…¦ä¸Šï¼Œç”¨ Apache æ¶è¨­ç¶²ç«™ä¼ºæœå™¨ï¼Œå…¶ä¸­è³‡æ–™å„²å­˜åœ¨ MySQL è£¡é¢ï¼Œæœ€å¾Œç”¨ PHP åŸ·è¡Œå‹•æ…‹çš„ç¶²ç«™ã€‚ é€™ç« æœƒæ•™ä½ æ€éº¼å®‰è£ LAMP ç¨‹å¼é›†ã€‚  3.1 äº‹å‰æº–å‚™ åœ¨å®‰è£è»Ÿé«”ä¹‹å‰ï¼Œä½ éœ€è¦æœ‰ä¸€å€‹å¯ä»¥åŸ·è¡Œ sudo æŒ‡ä»¤çš„ä½¿ç”¨è€…ã€‚ å¦‚æœä½ æ˜¯ç…§è‘—å…ˆå‰çš„æ•™å­¸åšçš„è©±ï¼Œé€™å€‹ä½¿ç”¨è€…ç‚ºå®‰è£æ™‚çš„é è¨­ä½¿ç”¨è€…...">
<meta name="twitter:description" content="LAMP æ˜¯ç”± 4 å€‹å–®å­—é–‹é ­çš„å­—çµ„æˆçš„è©ã€‚ LAMP è®“ä½ å¯ä»¥åœ¨ä¸€å°ç³»çµ±ç‚º Linux çš„é›»è…¦ä¸Šï¼Œç”¨ Apache æ¶è¨­ç¶²ç«™ä¼ºæœå™¨ï¼Œå…¶ä¸­è³‡æ–™å„²å­˜åœ¨ MySQL è£¡é¢ï¼Œæœ€å¾Œç”¨ PHP åŸ·è¡Œå‹•æ…‹çš„ç¶²ç«™ã€‚ é€™ç« æœƒæ•™ä½ æ€éº¼å®‰è£ LAMP ç¨‹å¼é›†ã€‚  3.1 äº‹å‰æº–å‚™ åœ¨å®‰è£è»Ÿé«”ä¹‹å‰ï¼Œä½ éœ€è¦æœ‰ä¸€å€‹å¯ä»¥åŸ·è¡Œ sudo æŒ‡ä»¤çš„ä½¿ç”¨è€…ã€‚ å¦‚æœä½ æ˜¯ç…§è‘—å…ˆå‰çš„æ•™å­¸åšçš„è©±ï¼Œé€™å€‹ä½¿ç”¨è€…ç‚ºå®‰è£æ™‚çš„é è¨­ä½¿ç”¨è€…...">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">MCU ASIS Ubuntu ç³»çµ±å®‰è£æŒ‡å—</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">å¼•è¨€</a></li>
<li class="book-part">åŸºç¤å»ºè¨­</li>
<li><a class="" href="intro.html"><span class="header-section-number">1</span> è™›æ“¬ä¸»æ©Ÿ</a></li>
<li><a class="" href="ubuntu-basic-configuration.html"><span class="header-section-number">2</span> Ubuntu çš„åŸºæœ¬è¨­å®š</a></li>
<li class="book-part">è»Ÿé«”å®‰è£</li>
<li><a class="active" href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html"><span class="header-section-number">3</span> LAMP ç¨‹å¼é›†</a></li>
<li><a class="" href="rstudio-rshiny-server.html"><span class="header-section-number">4</span> RStudio &amp; RShiny Server</a></li>
<li><a class="" href="jupyterlab-on-jupyterhub.html"><span class="header-section-number">5</span> JupyterLab on JupyterHub</a></li>
<li class="book-part">é™„éŒ„</li>
<li><a class="" href="%E7%9B%B8%E9%97%9C%E8%BB%9F%E9%AB%94.html"><span class="header-section-number">A</span> ç›¸é—œè»Ÿé«”</a></li>
<li><a class="" href="%E5%B8%B3%E8%99%9F%E7%AE%A1%E7%90%86.html"><span class="header-section-number">B</span> å¸³è™Ÿç®¡ç†</a></li>
<li><a class="" href="%E5%85%B6%E4%BB%96.html"><span class="header-section-number">C</span> å…¶ä»–</a></li>
<li><a class="" href="%E5%8F%83%E8%80%83%E8%B3%87%E6%96%99.html">åƒè€ƒè³‡æ–™</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/exkuretrol/MCU-ASIS">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="lamp-ç¨‹å¼é›†" class="section level1" number="3">
<h1>
<span class="header-section-number">ç« ç¯€ 3</span> LAMP ç¨‹å¼é›†<a class="anchor" aria-label="anchor" href="#lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86"><i class="fas fa-link"></i></a>
</h1>
<p>LAMP æ˜¯ç”± 4 å€‹å–®å­—é–‹é ­çš„å­—çµ„æˆçš„è©ã€‚ LAMP è®“ä½ å¯ä»¥åœ¨ä¸€å°ç³»çµ±ç‚º <strong>L</strong>inux çš„é›»è…¦ä¸Šï¼Œç”¨ <strong>A</strong>pache æ¶è¨­ç¶²ç«™ä¼ºæœå™¨ï¼Œå…¶ä¸­è³‡æ–™å„²å­˜åœ¨ <strong>M</strong>ySQL è£¡é¢ï¼Œæœ€å¾Œç”¨ <strong>P</strong>HP åŸ·è¡Œå‹•æ…‹çš„ç¶²ç«™ã€‚</p>
<p>é€™ç« æœƒæ•™ä½ æ€éº¼å®‰è£ LAMP ç¨‹å¼é›†ã€‚</p>
<div id="äº‹å‰æº–å‚™" class="section level2" number="3.1">
<h2>
<span class="header-section-number">3.1</span> äº‹å‰æº–å‚™<a class="anchor" aria-label="anchor" href="#%E4%BA%8B%E5%89%8D%E6%BA%96%E5%82%99"><i class="fas fa-link"></i></a>
</h2>
<p>åœ¨å®‰è£è»Ÿé«”ä¹‹å‰ï¼Œä½ éœ€è¦æœ‰ä¸€å€‹å¯ä»¥åŸ·è¡Œ <code>sudo</code> æŒ‡ä»¤çš„ä½¿ç”¨è€…ã€‚ å¦‚æœä½ æ˜¯ç…§è‘—å…ˆå‰çš„æ•™å­¸åšçš„è©±ï¼Œé€™å€‹ä½¿ç”¨è€…ç‚ºå®‰è£æ™‚çš„é è¨­ä½¿ç”¨è€… <code>asis</code>ã€‚</p>
</div>
<div id="apache" class="section level2" number="3.2">
<h2>
<span class="header-section-number">3.2</span> Apache<a class="anchor" aria-label="anchor" href="#apache"><i class="fas fa-link"></i></a>
</h2>
<p>Apache HTTP Serverï¼ˆç°¡ç¨± Apacheï¼‰ï¼Œæ˜¯ä¸€å€‹é–‹æ”¾åŸå§‹ç¢¼çš„ç¨‹å¼ï¼Œè¢«ç”¨ä¾†ç•¶ä½œç¶²é çš„ä¼ºæœå™¨ï¼Œæ˜¯ç›®å‰æµè¡Œçš„ç¶²é ä¼ºæœå™¨ä¹‹ä¸€ã€‚</p>
<div id="æ¦‚è¿°" class="section level3" number="3.2.1">
<h3>
<span class="header-section-number">3.2.1</span> æ¦‚è¿°<a class="anchor" aria-label="anchor" href="#%E6%A6%82%E8%BF%B0"><i class="fas fa-link"></i></a>
</h3>
<p>æœ¬ç« ç¯€æœƒè¬›è¿° Apache ç¶²é ä¼ºæœå™¨çš„å®‰è£èˆ‡é˜²ç«ç‰†çš„å®‰å…¨æ€§è¨­å®šã€‚</p>
</div>
<div id="å®‰è£-apache" class="section level3" number="3.2.2">
<h3>
<span class="header-section-number">3.2.2</span> å®‰è£ Apache<a class="anchor" aria-label="anchor" href="#%E5%AE%89%E8%A3%9D-apache"><i class="fas fa-link"></i></a>
</h3>
<p>é¦–å…ˆå…ˆæ›´æ–°å¥—ä»¶ç®¡ç†ç¨‹å¼ï¼ˆAPTï¼‰çš„ä¾†æºï¼š</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb61-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt update</span></code></pre></div>
<p>ç¢ºèªæ˜¯å¦æ˜¯æˆ‘å€‘è¦å®‰è£çš„ Apache ç‰ˆæœ¬</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb62-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt info apache2</span></code></pre></div>
<pre class="console_output"><code>Package: apache2
Version: 2.4.52-1ubuntu4.6
Priority: optional
Section: web
Origin: Ubuntu
Maintainer: Ubuntu Developers &lt;ubuntu-devel-discuss@lists.ubuntu.com&gt;
Original-Maintainer: Debian Apache Maintainers &lt;debian-apache@lists.debian.org&gt;
Bugs: https://bugs.launchpad.net/ubuntu/+filebug
Installed-Size: 546 kB
Provides: httpd, httpd-cgi
Pre-Depends: init-system-helpers (&gt;= 1.54~)
Depends: apache2-bin (= 2.4.52-1ubuntu4.6), apache2-data (= 2.4.52-1ubuntu4.6), apache2-utils (= 2.4.52-1ubuntu4.6), lsb-base, mime-support, perl:any, procps
Recommends: ssl-cert
Suggests: apache2-doc, apache2-suexec-pristine | apache2-suexec-custom, www-browser, ufw
Conflicts: apache2.2-bin, apache2.2-common
Replaces: apache2.2-bin, apache2.2-common
Homepage: https://httpd.apache.org/
Task: lamp-server
Download-Size: 97.8 kB
APT-Sources: http://tw.archive.ubuntu.com/ubuntu jammy-updates/main amd64 Packages
Description: Apache HTTP Server
 The Apache HTTP Server Project's goal is to build a secure, efficient and
 extensible HTTP server as standards-compliant open source software. The
 result has long been the number one web server on the Internet.
 .
 Installing this package results in a full installation, including the
 configuration files, init scripts and support scripts.

N: There are 2 additional records. Please use the '-a' switch to see them.</code></pre>
<p>å¯ä»¥å¾å¥—ä»¶çš„æè¿°çœ‹åˆ°ï¼Œç¢ºå¯¦æ˜¯æˆ‘å€‘è¦çš„ Apache HTTP Serverã€‚æ¥è‘—é€²è¡Œå®‰è£ Apache2ã€‚</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb64-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt install apache2</span></code></pre></div>
<pre class="console_output"><code>Reading package lists... Done
Building dependency tree       
Reading state information... Done
The following additional packages will be installed:
  apache2-bin apache2-data apache2-utils libapr1 libaprutil1 libaprutil1-dbd-sqlite3 libaprutil1-ldap
  libjansson4 liblua5.2-0 ssl-cert
Suggested packages:
  apache2-doc apache2-suexec-pristine | apache2-suexec-custom www-browser openssl-blacklist
The following NEW packages will be installed:
  apache2 apache2-bin apache2-data apache2-utils libapr1 libaprutil1 libaprutil1-dbd-sqlite3
  libaprutil1-ldap libjansson4 liblua5.2-0 ssl-cert
0 upgraded, 11 newly installed, 0 to remove and 0 not upgraded.
Need to get 1,865 kB of archives.
After this operation, 8,083 kB of additional disk space will be used.
Do you want to continue? [Y/n] </code></pre>
<p>é€™è£¡ç”¨éµç›¤è¼¸å…¥ y å¾ŒæŒ‰ Enterâ†©ï¸ é€å‡ºã€‚</p>
<div class="rmdnote infobox">
<p>ä¹Ÿå¯ä»¥åœ¨å®‰è£æ™‚åŠ ä¸Š <code>--yes</code> æˆ–æ˜¯ <code>-y</code> ç•¥éç¢ºèªå®‰è£æç¤ºã€‚</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode bash console_output"><code class="sourceCode bash"><span id="cb66-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt install apache2 <span class="at">-y</span></span></code></pre></div>
</div>
</div>
<div id="èª¿æ•´é˜²ç«ç‰†è¨­å®š" class="section level3" number="3.2.3">
<h3>
<span class="header-section-number">3.2.3</span> èª¿æ•´é˜²ç«ç‰†è¨­å®š<a class="anchor" aria-label="anchor" href="#%E8%AA%BF%E6%95%B4%E9%98%B2%E7%81%AB%E7%89%86%E8%A8%AD%E5%AE%9A"><i class="fas fa-link"></i></a>
</h3>
<p>æœ‰äº›ç¨‹å¼æœƒè‡ªå‹•æŠŠè¨­å®šæª”åŠ å…¥ UFW ä¸­ï¼Œé€™æ¨£å°±å¯ä»¥é€éè¨­å®šæª”å•Ÿç”¨/é—œé–‰è¨­å®šé˜²ç«ç‰†å…è¨±çš„åŸ è™Ÿï¼Œä¸ç”¨å†ç‰¹åˆ¥è¨˜ä¸‹è©²è»Ÿé«”çš„è¨­å®šï¼Œåƒæ˜¯ Apache å°±æ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚</p>
<p>é€éæŒ‡ä»¤é¡¯ç¤ºæœ‰ä»€éº¼å¯ç”¨çš„æ‡‰ç”¨ç¨‹å¼è¨­å®šæª”ã€‚</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb67-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> ufw app list</span></code></pre></div>
<p>ä¸‹åˆ—æ˜¯ç›®å‰å¯ç”¨çš„è¨­å®šæª”ï¼š</p>
<pre class="console_output"><code>Available applications:
  Apache
  Apache Full
  Apache Secure
  OpenSSH</code></pre>
<ul>
<li><p><strong>Apache</strong>ï¼šæœƒåœ¨é˜²ç«ç‰†æ–°å¢ä¸€å€‹å…è¨±å¾ä»»ä½•åœ°æ–¹é€£ç·šè‡³åŸ è™Ÿ <code>80</code> çš„è¦å‰‡ã€‚</p></li>
<li><p><strong>Apache Full</strong>ï¼šæœƒåœ¨é˜²ç«ç‰†æ–°å¢ä¸€å€‹å…è¨±å¾ä»»ä½•åœ°æ–¹é€£ç·šè‡³åŸ è™Ÿ <code>80</code> èˆ‡åŸ è™Ÿ <code>443</code> çš„è¦å‰‡ã€‚</p></li>
<li><p><strong>Apache Secure</strong>ï¼šåœ¨é˜²ç«ç‰†æ–°å¢ä¸€å€‹å…è¨±å¾ä»»ä½•åœ°æ–¹é€£ç·šè‡³åŸ è™Ÿ <code>443</code> çš„è¦å‰‡ã€‚<br></p></li>
</ul>
<p>ä½¿ç”¨æ–¹å¼å¾ˆç°¡å–®ï¼Œè·Ÿå…è¨±åŸ è™Ÿæ™‚çš„æŒ‡ä»¤ä¸€æ¨£ï¼ŒæŠŠåŸ è™Ÿæ”¹æˆè¨­å®šæª”åç¨±å³å¯ã€‚</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb69-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> ufw allow <span class="st">"Apache"</span></span></code></pre></div>
<pre class="console_output"><code>Rule added
Rule added (v6)</code></pre>
<p>ç¢ºèªå‰›æ‰æœ‰æ²’æœ‰æ–°å¢æˆåŠŸï¼š</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb71-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> ufw status</span></code></pre></div>
<pre class="console_output"><code>Status: active

To                         Action      From
--                         ------      ----
60000                      ALLOW       Anywhere                  
Apache                     ALLOW       Anywhere                  
60000 (v6)                 ALLOW       Anywhere (v6)             
Apache (v6)                ALLOW       Anywhere (v6) </code></pre>
<p>æ¥è‘—å¯ä»¥é€éç€è¦½å™¨é€£ç·šåˆ°ä¸‹åˆ—ç¶²å€ï¼š</p>
<pre><code>http://&lt;è™›æ“¬ä¸»æ©Ÿçš„ ip ä½å€&gt;/</code></pre>
<p>å°±æ˜¯å‰ä¸€ç« è¨˜ä¸‹ä¾†çš„ <code>192.168.56.1</code></p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:unnamed-chunk-58"></span>
<img src="figures/apache-main-page.png" alt="Apache å®‰è£å¾Œï¼Œé è¨­çš„é¦–é " width="100%"><p class="caption">
åœ– 3.1: Apache å®‰è£å¾Œï¼Œé è¨­çš„é¦–é 
</p>
</div>
<div class="infobox rmdnote">
<p>å¿˜è¨˜æ€éº¼æ‰¾ ip å¯ä»¥ç”¨ä¸‹åˆ—çš„æ–¹æ³•æ‰¾åˆ°ï¼š</p>
<ol style="list-style-type: decimal">
<li><code>ip addr show | grep -B 2 "inet "</code></li>
</ol>
<pre class="console_output"><code>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
--
2: enp0s3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000
    link/ether 08:00:27:d3:c8:05 brd ff:ff:ff:ff:ff:ff
    inet 10.0.2.15/24 metric 100 brd 10.0.2.255 scope global dynamic enp0s3
--
3: enp0s8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000
    link/ether 08:00:27:59:b3:11 brd ff:ff:ff:ff:ff:ff
    inet 192.168.56.101/24 metric 100 brd 192.168.56.255 scope global dynamic enp0s8</code></pre>
<p>ç¶²è·¯ä»‹é¢å¡ <code>enp0s8</code> ä¸Šé¢çš„ <code>inet</code> å¾Œé¢çš„æ•¸å­—å°±æ˜¯ IPã€‚å¦ä¸€å¼µç¶²å¡ <code>enp0s3</code> æ˜¯ NAT ç¶²è·¯çš„ IPã€‚é€™è£¡æˆ‘å€‘æ‡‰è©²ç”¨å‰è€…çš„ IP ä½œç‚ºç¶²å€ã€‚</p>
<ol start="2" style="list-style-type: decimal">
<li><code>hostname -I</code></li>
</ol>
<pre class="console_output"><code>10.0.2.15 192.168.56.1</code></pre>
</div>
<p>åŒæ¨£åœ°ï¼Œ<code>192.168.56.1</code> æ‰æ˜¯æˆ‘å€‘éœ€è¦çš„ IPã€‚</p>
</div>
</div>
<div id="mysql" class="section level2" number="3.3">
<h2>
<span class="header-section-number">3.3</span> MySQL<a class="anchor" aria-label="anchor" href="#mysql"><i class="fas fa-link"></i></a>
</h2>
<p>MySQLï¼ˆè®€ä½œ My-S-Q-Lï¼‰å› ç‚ºå…¶æ•ˆèƒ½é«˜ã€æˆæœ¬ä½ã€å¯ä¿¡è³´çš„åŸå› ï¼Œè¢«å»£å¤§ä¼æ¥­æ‰€ä½¿ç”¨ï¼Œç›®å‰ä¹Ÿæ˜¯å—æ­¡è¿çš„é–‹æ”¾åŸå§‹ç¢¼è³‡æ–™åº«ç³»çµ±ä¹‹ä¸€ã€‚</p>
<div id="æ¦‚è¿°-1" class="section level3" number="3.3.1">
<h3>
<span class="header-section-number">3.3.1</span> æ¦‚è¿°<a class="anchor" aria-label="anchor" href="#%E6%A6%82%E8%BF%B0-1"><i class="fas fa-link"></i></a>
</h3>
<p>é€™å€‹å°ç¯€æœƒèªªæ˜æ€éº¼å®‰è£ MySQLï¼Œèˆ‡åšç°¡æ˜“çš„å®‰è£å¾Œè¨­å®šã€‚</p>
</div>
<div id="å®‰è£-mysql" class="section level3" number="3.3.2">
<h3>
<span class="header-section-number">3.3.2</span> å®‰è£ MySQL<a class="anchor" aria-label="anchor" href="#%E5%AE%89%E8%A3%9D-mysql"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb76"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb76-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt info mysql-server</span></code></pre></div>
<pre class="console_output"><code>Package: mysql-server
Version: 8.0.34-0ubuntu0.22.04.1
Priority: optional
Section: database
Source: mysql-8.0
Origin: Ubuntu
Maintainer: Ubuntu Developers &lt;ubuntu-devel-discuss@lists.ubuntu.com&gt;
Original-Maintainer: Debian MySQL Maintainers &lt;pkg-mysql-maint@lists.alioth.debian.org&gt;
Bugs: https://bugs.launchpad.net/ubuntu/+filebug
Installed-Size: 35.8 kB
Depends: mysql-server-8.0
Homepage: http://dev.mysql.com/
Task: lamp-server
Download-Size: 9,460 B
APT-Sources: http://tw.archive.ubuntu.com/ubuntu jammy-updates/main amd64 Packages
Description: MySQL database server (metapackage depending on the latest version)
 This is an empty package that depends on the current "best" version of
 mysql-server (currently mysql-server-8.0), as determined by the MySQL
 maintainers. Install this package if in doubt about which MySQL
 version you need. That will install the version recommended by the
 package maintainers.
 .
 MySQL is a fast, stable and true multi-user, multi-threaded SQL database
 server. SQL (Structured Query Language) is the most popular database query
 language in the world. The main goals of MySQL are speed, robustness and
 ease of use.

N: There is 1 additional record. Please use the '-a' switch to see it</code></pre>
<p>é¦–å…ˆï¼Œé€é Apt å®‰è£ MySQLï¼š</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb78-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt install mysql-server <span class="at">-y</span></span></code></pre></div>
</div>
<div id="è¨­å®š-mysql" class="section level3" number="3.3.3">
<h3>
<span class="header-section-number">3.3.3</span> è¨­å®š MySQL<a class="anchor" aria-label="anchor" href="#%E8%A8%AD%E5%AE%9A-mysql"><i class="fas fa-link"></i></a>
</h3>
<p>æŒ‡ä»¤ <code>mysql_secure_installation</code> æœƒåšä»¥ä¸‹å¹¾ä»¶äº‹ï¼ˆè©³ç´°çš„èªªæ˜å¯ä»¥åœ¨<a href="https://dev.mysql.com/doc/refman/8.0/en/mysql-secure-installation.html">é€™è£¡</a>æ‰¾åˆ°ï¼‰ï¼š</p>
<ul>
<li><p>ä½ å¯ä»¥è¨­å®š <code>root</code> å¸³è™Ÿçš„å¯†ç¢¼ã€‚</p></li>
<li><p>ä½ å¯ä»¥ç§»é™¤ <code>root</code> å¸³è™Ÿé è¨­å¯ä»¥å¾ä»»ä½•åœ°æ–¹é€£ç·šè‡³æœ¬æ©Ÿçš„è¨­å®šã€‚</p></li>
<li><p>ä½ å¯ä»¥ç§»é™¤æ²’æœ‰åç¨±çš„åŒ¿åå¸³è™Ÿï¼ˆanonymous-userï¼‰è©³ç´°èªªæ˜å¯ä»¥å¾<a href="https://dev.mysql.com/doc/refman/5.6/en/default-privileges.html">é€™è£¡</a>æ‰¾åˆ°ã€‚</p></li>
<li><p>ä½ å¯ä»¥ç§»é™¤é è¨­çš„ <code>test</code> è³‡æ–™åº«ï¼ˆé€™å€‹è³‡æ–™åº«ä»»ä½•äººéƒ½å¯ä»¥å­˜å–ï¼Œç”šè‡³æ˜¯åŒ¿åå¸³è™Ÿï¼‰ï¼Œå’Œä»»ä½•ä½¿ç”¨è€…åç¨±æ˜¯ <code>test_</code> é–‹é ­çš„ä½¿ç”¨è€…å¸³è™Ÿå¯ä»¥å­˜å–ä»»ä½•è³‡æ–™åº«çš„æ¬Šé™ã€‚</p></li>
</ul>
<p>å®‰è£å®Œæˆå¾Œï¼Œæ‰“ä¸‹é¢é€™æ®µæŒ‡ä»¤å•Ÿå‹• MySQL å®‰å…¨å®‰è£ç¨‹åºã€‚</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb79-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> mysql_secure_installation</span></code></pre></div>
<p>å»ºè­°é€™è£¡é¸ <code>No</code>ã€‚å¦‚æœé€™è£¡é¸äº† <code>Yes</code>ï¼Œé‚£ä¹‹å¾Œåªè¦æ˜¯å‰µå»ºä½¿ç”¨è€…éƒ½æœƒè¦æ±‚ä½ ä½¿ç”¨å¯†ç¢¼å¼·åº¦å¾ˆé«˜çš„å¯†ç¢¼ï¼Œå› ç‚ºè¦è¨­å®šè¤‡é›œçš„å¯†ç¢¼ï¼Œæ‰€ä»¥ä¸é©åˆçµ¦å­¸ç”Ÿä½¿ç”¨ã€‚</p>
<pre class="console_output"><code>Securing the MySQL server deployment.

Connecting to MySQL using a blank password.

VALIDATE PASSWORD COMPONENT can be used to test passwords
and improve security. It checks the strength of password
and allows the users to set only those passwords which are
secure enough. Would you like to setup VALIDATE PASSWORD component?

Press y|Y for Yes, any other key for No:</code></pre>
<p>é€™å€‹ç‰ˆæœ¬é è¨­æ˜¯ä½¿ç”¨ <code>auth_socket</code> æ’ä»¶é©—è­‰ï¼Œå¦‚æœç³»çµ±æª¢æ¸¬åˆ°ä½ çš„ä½¿ç”¨è€…åç¨±èˆ‡ MySQL ä¸­çš„ä½¿ç”¨è€…åç¨±ç›¸åŒï¼Œå‰‡å…è¨±ç™»å…¥ã€‚ä¾‹å¦‚ï¼š<code>sudo mysql</code> æœƒä»¥ root çš„ä½¿ç”¨è€…åŸ·è¡ŒæŒ‡ä»¤ï¼Œæ­¤æ™‚ä½¿ç”¨è€…æœƒæ˜¯ rootï¼Œä¸” root åœ¨è³‡æ–™åº«ä¸­æœ‰å¸³è™Ÿï¼Œæœ€çµ‚æœƒå…è¨± root ç™»å…¥è³‡æ–™åº«ã€‚</p>
<pre class="console_output"><code>Skipping password set for root as authentication with auth_socket is used by default.
If you would like to use password authentication instead, this can be done with the "ALTER_USER" command.
See https://dev.mysql.com/doc/refman/8.0/en/alter-user.html#alter-user-password-management for more information.</code></pre>
<p>é€™å€‹éšæ®µæ˜¯å•ä½ è¦ä¸è¦åˆªé™¤åŒ¿åå¸³è™Ÿï¼Œè¼¸å…¥ <code>Yes</code></p>
<pre class="console_output"><code>By default, a MySQL installation has an anonymous user,
allowing anyone to log into MySQL without having to have
a user account created for them. This is intended only for
testing, and to make the installation go a bit smoother.
You should remove them before moving into a production
environment.

Remove anonymous users? (Press y|Y for Yes, any other key for No) : y</code></pre>
<p>é€™è£æ˜¯å•ä½ è¦ä¸è¦è®“ <code>root</code> å¸³è™Ÿå¯ä»¥å¾ä»»ä½•åœ°æ–¹é€£å…¥ï¼Œé€™è£¡ç•¶ç„¶æ˜¯é¸ <code>No</code></p>
<pre class="console_output"><code>Normally, root should only be allowed to connect from
'localhost'. This ensures that someone cannot guess at
the root password from the network.

Disallow root login remotely? (Press y|Y for Yes, any other key for No) :</code></pre>
<div class="infobox rmdnote">
<p>å¦‚æœé¸æ“‡<code>Yes</code>ï¼Œæœƒå°‡ä½¿ç”¨è€…å¸³è™Ÿçš„å¯é€£ç·šç¶²åŸŸè¨­ç‚º <code>ï¼…</code>ï¼Œä»£è¡¨ä»»ä½•åœ°æ–¹éƒ½å¯ä»¥é€£å…¥çš„æ„æ€</p>
</div>
<p>MySQL å®‰è£å¾Œï¼Œæœ‰å…§å»ºä¸€å€‹å«åš <code>test</code> çš„è³‡æ–™åº«ï¼Œç”¨æ–¼å­¸ç¿’æ€éº¼ä½¿ç”¨ MySQLã€‚é€™è£¡å¯ä»¥é¸æ“‡å°‡å®ƒç§»é™¤æˆ–æ˜¯ä¿ç•™ã€‚</p>
<pre class="console_output"><code>By default, MySQL comes with a database named 'test' that
anyone can access. This is also intended only for testing,
and should be removed before moving into a production
environment.


Remove test database and access to it? (Press y|Y for Yes, any other key for No) :</code></pre>
<p>é€™è£¡æœƒè©¢å•è¦ä¸è¦é‡æ–°è®€å–æ¬Šé™è¡¨ï¼Œé¸ <code>Y</code> å³å¯ã€‚</p>
<pre class="console_output"><code> - Dropping test database...
Success.

 - Removing privileges on test database...
Success.

Reloading the privilege tables will ensure that all changes
made so far will take effect immediately.

Reload privilege tables now? (Press y|Y for Yes, any other key for No) :</code></pre>
<p>å®Œæˆï¼</p>
<pre class="console_output"><code>Success.

All done!</code></pre>
<p>æœ€å¾Œä½¿ç”¨æŒ‡ä»¤æ¸¬è©¦ MySQL é€£ç·šï¼š</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb87-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> mysql <span class="at">-u</span> root</span></code></pre></div>
<ul>
<li>
<code>--user, -u</code>ï¼šä½¿ç”¨è€…å¸³è™Ÿ</li>
</ul>
</div>
</div>
<div id="php" class="section level2" number="3.4">
<h2>
<span class="header-section-number">3.4</span> PHP<a class="anchor" aria-label="anchor" href="#php"><i class="fas fa-link"></i></a>
</h2>
<p>PHPï¼ˆHypertext PreProcessorï¼Œè¶…æ–‡å­—é è™•ç†å™¨ï¼‰ï¼Œå…è¨±ç¶²é é–‹ç™¼äººå“¡é–‹ç™¼å‹•æ…‹ç¶²é ï¼Œæˆªè‡³2021å¹´è¢«ä¸–ç•Œä¸Šè‡³å°‘70%ä»¥ä¸Šçš„ç¶²é æ‰€ä½¿ç”¨ã€‚</p>
<div id="å®‰è£-php" class="section level3" number="3.4.1">
<h3>
<span class="header-section-number">3.4.1</span> å®‰è£ PHP<a class="anchor" aria-label="anchor" href="#%E5%AE%89%E8%A3%9D-php"><i class="fas fa-link"></i></a>
</h3>
<p>é™¤äº† <code>php</code> å¥—ä»¶ä¹‹å¤–ï¼Œ<code>libapache2-mod-php</code> å¥—ä»¶æ˜¯è®“ apache2 èªè­˜ php é€™å€‹æª”æ¡ˆï¼Œè€Œ <code>php-mysql</code> æ˜¯è®“ PHP èˆ‡ MySQL æºé€šçš„å¥—ä»¶ã€‚
TODO: é€£çµè‡³ç¬¬äº”ç«  python èªªæ˜ which -A æŒ‡ä»¤ --&gt;</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb88-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt install php libapache2-mod-php php-mysql</span></code></pre></div>
</div>
<div id="å»ºç«‹è™›æ“¬ç¶²ç«™" class="section level3" number="3.4.2">
<h3>
<span class="header-section-number">3.4.2</span> å»ºç«‹è™›æ“¬ç¶²ç«™<a class="anchor" aria-label="anchor" href="#%E5%BB%BA%E7%AB%8B%E8%99%9B%E6%93%AC%E7%B6%B2%E7%AB%99"><i class="fas fa-link"></i></a>
</h3>
<p>è™›æ“¬ç¶²ç«™ï¼ˆVirtual Hostï¼‰å¯ä»¥è®“ä½ åœ¨ä¸€å°é›»è…¦åŒæ™‚æ¶è¨­å¤šå€‹ç¶²ç«™ï¼Œæ“æœ‰ä¸åŒçš„åŸŸåã€‚åœ¨é€™è£¡çš„ç”¨è™•å°±æ˜¯å»ºç«‹ä¸€å€‹æ–°çš„ç¶²ç«™ã€‚</p>
<p>é¦–å…ˆï¼Œæ–¼ apache2 çš„è¨­å®šè³‡æ–™å¤¾ä¸­ï¼Œæ–°å»ºä¸€å€‹å«åš asis.conf çš„è¨­å®šæª”ï¼š</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb89-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> vim /etc/apache2/sites-available/asis.conf</span></code></pre></div>
<p>å¯«å…¥æ¸¬è©¦ç”¨çš„è¨­å®š</p>
<div class="code-label">
<p>/etc/apache2/sites-available/asis.conf</p>
</div>
<div class="sourceCode" id="cb90"><pre class="sourceCode apache"><code class="sourceCode apache"><span id="cb90-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="fu">&lt;VirtualHost</span><span class="at"> *:80</span><span class="fu">&gt;</span></span>
<span id="cb90-2"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb90-2" aria-hidden="true" tabindex="-1"></a>    ServerAdmin<span class="st"> webmaster@localhost</span></span>
<span id="cb90-3"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb90-3" aria-hidden="true" tabindex="-1"></a>    DocumentRoot<span class="st"> /var/www/asis</span></span>
<span id="cb90-4"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb90-4" aria-hidden="true" tabindex="-1"></a>    ErrorLog<span class="st"> ${APACHE_LOG_DIR}/error.log</span></span>
<span id="cb90-5"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb90-5" aria-hidden="true" tabindex="-1"></a>    CustomLog<span class="st"> ${APACHE_LOG_DIR}/access.log combined</span></span>
<span id="cb90-6"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb90-6" aria-hidden="true" tabindex="-1"></a><span class="fu">&lt;/VirtualHost&gt;</span></span></code></pre></div>
<ul>
<li><p><code>ServerAdmin</code>ï¼šç¾åœ¨é€™å€‹è®Šæ•¸å·²ç¶“è¢«æ£„ç”¨äº†ï¼Œåœ¨ Apache å…ˆå‰çš„ç‰ˆæœ¬ç•¶ä¼ºæœå™¨å‡ºéŒ¯æ™‚æœƒé¡¯ç¤ºè¯çµ¡ç®¡ç†å“¡çš„æ–¹å¼ã€‚è€Œç¾éšæ®µç‰ˆæœ¬é‚„æ˜¯æœ‰é»ç”¨çš„ï¼Œä½ å¯ä»¥åœ¨ PHP ä¸­å‘¼å« <code>$_SERVER['SERVER_ADMIN']</code> è®Šæ•¸æœƒé¡¯ç¤º <code>ServerAdmin</code> æ‰€è¨­å®šçš„ Emailã€‚</p></li>
<li><p><code>DocumentRoot</code>ï¼šç¶²ç«™çš„æ ¹ç›®éŒ„</p></li>
<li><p><code>ErrorLog</code>ï¼šéŒ¯èª¤è¨Šæ¯è·¯å¾‘</p></li>
<li><p><code>CustomLog</code>ï¼šè¨­å®š Log çš„æª”æ¡ˆåç¨±èˆ‡æ ¼å¼ï¼Œè©³ç´°èªªæ˜<a href="https://httpd.apache.org/docs/2.4/mod/mod_log_config.html#logformat">åœ¨æ­¤</a></p></li>
</ul>
<p>é€é list æŒ‡ä»¤å¯ä»¥çœ‹åˆ°ï¼Œè³‡æ–™å¤¾çš„æ“æœ‰è€…æ˜¯ rootã€‚ æˆ‘å€‘åœ¨å®‰è£ Apache2 çš„éƒ¨åˆ†å¾ <code>http://&lt;è™›æ“¬ä¸»æ©Ÿçš„ ip åœ°å€&gt;/</code> çœ‹åˆ°çš„å°±æ˜¯ä½æ–¼ <code>/var/www/html/</code> ä¸­çš„é¦–é ï¼Œæ¥ä¸‹ä¾†æˆ‘å€‘è¦åˆªé™¤ Apache2 é è¨­çš„è¨­å®šï¼Œä¸¦æ¸¬è©¦è‡ªå·±å»ºç«‹çš„è™›æ“¬ç¶²ç«™ï¼ˆVirtualHostï¼‰ã€‚</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb91-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span> <span class="at">-al</span> /var/www/</span></code></pre></div>
<pre class="console_output"><code>total 16
drwxr-xr-x  4 root root 4096 Aug 22 02:50 .
drwxr-xr-x 14 root root 4096 Aug 21 05:16 ..
drwxr-xr-x  2 root root 4096 Aug 21 05:16 html</code></pre>
<p>ä¸€æ¨£åœ°ï¼Œä»¥åŒæ¨£åœ°æ–¹æ³•å»ºç«‹ <code>asis</code> è³‡æ–™å¤¾</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb93-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> mkdir /var/www/asis</span></code></pre></div>
<p>ç”¢ç”Ÿä¸€å€‹æ¸¬è©¦ç”¨çš„é¦–é </p>
<div class="sourceCode" id="cb94"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb94-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> vim /var/www/asis/index.html</span></code></pre></div>
<div class="sourceCode" id="cb95"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb95-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></span>
<span id="cb95-2"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb95-2" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;html</span> <span class="er">lang</span><span class="ot">=</span><span class="st">"zh-TW"</span><span class="kw">&gt;</span></span>
<span id="cb95-3"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb95-3" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;head&gt;</span></span>
<span id="cb95-4"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb95-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;meta</span> <span class="er">charset</span><span class="ot">=</span><span class="st">"UTF-8"</span><span class="kw">&gt;</span></span>
<span id="cb95-5"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb95-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;meta</span> <span class="er">http-equiv</span><span class="ot">=</span><span class="st">"X-UA-Compatible"</span> <span class="er">content</span><span class="ot">=</span><span class="st">"IE=edge"</span><span class="kw">&gt;</span></span>
<span id="cb95-6"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb95-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;meta</span> <span class="er">name</span><span class="ot">=</span><span class="st">"viewport"</span> <span class="er">content</span><span class="ot">=</span><span class="st">"width=device-width, initial-scale=1.0"</span><span class="kw">&gt;</span></span>
<span id="cb95-7"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb95-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;title&gt;</span>Apache VirtualHost config test<span class="kw">&lt;/title&gt;</span></span>
<span id="cb95-8"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb95-8" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/head&gt;</span></span>
<span id="cb95-9"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb95-9" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;body&gt;</span></span>
<span id="cb95-10"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb95-10" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;h1&gt;</span>æˆåŠŸ!<span class="kw">&lt;/h1&gt;</span></span>
<span id="cb95-11"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb95-11" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;p&gt;</span>æ‚¨çš„ Apache2 è™›æ“¬ç¶²ç«™çš„è¨­å®šé †åˆ©é‹ä½œä¸­ã€‚<span class="kw">&lt;/p&gt;</span></span>
<span id="cb95-12"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb95-12" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/body&gt;</span></span>
<span id="cb95-13"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb95-13" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/html&gt;</span></span></code></pre></div>
<p>ä½¿ç”¨ <code>a2dissite</code> æŒ‡ä»¤é—œé–‰é è¨­çš„è¨­å®šæª”ã€‚
<!-- ï¼ˆæœ‰èˆˆè¶£å¯ä»¥çœ‹ä¸€ä¸‹é è¨­çš„è¨­å®šæª” 000-default.confï¼Œæœ‰åŠ©æ–¼äº†è§£è¨­å®šæª”æ¡ˆæ€éº¼ç·¨å¯«ï¼‰--></p>
<div class="sourceCode" id="cb96"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb96-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> a2dissite 000-default.conf</span></code></pre></div>
<pre class="console_output"><code>Site 000-default disabled.
To activate the new configuration, you need to run:
  systemctl reload apache2</code></pre>
<p>æ¥è‘—ï¼Œå•Ÿç”¨å‰›æ‰å‰µç«‹çš„è¨­å®šæª” <code>asis.conf</code></p>
<div class="sourceCode" id="cb98"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb98-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> a2ensite asis.conf</span></code></pre></div>
<p>é‡æ–°è®€å–å‰›æ‰è®Šæ›´çš„è¨­å®šï¼Œä½¿æ–°çš„è¨­å®šç”Ÿæ•ˆ</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb99-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> systemctl reload apache2</span></code></pre></div>
<p>æ¥è‘—è‡³ç€è¦½å™¨æ‰“ä¸Šè™›æ“¬æ©Ÿå™¨çš„ ip ä½å€</p>
<pre><code>http://&lt;è™›æ“¬ä¸»æ©Ÿçš„ ip åœ°å€&gt;/</code></pre>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:unnamed-chunk-59"></span>
<img src="figures/apache2-test-virtualhost-conf.png" alt="Apache2 æ¸¬è©¦è™›æ“¬ç¶²ç«™è¨­å®š" width="100%"><p class="caption">
åœ– 3.2: Apache2 æ¸¬è©¦è™›æ“¬ç¶²ç«™è¨­å®š
</p>
</div>
<p>æˆ–æ˜¯ç›´æ¥åœ¨çµ‚ç«¯æ©Ÿä¸­ä½¿ç”¨æŒ‡ä»¤ <code>curl</code> æ¸¬è©¦ <code>asis.conf</code> è¨­å®šæª”ï¼š</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb101-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="ex">curl</span> http://<span class="op">&lt;</span>è™›æ“¬ä¸»æ©Ÿçš„ ip åœ°å€<span class="op">&gt;</span>/</span></code></pre></div>
<pre class=".{console_output}"><code>&lt;!DOCTYPE html&gt;
&lt;html lang="zh-TW"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
  &lt;title&gt;Apache VirtualHost config test&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;æˆåŠŸ!&lt;/h1&gt;
  &lt;p&gt;æ‚¨çš„ Apache2 è™›æ“¬ç¶²ç«™çš„è¨­å®šé †åˆ©é‹ä½œä¸­ã€‚&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
<div id="æ¸¬è©¦-php" class="section level3" number="3.4.3">
<h3>
<span class="header-section-number">3.4.3</span> æ¸¬è©¦ PHP<a class="anchor" aria-label="anchor" href="#%E6%B8%AC%E8%A9%A6-php"><i class="fas fa-link"></i></a>
</h3>
<p>åœ¨ç¶²ç«™è³‡æ–™å¤¾ä¸­æ–°å¢ä¸€å€‹ <code>info.php</code> æª”æ¡ˆ</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb103-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> vim /var/www/asis/info.php</span></code></pre></div>
<p>è²¼å…¥ä»¥ä¸‹ç¨‹å¼ç¢¼</p>
<pre class="console_output"><code>&lt;?php
phpinfo();
</code></pre>
<p>é€²åˆ°ç¶²ç«™ <code>http://192.168.56.101/info.php</code></p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:unnamed-chunk-60"></span>
<img src="figures/apache2-test-php.png" alt="Apache2 æ¸¬è©¦ PHP" width="100%"><p class="caption">
åœ– 3.3: Apache2 æ¸¬è©¦ PHP
</p>
</div>
<p>æˆåŠŸé¡¯ç¤ºç›®å‰ PHP çš„æ‰€æœ‰è¨­å®šã€‚æ¸¬è©¦å®Œå¾Œè¨˜å¾—è¦åˆªé™¤ <code>info.php</code>ã€‚</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb105-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> rm /var/www/asis/info.php</span></code></pre></div>
</div>
</div>
<div id="phpmyadmin" class="section level2" number="3.5">
<h2>
<span class="header-section-number">3.5</span> phpMyAdmin<a class="anchor" aria-label="anchor" href="#phpmyadmin"><i class="fas fa-link"></i></a>
</h2>
<p>phpMyAdmin æ˜¯ä¸€å€‹ä»¥ PHP ç‚ºåŸºç¤æ’°å¯«çš„ä¸€å€‹è»Ÿé«”ï¼Œå¯ä»¥è®“ä½¿ç”¨è€…ä»¥ç°¡æ˜“çš„æ–¹å¼æ–°å¢ã€æŸ¥è©¢ã€ä¿®æ”¹æˆ–æ˜¯åˆªé™¤è³‡æ–™åº«è£¡é¢çš„ç´€éŒ„ã€‚</p>
<div id="æ¦‚è¿°-2" class="section level3" number="3.5.1">
<h3>
<span class="header-section-number">3.5.1</span> æ¦‚è¿°<a class="anchor" aria-label="anchor" href="#%E6%A6%82%E8%BF%B0-2"><i class="fas fa-link"></i></a>
</h3>
<p>æœ¬å°ç¯€æœƒèªªæ˜æ€éº¼å®‰è£ phpMyAdmin èˆ‡åŸºç¤çš„å®‰å…¨æ€§è¨­å®šã€‚</p>
</div>
<div id="å®‰è£-phpmyadmin" class="section level3" number="3.5.2">
<h3>
<span class="header-section-number">3.5.2</span> å®‰è£ phpMyAdmin<a class="anchor" aria-label="anchor" href="#%E5%AE%89%E8%A3%9D-phpmyadmin"><i class="fas fa-link"></i></a>
</h3>
<p>ä¸€æ¨£åœ°ï¼Œç¢ºèª <code>phpmyadmin</code> çš„ç‰ˆæœ¬</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb106-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt info phpmyadmin</span></code></pre></div>
<pre class="console_output"><code>Package: phpmyadmin
Version: 4:5.1.1+dfsg1-5ubuntu1
Priority: optional
Section: universe/web
Origin: Ubuntu
Maintainer: Ubuntu Developers &lt;ubuntu-devel-discuss@lists.ubuntu.com&gt;
Original-Maintainer: phpMyAdmin Packaging Team &lt;team+phpmyadmin@tracker.debian.org&gt;
Bugs: https://bugs.launchpad.net/ubuntu/+filebug
Installed-Size: 36.5 MB
[...]</code></pre>
<p>ç¢ºèªå®Œç•¢å¾Œå®‰è£</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb108-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt install phpmyadmin <span class="at">--yes</span></span></code></pre></div>
<p>é€™è£ç”¨ç©ºç™½éµå‹¾é¸ <code>apache2</code> ä½¿ä¸­æ‹¬è™Ÿä¸­è®Šæˆæ˜Ÿè™Ÿ <code>*</code></p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:unnamed-chunk-61"></span>
<img src="figures/phpmyadmin-installation_0.png" alt="phpMyAdmin å®‰è£å°è¦½" width="100%"><p class="caption">
åœ– 3.4: phpMyAdmin å®‰è£å°è¦½
</p>
</div>
<p>é€™è£é¸æ“‡ <code>Yes</code> å³å¯é™¤éä½ æƒ³å° <code>phpmyadmin</code> åšæ›´è©³ç´°çš„è¨­å®š</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:unnamed-chunk-62"></span>
<img src="figures/phpmyadmin-installation_1.png" alt="phpMyAdmin å®‰è£å°è¦½" width="100%"><p class="caption">
åœ– 3.5: phpMyAdmin å®‰è£å°è¦½
</p>
</div>
<p>ç•™ç©ºæœƒè‡ªå‹•ç”¢ç”Ÿä¾› <code>phpmyadmin</code> é€£ç·šè‡³ MySQL ç”¨çš„å¯†ç¢¼ï¼Œæ‰€ä»¥é€™è£¡ç›´æ¥æŒ‰ <code>Ok</code></p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:unnamed-chunk-63"></span>
<img src="figures/phpmyadmin-installation_2.png" alt="phpMyAdmin å®‰è£å°è¦½" width="100%"><p class="caption">
åœ– 3.6: phpMyAdmin å®‰è£å°è¦½
</p>
</div>
<div class="infobox rmdnote">
<p>ç•¶å‡ºç¾æ­¤éŒ¯èª¤æ™‚ä¸ç”¨å¤ªæ…Œå¼µï¼Œæ˜¯å› ç‚ºå®‰è£ MySQL æ™‚ï¼Œæœ‰é–‹å•Ÿ <code>Validate Password</code> æ’ä»¶å°è‡´çš„ï¼Œåªéœ€è¦é€éä¸‹åˆ—æŒ‡ä»¤æš«æ™‚é—œé–‰å³å¯ã€‚</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:unnamed-chunk-64"></span>
<img src="figures/phpmyadmin-installation-error.png" alt="phpMyAdmin å®‰è£å°è¦½ï¼ŒéŒ¯èª¤è¨Šæ¯" width="100%"><p class="caption">
åœ– 3.7: phpMyAdmin å®‰è£å°è¦½ï¼ŒéŒ¯èª¤è¨Šæ¯
</p>
</div>
<p>ä»¥ root ç™»å…¥è³‡æ–™åº«</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb109-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="ex">mysql</span> <span class="at">-u</span> root <span class="at">-p</span></span></code></pre></div>
<p>è§£é™¤å®‰è£æ’ä»¶ valid password</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode sqlmysql prefixed_mysql"><code class="sourceCode sqlmysql"><span id="cb110-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb110-1" aria-hidden="true" tabindex="-1"></a>uninstall component <span class="st">'file://component_valid_password'</span>;</span></code></pre></div>
<div class="sourceCode" id="cb111"><pre class="sourceCode sqlmysql prefixed_mysql"><code class="sourceCode sqlmysql"><span id="cb111-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb111-1" aria-hidden="true" tabindex="-1"></a>exit;</span></code></pre></div>
<p>åœ¨å®‰è£ä¸€æ¬¡ <code>phpmyadmin</code></p>
<div class="sourceCode" id="cb112"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb112-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt install phpmyadmin <span class="at">--yes</span></span></code></pre></div>
<div class="sourceCode" id="cb113"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb113-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="ex">mysql</span> <span class="at">-u</span> root <span class="at">-p</span></span></code></pre></div>
<p>å°‡ valid password è£å›å»</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode sqlmysql prefixed_mysql"><code class="sourceCode sqlmysql"><span id="cb114-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb114-1" aria-hidden="true" tabindex="-1"></a>install component <span class="st">'file://component_valid_password'</span></span></code></pre></div>
<div class="sourceCode" id="cb115"><pre class="sourceCode sqlmysql prefixed_mysql"><code class="sourceCode sqlmysql"><span id="cb115-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb115-1" aria-hidden="true" tabindex="-1"></a>exit;</span></code></pre></div>
</div>
<p>é‡æ–°å•Ÿå‹• Apache2</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb116-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> systemctl restart apache2</span></code></pre></div>
<p>å¾ç¶²ç«™é€²å…¥ phpMyAdmin æ“ä½œä»‹é¢</p>
<pre><code>http://&lt;è™›æ“¬ä¸»æ©Ÿçš„ ip åœ°å€&gt;/phpmyadmin/</code></pre>
<p>å¦‚æœæ‰¾ä¸åˆ°æ˜¯æ­£å¸¸çš„ï¼ˆå¦‚ä¸‹åœ–ï¼‰ï¼Œåœ¨ Ubuntu 20.04 å®‰è£ phpMyAdmin æ™‚ï¼Œæ²’æœ‰æ­£ç¢ºçš„è¨­å®šåˆ° phpMyAdminã€‚ å¯ä»¥åƒè€ƒ<a href="https://askubuntu.com/questions/387062/how-to-solve-the-phpmyadmin-not-found-issue-after-upgrading-php-and-apache">é€™è£¡</a>ä¸‰æ¨“çš„è§£æ³•ï¼š</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:unnamed-chunk-65"></span>
<img src="figures/phpmyadmin-main-page-failed.png" alt="phpMyAdmin æ²’æœ‰æˆåŠŸè¨­å®šçš„é é¢" width="100%"><p class="caption">
åœ– 3.8: phpMyAdmin æ²’æœ‰æˆåŠŸè¨­å®šçš„é é¢
</p>
</div>
<p>æ‰‹å‹•è»Ÿé€£çµåˆ° Apache2 çš„è¨­å®šè³‡æ–™å¤¾</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb118-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> ln <span class="at">-s</span> /etc/phpmyadmin/apache.conf /etc/apache2/conf-available/phpmyadmin.conf</span></code></pre></div>
<p>æ¥è‘—å•Ÿå‹• phpMyAdmin çš„è¨­å®šæª”</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb119-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> a2enconf phpmyadmin</span></code></pre></div>
<p>é‡æ–°å•Ÿå‹• Apache2</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb120-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> systemctl restart apache2</span></code></pre></div>
<p>å†å¾ç€è¦½å™¨å˜—è©¦ä¸€æ¬¡é€£ç·š</p>
<pre><code>http://&lt;è™›æ“¬ä¸»æ©Ÿçš„ ip åœ°å€&gt;/phpmyadmin/</code></pre>
<p>æˆåŠŸï½ ğŸŠ</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:unnamed-chunk-66"></span>
<img src="figures/phpmyadmin-main-page-successed.png" alt="phpMyAdmin é é¢" width="100%"><p class="caption">
åœ– 3.9: phpMyAdmin é é¢
</p>
</div>
<p>å› ç‚ºç›®å‰ MySQL çš„ç‰ˆæœ¬ root å¸³è™Ÿé©—è­‰æ–¹å¼æ˜¯ä½¿ç”¨ socket_authã€‚ä½†æ˜¯ï¼ŒphpMyAdmin é è¨­å¸³æˆ¶éœ€è¦æœ‰å¯†ç¢¼ç•¶å…¥ï¼Œæ‰€ä»¥é€™è£¡æœ‰å…©å€‹åšæ³•ï¼š</p>
<ol style="list-style-type: decimal">
<li>å‰µå»ºä¸€å€‹æ–°çš„æ“æœ‰æ‰€æœ‰æ¬Šé™çš„ä½¿ç”¨è€…</li>
</ol>
<p>ç”¨ root æ¬Šé™é€²å…¥ MySQL æŒ‡ä»¤ä»‹é¢</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb122-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> mysql</span></code></pre></div>
<p>å»ºç«‹ä¸€å€‹ä½¿ç”¨å¯†ç¢¼ <code>asis0721</code> é©—è­‰çš„ä½¿ç”¨è€… <code>asis</code></p>
<div class="sourceCode" id="cb123"><pre class="sourceCode bash prefixed_mysql"><code class="sourceCode bash"><span id="cb123-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="ex">CREATE</span> USER <span class="st">'asis'</span>@<span class="st">'localhost'</span> IDENTIFIED BY <span class="st">'asis0721'</span><span class="kw">;</span></span></code></pre></div>
<p>è³¦äºˆæ‰€æœ‰æ¬Šé™åœ¨ <code>asis</code> ä½¿ç”¨è€…ä¸Š</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode sqlmysql prefixed_mysql"><code class="sourceCode sqlmysql"><span id="cb124-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="kw">GRANT</span> <span class="kw">ALL</span> <span class="kw">PRIVILEGES</span> <span class="kw">ON</span> <span class="op">*</span><span class="ch">.</span><span class="op">*</span> <span class="kw">TO</span> <span class="st">'asis'</span>@<span class="st">'localhost'</span>;</span></code></pre></div>
<p>ç«‹åˆ»åˆ·æ–°æ¬Šé™ï¼Œä½¿æ¬Šé™ç«‹å³ç”Ÿæ•ˆ</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode sqlmysql prefixed_mysql"><code class="sourceCode sqlmysql"><span id="cb125-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb125-1" aria-hidden="true" tabindex="-1"></a>FLUSH <span class="kw">PRIVILEGES</span>;</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>å°‡åŸæœ¬çš„å¸³è™Ÿèªè­‰æ–¹å¼æ”¹æ‰</li>
</ol>
<p>ç”¨ root æ¬Šé™é€²å…¥ MySQL æŒ‡ä»¤ä»‹é¢</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb126-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> mysql</span></code></pre></div>
<p>å°‡ root ä½¿ç”¨è€…æ”¹ç‚ºä½¿ç”¨å¯†ç¢¼ <code>notSecureChangeMe</code> é©—è­‰</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode sqlmysql prefixed_mysql"><code class="sourceCode sqlmysql"><span id="cb127-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="kw">ALTER</span> <span class="fu">USER</span> <span class="st">'root'</span>@<span class="st">'localhost'</span> IDENTIFIED <span class="kw">WITH</span> caching_sha2_password <span class="kw">BY</span> <span class="st">'notSecureChangeMe'</span>;</span></code></pre></div>
<div class="rmdwarning infobox">
<p>ä¸€æ—¦å°‡ root ä½¿ç”¨è€…çš„é©—è­‰æ–¹å¼æ”¹æˆç”¨å¯†ç¢¼é©—è­‰ï¼Œé‚£å¾€å¾Œç™»å…¥ MySQL çš„æŒ‡ä»¤ä»‹é¢éƒ½éœ€è¦åŠ ä¸Šæä¾›å¯†ç¢¼åƒæ•¸ <code>-p</code></p>
<div class="sourceCode" id="cb128"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb128-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="ex">mysql</span> <span class="at">-u</span> root <span class="at">-p</span></span></code></pre></div>
</div>
</div>
<div id="è¨­å®š-phpmyadmin" class="section level3" number="3.5.3">
<h3>
<span class="header-section-number">3.5.3</span> è¨­å®š phpMyAdmin<a class="anchor" aria-label="anchor" href="#%E8%A8%AD%E5%AE%9A-phpmyadmin"><i class="fas fa-link"></i></a>
</h3>
<p>é è¨­çš„ç¶²å€ <code>http://&lt;è™›æ“¬æ©Ÿå™¨çš„ ip ä½ç½®&gt;/phpmyadmin</code> å¯¦åœ¨æ˜¯å¤ªå±éšªäº†ï¼Œå¦‚æœæœ‰äººæœ‰æ„ç ´å£ï¼Œåˆè¢«çŒœåˆ°ç®¡ç†å“¡çš„å¯†ç¢¼ï¼Œé‚£å°‡æœƒä¸€ç™¼ä¸å¯æ”¶æ‹¾ï¼Œæ‰€ä»¥æ¥ä¸‹ä¾†è¦æ”¹çš„æ˜¯ phpMyAdmin åœ¨ Apache2 ä¸­çš„è¨­å®šï¼Œå°‡é è¨­çš„ä½ç½®æ”¹æ‰è‡³å°‘æœƒå®‰å…¨ä¸€é»ã€‚</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb129-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> vim /etc/phpmyadmin/apache.conf</span></code></pre></div>
<div class="code-label">
<p>/etc/phpmyadmin/apache.conf</p>
</div>
<div class="sourceCode" id="cb130"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb130-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="co"># phpMyAdmin default Apache configuration</span></span>
<span id="cb130-2"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb130-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-3"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb130-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Alias</span> /sql /usr/share/phpmyadmin <span class="co"># è®Šæ›´é€™è£¡</span></span>
<span id="cb130-4"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb130-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-5"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb130-5" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>Directory <span class="ex">/usr/share/phpmyadmin</span><span class="op">&gt;</span></span>
<span id="cb130-6"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb130-6" aria-hidden="true" tabindex="-1"></a>    <span class="ex">Options</span> SymLinksIfOwnerMatch</span>
<span id="cb130-7"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb130-7" aria-hidden="true" tabindex="-1"></a>    <span class="ex">DirectoryIndex</span> index.php</span>
<span id="cb130-8"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb130-8" aria-hidden="true" tabindex="-1"></a>    <span class="ex">AllowOverride</span> All <span class="co"># æ–°å¢é€™è¡Œ</span></span>
<span id="cb130-9"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb130-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-10"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb130-10" aria-hidden="true" tabindex="-1"></a>    <span class="ex">[...]</span></span>
<span id="cb130-11"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb130-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-12"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb130-12" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>/Directory<span class="op">&gt;</span></span>
<span id="cb130-13"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb130-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-14"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb130-14" aria-hidden="true" tabindex="-1"></a><span class="ex">[...]</span></span></code></pre></div>
<div class="infobox info">
<p>å› ç‚º <code>/etc/phpmyadmin/apache.conf</code> å·²è»Ÿé€£çµï¼ˆsoft-linkï¼‰è‡³ <code>/etc/apache2/conf-available/phpmyadmin.conf</code> æ‰€ä»¥è®Šæ›´<code>apache.conf</code> æ™‚ï¼Œä½æ–¼ Apache2 ä¸­çš„è¨­å®šæª”ä¹Ÿæœƒè·Ÿè‘—è®Šæ›´ã€‚</p>
</div>
<p>é‡æ–°å•Ÿå‹• Apache2</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb131-1"><a href="lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86.html#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> systemctl restart apache2</span></code></pre></div>
<p>å¾æ–°çš„ ip ä½å€é€²å…¥</p>
<pre><code>http://&lt;è™›æ“¬æ©Ÿå™¨çš„ ip ä½å€&gt;/sql/</code></pre>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:unnamed-chunk-67"></span>
<img src="figures/phpmyadmin-main-page-successed.png" alt="å‰›æ‰æ›´æ–°çš„è·¯ç”±" width="100%"><p class="caption">
åœ– 3.10: å‰›æ‰æ›´æ–°çš„è·¯ç”±
</p>
</div>
<!-- ### Step 3 --- å†å¤šä¸€å±¤å­˜å–çš„å¯†ç¢¼ä¿è­· [å¯è·³é]

æ–°å¢ä¸€å€‹å«åš `.htaccess` çš„æª”æ¡ˆ

``` {.bash .prefixed}
sudo vim /usr/share/phpmyadmin/.htaccess
```

æ”¾å…¥è¨­å®š

``` bash
AuthType Basic
AuthName "é™åˆ¶å­˜å–çš„æª”æ¡ˆ"
AuthUserFile /etc/phpmyadmin/.htpasswd
Require valid-user
```

ç”¨ `htpasswd` æŒ‡ä»¤ä»¥ `.htpasswd` ç”Ÿæˆå¸³è™Ÿï¼Œé€™å€‹å¸³è™Ÿå«åš asisï¼Œæ­¤æ™‚æœƒæç¤ºä½ è¼¸å…¥å¯†ç¢¼ã€‚

``` {.bash .prefixed}
sudo htpasswd -c /etc/phpmyadmin/.htpasswd asis
```

::: {.infobox .info}
å¦‚æœè¦æ–°å¢å…¶ä»–ä½¿ç”¨è€…ï¼Œè«‹å°‡ `-c` åƒæ•¸ç§»é™¤

``` {.bash .prefixed}
sudo htpasswd /etc/phpmyadmin/.htpasswd otheruser
```
:::

å†é€²å…¥ä¸€æ¬¡ phpMyAdmin çš„ä½å€å˜—è©¦ï¼š

<div class="figure" style="text-align: center">
<img src="figures/htaccess-prompt-login-panel.png" alt="phpMyAdmin ç™»å…¥æç¤º" width="100%" />
<p class="caption">(\#fig:unnamed-chunk-68)phpMyAdmin ç™»å…¥æç¤º</p>
</div>

æ­¤æ™‚æœƒè·³å‡ºä¸€å€‹ç™»å…¥ä»‹é¢ï¼Œéœ€è¦è¼¸å…¥å¯†ç¢¼æ‰èƒ½é€²å…¥ phpMyAdmin çš„é é¢ã€‚ å¦‚æœä¸éœ€è¦æ­¤è¨­å®šï¼Œç›´æ¥åˆªé™¤ä½æ–¼ `/etc/phpmyadmin/.htpasswd` çš„æª”æ¡ˆå³å¯ã€‚
-->

</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="ubuntu-basic-configuration.html"><span class="header-section-number">2</span> Ubuntu çš„åŸºæœ¬è¨­å®š</a></div>
<div class="next"><a href="rstudio-rshiny-server.html"><span class="header-section-number">4</span> RStudio &amp; RShiny Server</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#lamp-%E7%A8%8B%E5%BC%8F%E9%9B%86"><span class="header-section-number">3</span> LAMP ç¨‹å¼é›†</a></li>
<li><a class="nav-link" href="#%E4%BA%8B%E5%89%8D%E6%BA%96%E5%82%99"><span class="header-section-number">3.1</span> äº‹å‰æº–å‚™</a></li>
<li>
<a class="nav-link" href="#apache"><span class="header-section-number">3.2</span> Apache</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#%E6%A6%82%E8%BF%B0"><span class="header-section-number">3.2.1</span> æ¦‚è¿°</a></li>
<li><a class="nav-link" href="#%E5%AE%89%E8%A3%9D-apache"><span class="header-section-number">3.2.2</span> å®‰è£ Apache</a></li>
<li><a class="nav-link" href="#%E8%AA%BF%E6%95%B4%E9%98%B2%E7%81%AB%E7%89%86%E8%A8%AD%E5%AE%9A"><span class="header-section-number">3.2.3</span> èª¿æ•´é˜²ç«ç‰†è¨­å®š</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#mysql"><span class="header-section-number">3.3</span> MySQL</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#%E6%A6%82%E8%BF%B0-1"><span class="header-section-number">3.3.1</span> æ¦‚è¿°</a></li>
<li><a class="nav-link" href="#%E5%AE%89%E8%A3%9D-mysql"><span class="header-section-number">3.3.2</span> å®‰è£ MySQL</a></li>
<li><a class="nav-link" href="#%E8%A8%AD%E5%AE%9A-mysql"><span class="header-section-number">3.3.3</span> è¨­å®š MySQL</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#php"><span class="header-section-number">3.4</span> PHP</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#%E5%AE%89%E8%A3%9D-php"><span class="header-section-number">3.4.1</span> å®‰è£ PHP</a></li>
<li><a class="nav-link" href="#%E5%BB%BA%E7%AB%8B%E8%99%9B%E6%93%AC%E7%B6%B2%E7%AB%99"><span class="header-section-number">3.4.2</span> å»ºç«‹è™›æ“¬ç¶²ç«™</a></li>
<li><a class="nav-link" href="#%E6%B8%AC%E8%A9%A6-php"><span class="header-section-number">3.4.3</span> æ¸¬è©¦ PHP</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#phpmyadmin"><span class="header-section-number">3.5</span> phpMyAdmin</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#%E6%A6%82%E8%BF%B0-2"><span class="header-section-number">3.5.1</span> æ¦‚è¿°</a></li>
<li><a class="nav-link" href="#%E5%AE%89%E8%A3%9D-phpmyadmin"><span class="header-section-number">3.5.2</span> å®‰è£ phpMyAdmin</a></li>
<li><a class="nav-link" href="#%E8%A8%AD%E5%AE%9A-phpmyadmin"><span class="header-section-number">3.5.3</span> è¨­å®š phpMyAdmin</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/exkuretrol/MCU-ASIS/blob/main/03-LAMP.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/exkuretrol/MCU-ASIS/edit/main/03-LAMP.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>MCU ASIS Ubuntu ç³»çµ±å®‰è£æŒ‡å—</strong>" was written by Chiawei Chen. It was last built on 2023-08-22.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>
</body>
</html>
