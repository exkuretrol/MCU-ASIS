<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4.3 RStudio Server | MCU ASIS Ubuntu 系統安裝指南</title>
  <meta name="description" content="4.3 RStudio Server | MCU ASIS Ubuntu 系統安裝指南" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="4.3 RStudio Server | MCU ASIS Ubuntu 系統安裝指南" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4.3 RStudio Server | MCU ASIS Ubuntu 系統安裝指南" />
  
  
  

<meta name="author" content="Chiawei Chen" />


<meta name="date" content="2022-02-24" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="r-base.html"/>
<link rel="next" href="rshiny-server.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">MCU ASIS Ubuntu 系統安裝指南</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>引言</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> 基礎建設</a>
<ul>
<li class="chapter" data-level="1.1" data-path="事前準備.html"><a href="事前準備.html"><i class="fa fa-check"></i><b>1.1</b> 事前準備</a></li>
<li class="chapter" data-level="1.2" data-path="安裝-virtualbox.html"><a href="安裝-virtualbox.html"><i class="fa fa-check"></i><b>1.2</b> 安裝 VirtualBox</a></li>
<li class="chapter" data-level="1.3" data-path="於虛擬機器安裝作業系統.html"><a href="於虛擬機器安裝作業系統.html"><i class="fa fa-check"></i><b>1.3</b> 於虛擬機器安裝作業系統</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="於虛擬機器安裝作業系統.html"><a href="於虛擬機器安裝作業系統.html#新增-ubuntu-作業系統設定"><i class="fa fa-check"></i><b>1.3.1</b> 新增 Ubuntu 作業系統設定</a></li>
<li class="chapter" data-level="1.3.2" data-path="於虛擬機器安裝作業系統.html"><a href="於虛擬機器安裝作業系統.html#於-virtualbox-安裝作業系統"><i class="fa fa-check"></i><b>1.3.2</b> 於 VirtualBox 安裝作業系統</a>
<ul>
<li class="chapter" data-level="1.3.2.1" data-path="於虛擬機器安裝作業系統.html"><a href="於虛擬機器安裝作業系統.html#語言"><i class="fa fa-check"></i><b>1.3.2.1</b> 語言</a></li>
<li class="chapter" data-level="1.3.2.2" data-path="於虛擬機器安裝作業系統.html"><a href="於虛擬機器安裝作業系統.html#鍵盤配置"><i class="fa fa-check"></i><b>1.3.2.2</b> 鍵盤配置</a></li>
<li class="chapter" data-level="1.3.2.3" data-path="於虛擬機器安裝作業系統.html"><a href="於虛擬機器安裝作業系統.html#網路連線"><i class="fa fa-check"></i><b>1.3.2.3</b> 網路連線</a></li>
<li class="chapter" data-level="1.3.2.4" data-path="於虛擬機器安裝作業系統.html"><a href="於虛擬機器安裝作業系統.html#proxy"><i class="fa fa-check"></i><b>1.3.2.4</b> Proxy</a></li>
<li class="chapter" data-level="1.3.2.5" data-path="於虛擬機器安裝作業系統.html"><a href="於虛擬機器安裝作業系統.html#鏡像-mirror"><i class="fa fa-check"></i><b>1.3.2.5</b> 鏡像 (Mirror)</a></li>
<li class="chapter" data-level="1.3.2.6" data-path="於虛擬機器安裝作業系統.html"><a href="於虛擬機器安裝作業系統.html#安裝程式更新-可能不會出現"><i class="fa fa-check"></i><b>1.3.2.6</b> 安裝程式更新 (可能不會出現)</a></li>
<li class="chapter" data-level="1.3.2.7" data-path="於虛擬機器安裝作業系統.html"><a href="於虛擬機器安裝作業系統.html#系統空間配置-raid-1"><i class="fa fa-check"></i><b>1.3.2.7</b> 系統空間配置 (Raid-1)</a></li>
<li class="chapter" data-level="1.3.2.8" data-path="於虛擬機器安裝作業系統.html"><a href="於虛擬機器安裝作業系統.html#使用者設定"><i class="fa fa-check"></i><b>1.3.2.8</b> 使用者設定</a></li>
<li class="chapter" data-level="1.3.2.9" data-path="於虛擬機器安裝作業系統.html"><a href="於虛擬機器安裝作業系統.html#openssh-設定"><i class="fa fa-check"></i><b>1.3.2.9</b> OpenSSH 設定</a></li>
</ul></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="ubuntu-的基本設定.html"><a href="ubuntu-的基本設定.html"><i class="fa fa-check"></i><b>2</b> Ubuntu 的基本設定</a>
<ul>
<li class="chapter" data-level="2.1" data-path="事前準備-1.html"><a href="事前準備-1.html"><i class="fa fa-check"></i><b>2.1</b> 事前準備</a></li>
<li class="chapter" data-level="2.2" data-path="openssh.html"><a href="openssh.html"><i class="fa fa-check"></i><b>2.2</b> OpenSSH</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="openssh.html"><a href="openssh.html#適合各個系統的連線流程"><i class="fa fa-check"></i><b>2.2.1</b> 適合各個系統的連線流程</a>
<ul>
<li class="chapter" data-level="2.2.1.1" data-path="openssh.html"><a href="openssh.html#macos-或-其他-unix-like-系統"><i class="fa fa-check"></i><b>2.2.1.1</b> MacOS 或 其他 Unix-like 系統</a></li>
<li class="chapter" data-level="2.2.1.2" data-path="openssh.html"><a href="openssh.html#windows-系統"><i class="fa fa-check"></i><b>2.2.1.2</b> Windows 系統</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="openssh.html"><a href="openssh.html#step-1-安裝-openssh-client"><i class="fa fa-check"></i>Step 1 — 安裝 OpenSSH Client</a></li>
<li class="chapter" data-level="" data-path="openssh.html"><a href="openssh.html#step-2-產生-ssh-key-pairs"><i class="fa fa-check"></i>Step 2 — 產生 ssh key pairs</a></li>
<li class="chapter" data-level="" data-path="openssh.html"><a href="openssh.html#step-3-將新增的-key-pairs-上傳至目的地主機"><i class="fa fa-check"></i>Step 3 — 將新增的 key pairs 上傳至目的地主機</a></li>
<li class="chapter" data-level="" data-path="openssh.html"><a href="openssh.html#step-4-測試-ssh-連線使用-ssh-連線至遠端主機"><i class="fa fa-check"></i>Step 4 — 測試 SSH 連線，使用 SSH 連線至遠端主機</a></li>
<li class="chapter" data-level="" data-path="openssh.html"><a href="openssh.html#step-5-使遠端的-openssh-伺服器更加安全"><i class="fa fa-check"></i>Step 5 — 使遠端的 OpenSSH 伺服器更加安全</a>
<ul>
<li class="chapter" data-level="" data-path="openssh.html"><a href="openssh.html#變更-ssh-伺服器預設的埠號"><i class="fa fa-check"></i>變更 SSH 伺服器預設的埠號</a></li>
<li class="chapter" data-level="" data-path="openssh.html"><a href="openssh.html#關閉密碼驗證"><i class="fa fa-check"></i>關閉密碼驗證</a></li>
<li class="chapter" data-level="" data-path="openssh.html"><a href="openssh.html#關閉遠端-root-登入"><i class="fa fa-check"></i>關閉遠端 root 登入</a></li>
<li class="chapter" data-level="" data-path="openssh.html"><a href="openssh.html#限制能使用-ssh-連線的使用者"><i class="fa fa-check"></i>限制能使用 SSH 連線的使用者</a></li>
<li class="chapter" data-level="" data-path="openssh.html"><a href="openssh.html#關閉無密碼的使用者使用-ssh"><i class="fa fa-check"></i>關閉無密碼的使用者使用 SSH</a></li>
<li><a href="openssh.html#測試-sshd_config-是否有效">測試 <code>sshd_config</code> 是否有效</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="apt.html"><a href="apt.html"><i class="fa fa-check"></i><b>2.3</b> APT</a></li>
<li class="chapter" data-level="2.4" data-path="ufw.html"><a href="ufw.html"><i class="fa fa-check"></i><b>2.4</b> UFW</a></li>
<li class="chapter" data-level="2.5" data-path="bat-可選.html"><a href="bat-可選.html"><i class="fa fa-check"></i><b>2.5</b> Bat （可選）</a></li>
<li class="chapter" data-level="2.6" data-path="exa-可選.html"><a href="exa-可選.html"><i class="fa fa-check"></i><b>2.6</b> exa （可選）</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="lamp.html"><a href="lamp.html"><i class="fa fa-check"></i><b>3</b> LAMP</a>
<ul>
<li class="chapter" data-level="3.1" data-path="事前準備-2.html"><a href="事前準備-2.html"><i class="fa fa-check"></i><b>3.1</b> 事前準備</a></li>
<li class="chapter" data-level="3.2" data-path="apache.html"><a href="apache.html"><i class="fa fa-check"></i><b>3.2</b> Apache</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="apache.html"><a href="apache.html#step-1-安裝-apache"><i class="fa fa-check"></i><b>3.2.1</b> Step 1 — 安裝 Apache</a></li>
<li class="chapter" data-level="3.2.2" data-path="apache.html"><a href="apache.html#step-2-調整防火牆-ufw-設定"><i class="fa fa-check"></i><b>3.2.2</b> Step 2 — 調整防火牆 ufw 設定</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="mysql.html"><a href="mysql.html"><i class="fa fa-check"></i><b>3.3</b> MySQL</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="mysql.html"><a href="mysql.html#step-1-安裝-mysql"><i class="fa fa-check"></i><b>3.3.1</b> Step 1 — 安裝 MySQL</a></li>
<li class="chapter" data-level="3.3.2" data-path="mysql.html"><a href="mysql.html#step-2-設定-mysql"><i class="fa fa-check"></i><b>3.3.2</b> Step 2 — 設定 MySQL</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="php.html"><a href="php.html"><i class="fa fa-check"></i><b>3.4</b> PHP</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="php.html"><a href="php.html#step-1-安裝-php-php-mysql-插件"><i class="fa fa-check"></i><b>3.4.1</b> Step 1 — 安裝 php &amp; php-mysql 插件</a></li>
<li class="chapter" data-level="3.4.2" data-path="php.html"><a href="php.html#step-2-建立虛擬網站virtualhost"><i class="fa fa-check"></i><b>3.4.2</b> Step 2 — 建立虛擬網站（VirtualHost）</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="phpmyadmin.html"><a href="phpmyadmin.html"><i class="fa fa-check"></i><b>3.5</b> phpMyAdmin</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="phpmyadmin.html"><a href="phpmyadmin.html#step-1-安裝-phpmyadmin"><i class="fa fa-check"></i><b>3.5.1</b> Step 1 — 安裝 phpmyadmin</a></li>
<li class="chapter" data-level="3.5.2" data-path="phpmyadmin.html"><a href="phpmyadmin.html#step-2-使-phpmyadmin-更加安全"><i class="fa fa-check"></i><b>3.5.2</b> Step 2 — 使 phpmyadmin 更加安全</a></li>
<li class="chapter" data-level="3.5.3" data-path="phpmyadmin.html"><a href="phpmyadmin.html#step-3-再多一層存取的密碼保護可選"><i class="fa fa-check"></i><b>3.5.3</b> Step 3 — 再多一層存取的密碼保護（可選）</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="rstudio-rshiny-server.html"><a href="rstudio-rshiny-server.html"><i class="fa fa-check"></i><b>4</b> RStudio &amp; RShiny Server</a>
<ul>
<li class="chapter" data-level="4.1" data-path="事前準備-3.html"><a href="事前準備-3.html"><i class="fa fa-check"></i><b>4.1</b> 事前準備</a></li>
<li class="chapter" data-level="4.2" data-path="r-base.html"><a href="r-base.html"><i class="fa fa-check"></i><b>4.2</b> R base</a></li>
<li class="chapter" data-level="4.3" data-path="rstudio-server.html"><a href="rstudio-server.html"><i class="fa fa-check"></i><b>4.3</b> RStudio Server</a>
<ul>
<li class="chapter" data-level="" data-path="rstudio-server.html"><a href="rstudio-server.html#step-1-----安裝-rstudio-server-伺服器"><i class="fa fa-check"></i>Step 1 — 安裝 RStudio Server 伺服器</a></li>
<li class="chapter" data-level="" data-path="rstudio-server.html"><a href="rstudio-server.html#step-2-設定-apache-的反向代理reverse-proxy"><i class="fa fa-check"></i>Step 2 — 設定 Apache 的反向代理（Reverse Proxy）</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="rshiny-server.html"><a href="rshiny-server.html"><i class="fa fa-check"></i><b>4.4</b> RShiny Server</a>
<ul>
<li class="chapter" data-level="" data-path="rshiny-server.html"><a href="rshiny-server.html#step-1-安裝-rshiny-server"><i class="fa fa-check"></i>Step 1 — 安裝 RShiny Server</a></li>
<li class="chapter" data-level="" data-path="rshiny-server.html"><a href="rshiny-server.html#step-2-設定-apache-的-proxy"><i class="fa fa-check"></i>Step 2 — 設定 Apache 的 Proxy</a></li>
<li class="chapter" data-level="" data-path="rshiny-server.html"><a href="rshiny-server.html#step-3-shiny-server-進階設定"><i class="fa fa-check"></i>Step 3 — Shiny Server 進階設定</a></li>
<li class="chapter" data-level="" data-path="rshiny-server.html"><a href="rshiny-server.html#step-4-使用使用者測試設定是否有效"><i class="fa fa-check"></i>Step 4 — 使用使用者測試設定是否有效</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="jupyterlab-on-jupyterhub.html"><a href="jupyterlab-on-jupyterhub.html"><i class="fa fa-check"></i><b>5</b> JupyterLab on JupyterHub</a>
<ul>
<li class="chapter" data-level="5.1" data-path="事前準備-4.html"><a href="事前準備-4.html"><i class="fa fa-check"></i><b>5.1</b> 事前準備</a></li>
<li class="chapter" data-level="5.2" data-path="設置-python-3-環境.html"><a href="設置-python-3-環境.html"><i class="fa fa-check"></i><b>5.2</b> 設置 Python 3 環境</a></li>
<li class="chapter" data-level="5.3" data-path="jupyterlab-與-jupyterhub.html"><a href="jupyterlab-與-jupyterhub.html"><i class="fa fa-check"></i><b>5.3</b> JupyterLab 與 JupyterHub</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="jupyterlab-與-jupyterhub.html"><a href="jupyterlab-與-jupyterhub.html#於虛擬環境中設置-jupyterlab-與-jupyterhub"><i class="fa fa-check"></i><b>5.3.1</b> 於虛擬環境中設置 JupyterLab 與 JupyterHub</a></li>
<li class="chapter" data-level="5.3.2" data-path="jupyterlab-與-jupyterhub.html"><a href="jupyterlab-與-jupyterhub.html#設定-jupyterhub"><i class="fa fa-check"></i><b>5.3.2</b> 設定 JupyterHub</a></li>
<li class="chapter" data-level="5.3.3" data-path="jupyterlab-與-jupyterhub.html"><a href="jupyterlab-與-jupyterhub.html#新增開機自動啟動-jupyterhub-的服務"><i class="fa fa-check"></i><b>5.3.3</b> 新增開機自動啟動 JupyterHub 的服務</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="jupyterhub-中的運算核心.html"><a href="jupyterhub-中的運算核心.html"><i class="fa fa-check"></i><b>5.4</b> JupyterHub 中的運算核心</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="jupyterhub-中的運算核心.html"><a href="jupyterhub-中的運算核心.html#conda-的-python-環境"><i class="fa fa-check"></i><b>5.4.1</b> Conda 的 Python🐍 環境</a></li>
<li class="chapter" data-level="5.4.2" data-path="jupyterhub-中的運算核心.html"><a href="jupyterhub-中的運算核心.html#r-環境"><i class="fa fa-check"></i><b>5.4.2</b> R 環境</a></li>
<li class="chapter" data-level="5.4.3" data-path="jupyterhub-中的運算核心.html"><a href="jupyterhub-中的運算核心.html#c-與-c-環境"><i class="fa fa-check"></i><b>5.4.3</b> C 與 C++ 環境</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="設置-apache-的-reverse-proxy.html"><a href="設置-apache-的-reverse-proxy.html"><i class="fa fa-check"></i><b>5.5</b> 設置 Apache 的 Reverse Proxy</a></li>
<li class="chapter" data-level="5.6" data-path="jupyterhub-擴充套件.html"><a href="jupyterhub-擴充套件.html"><i class="fa fa-check"></i><b>5.6</b> JupyterHub 擴充套件</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="附錄.html"><a href="附錄.html"><i class="fa fa-check"></i>附錄</a>
<ul>
<li class="chapter" data-level="" data-path="putty.html"><a href="putty.html"><i class="fa fa-check"></i>PuTTY</a>
<ul>
<li class="chapter" data-level="" data-path="putty.html"><a href="putty.html#以-putty-產生-key"><i class="fa fa-check"></i>以 PuTTY 產生 key</a>
<ul>
<li class="chapter" data-level="" data-path="putty.html"><a href="putty.html#step-1-安裝-putty"><i class="fa fa-check"></i>Step 1 — 安裝 PuTTY</a></li>
<li class="chapter" data-level="" data-path="putty.html"><a href="putty.html#step-2-經由-puttygen-產生-ssh-key-pairs"><i class="fa fa-check"></i>Step 2 — 經由 PuTTYgen 產生 ssh key pairs</a></li>
<li class="chapter" data-level="" data-path="putty.html"><a href="putty.html#step-3-妥善保存好產生的-key"><i class="fa fa-check"></i>Step 3 — 妥善保存好產生的 Key</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="putty.html"><a href="putty.html#上傳以-putty-產生的-ssh-key-pairs"><i class="fa fa-check"></i>上傳以 PuTTY 產生的 ssh key pairs</a></li>
<li class="chapter" data-level="" data-path="putty.html"><a href="putty.html#puttygen-產生的-key-pairs-的連線方式"><i class="fa fa-check"></i>PuTTYgen 產生的 key pairs 的連線方式:</a></li>
<li class="chapter" data-level="" data-path="putty.html"><a href="putty.html#更改預設的文本編輯器"><i class="fa fa-check"></i>更改預設的文本編輯器</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="帳號管理.html"><a href="帳號管理.html"><i class="fa fa-check"></i>帳號管理</a>
<ul>
<li class="chapter" data-level="" data-path="帳號管理.html"><a href="帳號管理.html#users.sh"><i class="fa fa-check"></i>users.sh</a></li>
<li class="chapter" data-level="" data-path="帳號管理.html"><a href="帳號管理.html#generate-sql.sh"><i class="fa fa-check"></i>generate-sql.sh</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="mysql-8.0-root-密碼重設.html"><a href="mysql-8.0-root-密碼重設.html"><i class="fa fa-check"></i>Mysql 8.0 root 密碼重設</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="參考資料.html"><a href="參考資料.html"><i class="fa fa-check"></i>參考資料</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">MCU ASIS Ubuntu 系統安裝指南</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="rstudio-server" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> RStudio Server</h2>
<div id="step-1-----安裝-rstudio-server-伺服器" class="section level3 unnumbered">
<h3>Step 1 — 安裝 RStudio Server 伺服器</h3>
<div class="sourceCode" id="cb119"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb119-1"><a href="rstudio-server.html#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt install gdebi-core</span></code></pre></div>
<p>切到暫存資料夾後，自官網下載 rstudio 伺服器的安裝程式。</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb120-1"><a href="rstudio-server.html#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> /tmp <span class="kw">&amp;&amp;</span> <span class="dt">\</span></span>
<span id="cb120-2"><a href="rstudio-server.html#cb120-2" aria-hidden="true" tabindex="-1"></a><span class="fu">wget</span> https://download2.rstudio.org/server/bionic/amd64/rstudio-server-1.4.1717-amd64.deb</span></code></pre></div>
<p>透過 ubuntu 的密鑰伺服器取回對應的簽名</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb121-1"><a href="rstudio-server.html#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="ex">gpg</span> <span class="at">--keyserver</span> keyserver.ubuntu.com <span class="at">--recv-keys</span> 3F32EE77E331692F</span></code></pre></div>
<p>安裝確認檔案簽名所需要的程式</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb122-1"><a href="rstudio-server.html#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt install dpkg-sig <span class="at">--yes</span></span></code></pre></div>
<p>檢查檔案簽名，加上 <code>--verify</code> 選項驗證檔案簽名</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb123-1"><a href="rstudio-server.html#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="ex">dpkg-sig</span> <span class="at">--verify</span> rstudio-server-1.4.1717-amd64.deb</span></code></pre></div>
<p>出現 <code>GOODSIG</code> 字樣代表該檔案沒有問題，可以繼續安裝</p>
<pre class="console_output"><code>Processing rstudio-server-1.4.1717-amd64.deb...
GOODSIG _gpgbuilder FE8564CFF1AB93F1728645193F32EE77E331692F 1621900692</code></pre>
<p>最後再使用 <code>gdebi</code> 指令安裝 .deb 格式軟體</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb125-1"><a href="rstudio-server.html#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> gdebi rstudio-server-1.4.1717-amd64.deb</span></code></pre></div>
<p>將防火牆的 8787 埠號打開</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb126-1"><a href="rstudio-server.html#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> ufw allow 8787</span></code></pre></div>
<p>接著用瀏覽器進入下列網址</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb127-1"><a href="rstudio-server.html#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="ex">http://</span><span class="op">&lt;</span>虛擬主機的 ip 地址<span class="op">&gt;</span>:8787</span></code></pre></div>
<p>或是在shell中直接使用 <code>curl</code> 指令查看</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb128-1"><a href="rstudio-server.html#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="ex">curl</span> <span class="op">&lt;</span>虛擬主機的 ip 地址<span class="op">&gt;</span>:8787</span></code></pre></div>
</div>
<div id="step-2-設定-apache-的反向代理reverse-proxy" class="section level3 unnumbered">
<h3>Step 2 — 設定 Apache 的反向代理（Reverse Proxy）</h3>
<p>用指令 <code>a2enmod</code> 將 Apache 內建的插件啟用</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb129-1"><a href="rstudio-server.html#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> a2enmod proxy</span>
<span id="cb129-2"><a href="rstudio-server.html#cb129-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> a2enmod proxy_http</span>
<span id="cb129-3"><a href="rstudio-server.html#cb129-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> a2enmod proxy_wstunnel</span></code></pre></div>
<p>繼續編輯<a href="php.html#step-2-建立虛擬網站virtualhost">3.4.2 節</a>所建立的 asis.conf</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb130-1"><a href="rstudio-server.html#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> vim /etc/apache2/sites-available/asis.conf</span></code></pre></div>
<p>在 VirtualHost 節點下面新增 RStudio Proxy 的區塊</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb131-1"><a href="rstudio-server.html#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>VirtualHost <span class="ex">*:80</span><span class="op">&gt;</span></span>
<span id="cb131-2"><a href="rstudio-server.html#cb131-2" aria-hidden="true" tabindex="-1"></a>    <span class="ex">ServerAdmin</span> webmaster@localhost</span>
<span id="cb131-3"><a href="rstudio-server.html#cb131-3" aria-hidden="true" tabindex="-1"></a>    <span class="ex">DocumentRoot</span> /var/www/asis</span>
<span id="cb131-4"><a href="rstudio-server.html#cb131-4" aria-hidden="true" tabindex="-1"></a>    <span class="ex">ErrorLog</span> <span class="va">${APACHE_LOG_DIR}</span>/error.log</span>
<span id="cb131-5"><a href="rstudio-server.html#cb131-5" aria-hidden="true" tabindex="-1"></a>    <span class="ex">CustomLog</span> <span class="va">${APACHE_LOG_DIR}</span>/access.log combined</span>
<span id="cb131-6"><a href="rstudio-server.html#cb131-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-7"><a href="rstudio-server.html#cb131-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">###</span></span>
<span id="cb131-8"><a href="rstudio-server.html#cb131-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># RStudio Proxy</span></span>
<span id="cb131-9"><a href="rstudio-server.html#cb131-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">###</span></span>
<span id="cb131-10"><a href="rstudio-server.html#cb131-10" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;</span>proxy <span class="ex">*</span><span class="op">&gt;</span></span>
<span id="cb131-11"><a href="rstudio-server.html#cb131-11" aria-hidden="true" tabindex="-1"></a>    <span class="ex">Allow</span> from localhost</span>
<span id="cb131-12"><a href="rstudio-server.html#cb131-12" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;</span>/proxy<span class="op">&gt;</span></span>
<span id="cb131-13"><a href="rstudio-server.html#cb131-13" aria-hidden="true" tabindex="-1"></a>    <span class="ex">RedirectMatch</span> permanent ^/rstudio$ /rstudio/</span>
<span id="cb131-14"><a href="rstudio-server.html#cb131-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb131-15"><a href="rstudio-server.html#cb131-15" aria-hidden="true" tabindex="-1"></a>    <span class="ex">RewriteEngine</span> on</span>
<span id="cb131-16"><a href="rstudio-server.html#cb131-16" aria-hidden="true" tabindex="-1"></a>    <span class="ex">RewriteCond</span> %{HTTP:Upgrade} =websocket</span>
<span id="cb131-17"><a href="rstudio-server.html#cb131-17" aria-hidden="true" tabindex="-1"></a>    <span class="ex">RewriteRule</span> /rstudio/<span class="er">(</span><span class="bu">.</span><span class="pp">*</span><span class="kw">)</span>     <span class="ex">ws://localhost:8787/</span><span class="va">$1</span>  [P,L]</span>
<span id="cb131-18"><a href="rstudio-server.html#cb131-18" aria-hidden="true" tabindex="-1"></a>    <span class="ex">RewriteCond</span> %{HTTP:Upgrade} !=websocket</span>
<span id="cb131-19"><a href="rstudio-server.html#cb131-19" aria-hidden="true" tabindex="-1"></a>    <span class="ex">RewriteRule</span> /rstudio/<span class="er">(</span><span class="bu">.</span><span class="pp">*</span><span class="kw">)</span>     <span class="ex">http://localhost:8787/</span><span class="va">$1</span> [P,L]</span>
<span id="cb131-20"><a href="rstudio-server.html#cb131-20" aria-hidden="true" tabindex="-1"></a>    <span class="ex">ProxyPass</span> /rstudio/ http://localhost:8787/</span>
<span id="cb131-21"><a href="rstudio-server.html#cb131-21" aria-hidden="true" tabindex="-1"></a>    <span class="ex">ProxyPassReverse</span> /rstudio/ http://localhost:8787/</span>
<span id="cb131-22"><a href="rstudio-server.html#cb131-22" aria-hidden="true" tabindex="-1"></a>    <span class="ex">ProxyRequests</span> Off</span>
<span id="cb131-23"><a href="rstudio-server.html#cb131-23" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>/VirtualHost<span class="op">&gt;</span></span></code></pre></div>
<p>完成後需要重新啟動 Apache</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb132-1"><a href="rstudio-server.html#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> systemctl restart apache2</span></code></pre></div>
<p>最後以瀏覽器打開下面的連結會發現，可以直接使用具有名字的路徑，透過反向代理，連結到目的地 8787 埠號。</p>
<pre><code>http://&lt;虛擬主機的 ip 地址&gt;/rstudio/</code></pre>
<p><img src="figures/apache2-rstudio-server-login-page.png" /></p>
<p>在 <a href="rstudio-server.html#step-1-----安裝-rstudio-server-伺服器">Step 1</a> 開的 8787 埠號可以關掉了。在 status 的後面加上 numbered 可以將設定的編號也一起列出來，再藉由編號編輯該設定。</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb134-1"><a href="rstudio-server.html#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> ufw status numbered</span></code></pre></div>
<pre class="console_output"><code>Status: active

     To                         Action      From
     --                         ------      ----
[ 1] 60000                      ALLOW IN    Anywhere                  
[ 2] mosh                       ALLOW IN    Anywhere                  
[ 3] Apache                     ALLOW IN    Anywhere                  
[ 4] Apache Secure              ALLOW IN    Anywhere                  
[ 5] 8787                       ALLOW IN    Anywhere                  
[ 6] 60000 (v6)                 ALLOW IN    Anywhere (v6)             
[ 7] mosh (v6)                  ALLOW IN    Anywhere (v6)             
[ 8] Apache (v6)                ALLOW IN    Anywhere (v6)             
[ 9] Apache Secure (v6)         ALLOW IN    Anywhere (v6)             
[10] 8787 (v6)                  ALLOW IN    Anywhere (v6)</code></pre>
<p>刪除第 5 個設定（8787）</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb136-1"><a href="rstudio-server.html#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> ufw delete 5</span></code></pre></div>
<p>刪除第 9 個設定（8787 (v6)），因為第 5 個設定刪除之後，第 10 順位的設定就會往前移，重新編號。</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode bash prefixed"><code class="sourceCode bash"><span id="cb137-1"><a href="rstudio-server.html#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> ufw delete 9</span></code></pre></div>
<p>更動後的設定。</p>
<pre class="console_output"><code>Status: active

To                         Action      From
--                         ------      ----
60000                      ALLOW       Anywhere                  
mosh                       ALLOW       Anywhere                  
Apache                     ALLOW       Anywhere                  
Apache Secure              ALLOW       Anywhere                  
60000 (v6)                 ALLOW       Anywhere (v6)             
mosh (v6)                  ALLOW       Anywhere (v6)             
Apache (v6)                ALLOW       Anywhere (v6)             
Apache Secure (v6)         ALLOW       Anywhere (v6)</code></pre>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="r-base.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="rshiny-server.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["twitter", "facebook"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/exkuretrol/MCU-ASIS/edit/main/04-RStudio-and-RShiny-Server.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/exkuretrol/MCU-ASIS/blob/main/04-RStudio-and-RShiny-Server.Rmd",
"text": null
},
"download": ["MCU-ASIS.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
