[["index.html", "MCU ASIS Ubuntu ç³»çµ±å®‰è£æŒ‡å— å¼•è¨€", " MCU ASIS Ubuntu ç³»çµ±å®‰è£æŒ‡å— Chiawei Chen 2022-02-21 å¼•è¨€ æœ¬æ›¸æœƒå¾è™›æ“¬ç’°å¢ƒçš„å»ºç«‹ã€å®‰è£ Ubuntuã€Ubuntu ç’°å¢ƒè¨­å®šã€å®‰è£ LAMPæ–¼ Ubuntuã€å®‰è£ Rstudio èˆ‡ RShiny æ–¼Ubuntuâ€¦ç­‰ï¼Œåˆ†ç« ç¯€ä»‹ç´¹ã€‚ "],["intro.html", "Chapter 1 åŸºç¤å»ºè¨­", " Chapter 1 åŸºç¤å»ºè¨­ å› ç‚ºä½¿ç”¨è€…çš„ç¶“é©—ã€èƒ½åŠ›æœƒæœ‰æ‰€å·®ç•°èˆ‡è§£æ±ºå•é¡Œçš„èƒ½åŠ›ï¼Œåœ¨æ¥è§¸æ–°çš„ç³»çµ±ä¹‹å‰ï¼Œæœ€å¥½é‚„æ˜¯å…ˆåœ¨è™›æ“¬æ©Ÿå™¨ä¸Šå…ˆé‹è¡Œéä¸€æ¬¡ï¼Œç¢ºèªæ²’å•é¡Œä¹‹å¾Œå†æŠŠæ“ä½œæ¬åˆ°å¯¦é«”é›»è…¦ä¸Šå»ï¼Œæ‰ä¸æœƒé‡åˆ°é æ–™ä¹‹å¤–çš„å•é¡Œã€‚ æœ¬æ›¸æ‰€ä½¿ç”¨é‹è¡Œè™›æ“¬æ©Ÿå™¨çš„è»Ÿé«”ç‚º VirtualBoxã€‚ "],["äº‹å‰æº–å‚™.html", "1.1 äº‹å‰æº–å‚™", " 1.1 äº‹å‰æº–å‚™ åœ¨é–‹å§‹æ•™å­¸ä¹‹å‰ï¼Œç¢ºå®šä½ çš„ç’°å¢ƒè¦èƒ½ä¸Šç¶²å­˜å–ç¶²è·¯ä¸Šçš„è³‡æºã€‚ å†ä¾†æ˜¯æª¢æŸ¥è‡ªå·±çš„é›»è…¦å¯ä¸å¯ä»¥é‹è¡Œ VirtualBoxï¼ˆæˆ–æ˜¯å…¶ä»–å¯ä»¥é‹è¡Œè™›æ“¬æ©Ÿå™¨çš„è»Ÿé«”ï¼‰ï¼Œè¦é‹è¡Œè™›æ“¬æ©Ÿå™¨é€šå¸¸éƒ½è¦å» BIOS æ‰“é–‹ä¸€å€‹å«åš Virtualization Technology çš„åŠŸèƒ½ã€‚ æ–¼é™„éŒ„æœ‰è¬›è§£æ€éº¼å¾é–‹æ©Ÿç‹€æ…‹çš„ Windows 10 ç³»çµ±é€²å…¥ BIOSï¼Œé€²å…¥ä¹‹å¾ŒæŠŠ VT ç›¸é—œçš„è¨­å®šéƒ½æ‰“é–‹å¾Œé‡æ–°å•Ÿå‹•ã€‚ "],["å®‰è£-virtualbox.html", "1.2 å®‰è£ VirtualBox", " 1.2 å®‰è£ VirtualBox é¦–å…ˆåˆ° VirtualBox å®˜æ–¹ç¶²ç«™çš„ä¸‹è¼‰é é¢ï¼Œä¸‹è¼‰é©åˆä½ é›»è…¦ç³»çµ±çš„å®‰è£åŸ·è¡Œæª”ï¼Œå‡å¦‚æ˜¯ Windows ç³»çµ±å°±é»æ“Š ã€ŒWindows hostsã€çš„ä¸‹è¼‰é€£çµï¼Œå¦‚æœæ˜¯å…¶ä»–ä½œæ¥­ç³»çµ±å°±æ ¹æ“šä½ çš„ä½œæ¥­ç³»çµ±ä¸‹è¼‰å°æ‡‰çš„æª”æ¡ˆã€‚ å®‰è£çš„éç¨‹ä¸­åªéœ€ä½¿ç”¨é è¨­çš„è¨­å®šå³å¯ï¼Œé è¨­è¨­å®šåšäº†å®‰è£è™›æ“¬æ©Ÿå™¨çš„é©…å‹•ç¨‹å¼ã€é—œè¯æª”æ¡ˆâ€¦ç­‰ç­‰ï¼Œæ­£å¸¸å®‰è£ä¸éœ€è¦è®Šæ›´å®ƒã€‚ "],["æ–¼è™›æ“¬æ©Ÿå™¨å®‰è£ä½œæ¥­ç³»çµ±.html", "1.3 æ–¼è™›æ“¬æ©Ÿå™¨å®‰è£ä½œæ¥­ç³»çµ±", " 1.3 æ–¼è™›æ“¬æ©Ÿå™¨å®‰è£ä½œæ¥­ç³»çµ± åœ¨å®‰è£å®Œ VirtualBox å¾Œï¼Œæ‰“é–‹ä¸¦ä¸æœƒæœ‰é å…ˆå®‰è£å¥½çš„ä½œæ¥­ç³»çµ±ï¼Œéœ€è¦åœ¨ VirtualBox å…§è‡ªè¡Œæ–°å¢è™›æ“¬æ©Ÿå™¨å¾Œï¼Œå†å°‡ä½œæ¥­ç³»çµ±å®‰è£è‡³è™›æ“¬æ©Ÿå™¨å…§ï¼›åˆæˆ–æ˜¯åŒ¯å…¥å·²ç¶“å«æœ‰ä½œæ¥­ç³»çµ±çš„è™›æ“¬æ©Ÿå™¨ï¼ˆ*.ovaã€*.ovf æ ¼å¼ï¼‰ã€‚ é¦–å…ˆä»‹ç´¹ VirtualBox çš„ä½¿ç”¨è€…ä»‹é¢: Figure 1.1: VirtualBox çš„æ“ä½œä»‹é¢ å¦‚ 1.1 æ‰€ç¤ºï¼Œå³é‚Šä¸»è¦åŠŸèƒ½åœ–ç¤ºç”±å·¦è€Œå³çš„åŠŸèƒ½åˆ†åˆ¥æ˜¯: å–œå¥½è¨­å®š: è¨­å®š VirtualBox çš„æ•´é«”è¨­å®šï¼Œåƒæ˜¯è»Ÿé«”èªè¨€ã€è™›æ“¬æ©Ÿå™¨é è¨­å­˜æ”¾ä½ç½®â€¦ç­‰ç­‰ åŒ¯å…¥: åŒ¯å…¥è™›æ“¬æ©Ÿå™¨æª”æ¡ˆ (.ovf) åŒ¯å‡º: åŒ¯å‡ºè™›æ“¬æ©Ÿå™¨æª”æ¡ˆ æ–°å¢: æ–°å¢æ–°çš„è™›æ“¬æ©Ÿå™¨ åŠ å…¥: åŠ å…¥å·²ç¶“å­˜åœ¨çš„è™›æ“¬æ©Ÿå™¨ 1.3.1 æ–°å¢ Ubuntu ä½œæ¥­ç³»çµ±è¨­å®š æ‰€ä»¥è¦æ–°å¢æ–°çš„è™›æ“¬æ©Ÿå™¨æ˜¯æŒ‰ã€Œæ–°å¢ã€ã€‚ é€™è£¡å…ˆé»é¸ã€Œå°ˆå®¶æ¨¡å¼ã€ï¼Œå°ˆå®¶æ¨¡å¼å¯ä»¥ä¸€ä½µè¨­å®šè™›æ“¬æ©Ÿå™¨çš„æ‰€æœ‰è¨­å®šã€‚ è¨˜æ†¶é«”å¤§å°æ ¹æ“šæ¯å€‹äººé›»è…¦çš„æ€§èƒ½åšèª¿æ•´ï¼Œè™›æ“¬æ©Ÿå™¨æ²’ç”¨ä¾†åšä»€éº¼äº‹æœ€å¤š4Gb (4 * 1024Mb) å°±å¾ˆå¤ ç”¨äº†ã€‚é€™è£¡è¦æ³¨æ„çš„ä¸€é»æ˜¯ï¼Œè™›æ“¬æ©Ÿå™¨çš„å­˜æ”¾ä½ç½®ï¼Œç•¶ä½ è¦è½‰ç§»è™›æ“¬æ©Ÿå™¨æ™‚æ‰ä¸æœƒæ‰¾ä¸åˆ°ã€‚ é è¨­çš„è™›æ“¬æ©Ÿå™¨å­˜æ”¾ä½ç½®ä½æ–¼ä½¿ç”¨è€…è³‡æ–™å¤¾ä¸­çš„Virtual VMsè³‡æ–™å¤¾ï¼Œåƒæˆ‘çš„ä½¿ç”¨è€…æ˜¯qaz85ï¼Œé‚£è™›æ“¬æ©Ÿå™¨å°±ä½æ–¼: C:\\Users\\qaz85\\VirtualBox VMs å¾é€™å¼µåœ–å¯ä»¥çœ‹åˆ°ä¼ºæœå™¨çš„ç£ç¢Ÿé…ç½®æ˜¯ç”±å…©å€‹ 1Tb çš„ç¡¬ç¢Ÿçµ„æˆï¼Œä¸”ç”¨Raid-1 (æ˜ å°„æ¨¡å¼) å°‡ä¼ºæœå™¨åŒæ™‚æ˜ å°„å‚™ä»½è‡³å¦ä¸€å€‹ç¡¬ç¢Ÿã€‚ lsblk NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINT sdb 8:16 0 931.5G 0 disk â”œâ”€sdb2 8:18 0 852.5G 0 part â”œâ”€sdb3 8:19 0 32G 0 part â”œâ”€sdb1 8:17 0 512M 0 part â””â”€isw_ecbbadhihd_Raid1 253:0 0 885G 0 dmraid â”œâ”€isw_ecbbadhihd_Raid1p1 253:1 0 512M 0 part /boot/efi â”œâ”€isw_ecbbadhihd_Raid1p2 253:2 0 852.5G 0 part / â””â”€isw_ecbbadhihd_Raid1p3 253:3 0 32G 0 part [SWAP] sr0 11:0 1 1024M 0 rom sda 8:0 0 931.5G 0 disk â”œâ”€sda2 8:2 0 852.5G 0 part â”œâ”€sda3 8:3 0 32G 0 part â”œâ”€sda1 8:1 0 512M 0 part â””â”€isw_ecbbadhihd_Raid1 253:0 0 885G 0 dmraid â”œâ”€isw_ecbbadhihd_Raid1p1 253:1 0 512M 0 part /boot/efi â”œâ”€isw_ecbbadhihd_Raid1p2 253:2 0 852.5G 0 part / â””â”€isw_ecbbadhihd_Raid1p3 253:3 0 32G 0 part [SWAP] æ‰€ä»¥é€™è£¡ä¹Ÿé¸æ“‡è·Ÿä¼ºæœå™¨ä¸€æ¨£çš„1000Gbåšç‚ºç³»çµ±ç¡¬ç¢Ÿï¼Œé¡å‹èˆ‡ç‰ˆæœ¬è¨˜å¾—è¨­å®šç‚º Linux èˆ‡ Ubuntu 64ä½å…ƒ ç‰ˆæœ¬ã€‚å®Œæˆä¹‹å¾Œé»æ“Šã€Œå»ºç«‹ã€ã€‚ é€™è£¡æˆ‘æœƒé¸ VMDK æ ¼å¼çš„åŸå› æ˜¯å› ç‚ºï¼Œå¦‚æœè¦è½‰ç§»è™›æ“¬æ©Ÿå™¨æª”æ¡ˆæ™‚ï¼Œå–®ä¸€å€‹æª”æ¡ˆæœƒè¼•æ˜“åœ°è¶…é 4Gbï¼Œè€Œè¶…éæ­¤ä¸Šé™å¾—æª”æ¡ˆåœ¨è¤‡è£½æ™‚ï¼Œå¦‚æœç›®çš„åœ°çš„è£ç½®æ ¼å¼ä¸æ˜¯ ntfs çš„è©±ï¼Œæœƒæ²’æœ‰è¾¦æ³•è¤‡è£½ã€‚ç‚ºäº†é é˜²é€™å€‹å•é¡Œï¼Œæˆ‘åœ¨é€™é‚Šå…ˆé¸æ“‡ VMDK ä½œç‚ºæˆ‘è™›æ“¬æ©Ÿå™¨çš„æª”æ¡ˆæ ¼å¼ã€‚ é€™è£¡å¦‚æœé¸æ“‡ã€Œå›ºå®šå¤§å°ã€æœƒæ–°å¢ä¸€å€‹è·Ÿä½ è¨­å®šçš„æª”æ¡ˆå¤§å°ä¸€æ¨£å¤§çš„è™›æ“¬æ©Ÿå™¨æª”æ¡ˆï¼Œé™¤éä½ çš„ç¡¬ç¢Ÿå¾ˆå¤§ï¼Œå¦å‰‡ä¸å»ºè­°é€™éº¼åšã€‚ å®Œæˆå¾Œï¼Œæœƒåœ¨ Virtual Machine çš„é¸å–®å·¦é‚Šçœ‹è¦‹å‰›å‰›æ–°å»ºçš„è™›æ“¬æ©Ÿå™¨ï¼Œä¸éæ­¤æ™‚çš„è™›æ“¬æ©Ÿå™¨å…§é‚„æ²’æœ‰ä½œæ¥­ç³»çµ±ã€‚ ç‚ºäº†è¦ä½¿ç”¨è·Ÿä¼ºæœå™¨ä¸€æ¨£çš„è¨­å®šï¼Œéœ€è¦å†æ–°å¢å¦ä¸€é¡†è·ŸåŸæœ¬ç¡¬ç¢Ÿä¸€æ¨£å¤§å°çš„ç¡¬ç¢Ÿåšé¡åƒå‚™ä»½ã€‚é»é¸å³é‚Šæ©˜è‰²çš„é½’è¼ªã€Œè¨­å®šâš™ã€ã€‚ åœ¨å„²å­˜è£ç½®çš„ã€Œæ§åˆ¶å™¨ï¼šSATAã€éƒ¨åˆ†ï¼Œé»é¸ç¡¬ç¢Ÿåœ–æ¡ˆï¼ˆæœ‰ç¶ è‰²åŠ ç¬¦è™Ÿçš„ï¼‰æ–°å¢æ–°çš„ç¡¬ç¢Ÿã€‚ é»é¸ã€Œå»ºç«‹ã€å»ºç«‹èˆ‡ç¬¬ä¸€é¡†ç¡¬ç¢Ÿæ¢ä»¶ä¸€æ¨£çš„ç¡¬ç¢Ÿã€‚ é€™æ¬¡æˆ‘æŠŠç¡¬ç¢Ÿå–åç‚º MCU-ASIS_1ã€‚ å®Œæˆå¾Œï¼Œé»æ“Šã€Œç¢ºå®šã€å„²å­˜ã€‚ 1.3.2 æ–¼ VirtualBox å®‰è£ä½œæ¥­ç³»çµ± åœ¨å®‰è£ä½œæ¥­ç³»çµ±ä¹‹å‰ï¼Œè¦å…ˆä¸‹è¼‰ä½œæ¥­ç³»çµ±ï¼Œå› ç‚ºç›®å‰çš„é™¢ä¼ºæœå™¨ç³»çµ±æ˜¯ Ubuntu ã€æˆ‘è‡ªå·±çš„ VPS ä¹Ÿæ˜¯ Ubuntu ï¼Œè€Œä¸”æˆ‘æ‘¸å¾—æ¯”è¼ƒç†Ÿçš„ä¹Ÿæ˜¯ Ubuntu é‚£æœ‰ä»€éº¼ç†ç”±æ›æ‰å‘¢ï¼Ÿæ‰€ä»¥é€™è£¡æˆ‘ä¹Ÿä»¥ Ubuntu ä½œç‚ºæˆ‘å€‘é™¢ä¼ºæœå™¨ä¸»è¦çš„ç³»çµ±ã€‚ é€²åˆ° Ubuntu å®˜æ–¹ç¶²ç«™çš„ä¸‹è¼‰ä»‹é¢ï¼Œé€™æ¬¡æˆ‘å€‘é¸æ“‡ä¼ºæœå™¨ç‰ˆæœ¬ (Ubuntu Server) ä»£æ›¿ä»¥å¾€çš„æ¡Œé¢ç‰ˆæœ¬ (Ubuntu Desktop)ã€‚å› ç‚ºå¦‚æœæ˜¯ä¼ºæœå™¨ï¼Œä¸éœ€è¦åœ–å½¢ä»‹é¢å°±å¯ä»¥ç®¡ç†äº†ï¼Œç›¸å°æ–¼æ¡Œé¢ç‰ˆæœ¬ä¹Ÿè¼ƒç¯€çœè³‡æºã€‚ é¸æ“‡ã€ŒOption 2 - Manual server Installationã€é¸é …ä¹‹å¾Œï¼ŒæŒ‰ä¸Šé¢çš„ç¶ è‰²æŒ‰éˆ•ã€ŒDownload Ubuntu Server 20.04.2 LTSã€æœƒè·³è½‰åˆ°ä¸‹è¼‰é é¢ï¼Œé–‹å§‹ä¸‹è¼‰ Ubuntu ç³»çµ±æ˜ åƒæª”æ¡ˆ (*.iso)ã€‚ å…¶ä»–é¸é …çš„ç°¡æ˜“èªªæ˜: Option 1 - Instant Ubuntu VMs: Multipass æ˜¯å¿«é€Ÿéƒ¨å±¬è™›æ“¬æ©Ÿå™¨çš„è»Ÿé«”ï¼Œè©³ç´°èªªæ˜å¯ä»¥çœ‹é€™è£¡ï¼Œè€Œé€™è£¡æˆ‘å€‘å·²ç¶“é¸ç”¨ VirtualBox äº†æ‰€ä»¥ä¸æœƒç”¨åˆ° Option 2 - Manual server installation: å‚³çµ±çš„ä¸‹è¼‰æ˜ åƒæª”æ¡ˆ Option 3 - Automated server provisioning: åˆ©ç”¨ MaaS (Metal-as-a-Service) å®‰è£è™›æ“¬æ©Ÿã€‚MaaSæ˜¯ç®¡ç†æ•¸å°è™›æ“¬æ©Ÿå™¨ç”¨çš„æœå‹™ï¼Œä¸¦ä¸å±€é™æ–¼ Ubuntuï¼ŒWindowsã€CentOS èˆ‡ ESXiéƒ½å¯ä»¥åœ¨ä¸Šé¢éƒ¨å±¬ã€‚ å¾…ä¸‹è¼‰å®Œæˆå¾Œï¼Œé»æ“Šå…©ä¸‹é–‹å•Ÿå‰›å‰›å‰µå»ºçš„ã€ŒMCU-ASISã€è™›æ“¬æ©Ÿå™¨ï¼Œæœƒè·³å‡ºä¸€å€‹é¸æ“‡å•Ÿå‹•ç£ç¢Ÿçš„è¨Šæ¯æç¤ºè¦–çª—ï¼Œé€™è£¡æˆ‘å€‘é»æ“Šå³ä¸‹è§’çš„è³‡æ–™å¤¾ğŸ“ã€‚ æŒ‰ã€ŒåŠ å…¥ã€ä¸¦é¸æ“‡å‰›å‰›ä¸‹è¼‰ä¸‹ä¾†çš„æ˜ åƒæª”æ¡ˆ (ubuntu-20.04.2-live-server-amd64.iso)ã€‚åŠ å…¥å®Œæˆå¾ŒæŒ‰ã€Œé¸æ“‡ã€ï¼Œæ¥è‘—æŒ‰ã€Œé–‹å§‹ã€æ›è¼‰æ˜ åƒæª”æ¡ˆè‡³è™›æ“¬æ©Ÿå™¨ä¸­é–‹å§‹å®‰è£ã€‚ 1.3.2.1 èªè¨€ ç¨å¾… Ubuntu ä½œæ¥­ç³»çµ±æ˜ åƒæª”è¼‰å…¥å¾Œï¼Œå®‰è£ç¨‹å¼æœƒè·³å‡ºé¸æ“‡èªè¨€çš„ç•«é¢ï¼Œåœ¨é€™è£¡é¸æ“‡é©åˆä½ çš„èªè¨€ã€‚ åœ¨å®‰è£éç¨‹ä¸­ä½¿ç”¨æ–¹å‘éµâ¬†ï¸â¬‡ï¸â¬…ï¸â¡ï¸ (é¸æ“‡)ã€Enterâ†ªï¸ (ç¢ºèª) èˆ‡ Esc (è¿”å›) æ“æ§å®‰è£ç¨‹å¼ä»‹é¢ã€‚ 1.3.2.2 éµç›¤é…ç½® é€™è£¡å¯ä»¥è¨­å®šéµç›¤çš„: Layout (å¸ƒå±€): éµç›¤çš„èªè¨€ Variant (éµä½): ä¸€èˆ¬åœ¨å°ç£éƒ½æ˜¯ç”¨ QWERTY é…ç½®ï¼Œè©³ç´°èªªæ˜å¯ä»¥åœ¨é€™æ‰¾åˆ° 1.3.2.3 ç¶²è·¯é€£ç·š é€™è£¡å¯ä»¥è¨­å®š Ubuntu çš„ç¶²è·¯é€£ç·šï¼Œé è¨­æ˜¯ç”± DHCP è¨­å®šï¼Œé€šå¸¸ä¸ç”¨è®Šæ›´ï¼Œå¦‚æœé€™è£¡é€£ç·šå¤±æ•—ï¼Œä¹Ÿå¯ä»¥ç­‰é–‹æ©Ÿå¾Œå†åšè¨­å®šã€‚ 1.3.2.4 Proxy é™¤éç¶²è·¯éœ€è¦è¨­å®š proxy (ä»£ç†ä¼ºæœå™¨)ï¼Œå¦å‰‡ä¸éœ€è¦è¨­å®šã€‚ 1.3.2.5 é¡åƒ (Mirror) åŒä¸Šï¼Œä¸éœ€è¦ç‰¹åˆ¥è¨­å®š mirror (é¡åƒ)ï¼Œå®‰è£ç¨‹å¼æœƒè‡ªå‹•åˆ¤æ–·é¸æ“‡å“ªå€‹åœ°æ–¹çš„é¡åƒç¶²å€æ›´æ–°ã€‚ 1.3.2.6 å®‰è£ç¨‹å¼æ›´æ–° (å¯èƒ½ä¸æœƒå‡ºç¾) å¦‚æœå‡ºç¾äº†é€™å€‹ç•«é¢ä»£è¡¨å®‰è£ç¨‹å¼æœ‰æ–°çš„ç‰ˆæœ¬ï¼Œå¯ä»¥åœ¨å®‰è£æ™‚é †ä¾¿æ›´æ–°ï¼Œç•¶ç„¶ï¼Œä¹Ÿå¯ä»¥åœ¨ç³»çµ±å®‰è£å®Œå¾Œæ›´æ–°ã€‚ 1.3.2.7 ç³»çµ±ç©ºé–“é…ç½® (Raid-1) é€™è£¡é¸æ“‡ä¸‹é¢çš„ã€ŒCustom storage layoutã€ã€‚ä»¥ä¸‹ Raid-1 ç›¸é—œçš„è¨­å®šæ˜¯åƒè€ƒ (Evangelou 2020) çš„ Gist ç¿»è­¯æˆä¸­æ–‡å¯«çš„ã€‚ å¦‚æœé¸éŒ¯äº†ã€æˆ–æ˜¯ç¡¬ç¢Ÿä¸­æœ‰å·²ç¶“åˆ†å‰²å¥½çš„ç£å€ä¹Ÿæ²’é—œä¿‚ï¼Œå¾ AVAILABLE DEVICES ä¸‹é¢é¸æ“‡ç¡¬ç¢Ÿ âœ ã€ŒReformatã€ âœ ã€ŒReformatã€ï¼Œé€™æœƒæŠŠç¡¬ç¢Ÿæ ¼å¼åŒ–ã€‚ é¸æ“‡ç¬¬ä¸€å€‹ç£ç¢Ÿ âœ ã€ŒUse As Boot Deviceã€ ç•¶ä½œé–‹æ©Ÿç£ç¢Ÿ å°ç¬¬äºŒå€‹ç£ç¢Ÿã€ŒVBOX_HARDDISK_VBdc8cc122-e9b43569ã€ä¹ŸåšåŒæ¨£çš„äº‹æƒ…ã€‚ ç›®å‰ç‰ˆæœ¬ 20.04.2 live server æœ‰å€‹ bugï¼Œç•¶ä½ è¦æ–°å¢ç‚ºé–‹æ©Ÿç¡¬ç¢Ÿ (Boot Device) æ™‚ï¼Œè¦åœ¨å»ºç«‹å…¶ä»–ä¸‰å€‹åˆ†å€ (/ ã€ /boot å’Œ [SWAP])ä¹‹å‰ï¼Œå…ˆè¨­å®šå¥½ï¼Œä¸ç„¶ 1Mb çš„ grub åˆ†å€æœƒæ¶ˆå¤±ã€‚(æˆ‘åªæœ‰å¾ç¾ééŒ¯èª¤ä¸€æ¬¡ 2021.07.21) æ¥è‘—ç‚º / ã€ /boot å’Œ [SWAP] åšåˆ†å€ã€‚ /: ç³»çµ±æ ¹ç›®éŒ„ç£å€ /boot: é–‹æ©Ÿç£å€ [SWAP]: SWAP (è¨˜æ†¶é«”ç½®æ›ç©ºé–“) ä¸»è¦åŠŸèƒ½æ˜¯ç•¶è¨˜æ†¶é«”æ»¿è¼‰æ™‚ï¼ŒæœƒæŠŠç¾åœ¨æ²’æœ‰ç”¨åˆ°çš„ç¨‹åºå…ˆæ”¾åˆ° SWAP ä¸­ï¼Œç©ºçµ¦ç›®å‰æ­£åœ¨é‹è¡Œçš„ç¨‹å¼ä½¿ç”¨ é¦–å…ˆç‚º /boot åˆ†å€ï¼Œé€šå¸¸é–‹æ©Ÿç£å€ 512 Mb ~ 1Gb å°±å¾ˆå¤ ç”¨äº†ï¼Œçœ‹ä½ å–œå¥½ï¼Œé€™è£¡æˆ‘é¸æ“‡ 1Gbã€‚é¸æ“‡ç¬¬ä¸€å€‹ç£ç¢Ÿ âœ ã€ŒAdd GPT Partitationã€ï¼Œç…§ä¸‹é¢çš„è¨­å®šè¨­å®šå¾Œï¼ŒæŒ‰ã€ŒCreateã€ã€‚ Size: 1G Format: [ Leave unformatted â–¾ ] å°ç¬¬äºŒé¡†ç¡¬ç¢ŸåšåŒæ¨£çš„äº‹ã€‚ å†ä¾†æ˜¯ [SWAP] ç£å€ï¼Œä¸€èˆ¬ä¾†èªªæœƒç”¨å¯¦é«”è¨˜æ†¶é«”å®¹é‡ â¨‰ 2 ä½œç‚º [SWAP] ç£å€çš„å®¹é‡ï¼Œé€™è£¡æˆ‘æ€•ç©ºé–“å¤ªå°‘å…ˆç”¨ 32Gbã€‚é¸æ“‡ç¬¬ä¸€å€‹ç£ç¢Ÿ âœ ã€ŒAdd GPT Partitationã€ï¼Œç…§ä¸‹é¢çš„è¨­å®šè¨­å®šå¾Œï¼ŒæŒ‰ã€ŒCreateã€ã€‚ Size: 32G Format: [ Leave unformatted â–¾ ] å°ç¬¬äºŒé¡†ç¡¬ç¢ŸåšåŒæ¨£çš„äº‹ã€‚ æœ€å¾Œæ‰æ˜¯ç³»çµ±ç¡¬ç¢Ÿ / ï¼Œç³»çµ±ç¡¬ç¢Ÿä½¿ç”¨ /boot ã€[SWAP] èˆ‡ grub å‰©ä¸‹ä¾†çš„ç©ºé–“ã€‚é¸æ“‡ç¬¬ä¸€å€‹ç£ç¢Ÿ âœ ã€ŒAdd GPT Partitationã€ï¼Œç…§ä¸‹é¢çš„è¨­å®šè¨­å®šå¾Œï¼ŒæŒ‰ã€ŒCreateã€ã€‚ Size: ç•™ç©º é è¨­ç‚ºå‰©ä¸‹ç¡¬ç¢Ÿçš„å®¹é‡ï¼Œæ­£æ˜¯æˆ‘å€‘æ‰€è¦çš„ Format: [ Leave unformatted â–¾ ] å°ç¬¬äºŒé¡†ç¡¬ç¢ŸåšåŒæ¨£çš„äº‹ã€‚ æ¥è‘—è¨­å®š Raid-1ã€‚é¸å–ã€Œ[ Create software RAID (md) â–¸ ]ã€ï¼Œé¸å–å…©å€‹ã€Œpartition 2ã€å»ºç«‹ md0 softRaid ç£å€ åŒä¸Šï¼Œé¸å–ã€Œ[ Create software RAID (md) â–¸ ]ã€ï¼Œé¸å–å…©å€‹ã€Œpartition 3ã€å»ºç«‹ md1 softRaid ç£å€ åŒä¸Šï¼Œé¸å–ã€Œ[ Create software RAID (md) â–¸ ]ã€ï¼Œé¸å–å…©å€‹ã€Œpartition 4ã€å»ºç«‹ md2 softRaid ç£å€ é¸æ“‡ md0 (new) âœ format âœ Format: é¸æ“‡ ext4 æ ¼å¼ âœ Mount: æ›è¼‰æ–¼ /boot âœ å®Œæˆå¾Œé¸æ“‡ Done é¸æ“‡ md1 (new) âœ format âœ Format: é¸æ“‡ swap æ ¼å¼ âœ å®Œæˆå¾Œé¸æ“‡ Done é¸æ“‡ md2 (new) âœ format âœ Format: é¸æ“‡ ext4 æ ¼å¼ âœ Mount: æ›è¼‰æ–¼ / âœ å®Œæˆå¾Œé¸æ“‡ Done è¨­å®šå®ŒæˆğŸ‰ï¼Œæ•´é«”è¨­å®šæˆªåœ–: æˆªåœ–ï¼ˆçºŒï¼‰ åœ¨æœ€ä¸‹é¢é¸æ“‡ã€ŒDoneã€ï¼Œè‡³ä¸‹ä¸€æ­¥ã€‚ 1.3.2.8 ä½¿ç”¨è€…è¨­å®š åœ¨é€™é‚Šè¨­å®šè‡ªå·±çš„ä½¿ç”¨è€…åç¨±èˆ‡é›»è…¦åç¨±ã€‚ Your name: asis Your serverâ€™s name: asis01 Pick a username: asis Choose a password: asis Confirm your password: asis 1.3.2.9 OpenSSH è¨­å®š OpenSSH æ˜¯ä½¿ç”¨ SSH é€šè¨Šå”å®šä¾†é ç«¯é€£ç·šé›»è…¦çš„å·¥å…·ã€‚é˜²æ­¢é€£ç·šä¸­è¢«ç«Šè½ã€åŠ«æŒæˆ–æ˜¯å…¶ä»–æ”»æ“Šã€‚å¦‚æœæ²’æœ‰æ“æœ‰ Github å¸³è™Ÿé€™è£¡å¯ä»¥å…ˆè·³éï¼Œæ–¼ç¬¬äºŒç« æœƒé‡æ–°ä»‹ç´¹æ€éº¼è¨­å®š OpenSSH ä¼ºæœå™¨ã€‚ 1.3.2.9.1 å¾ Github åŒ¯å…¥å·²ç¶“å„²å­˜çš„ public key é€™è£¡å°‡ Allow password authentication over SSH å–æ¶ˆæ‰“å‹¾ï¼Œç¶“ç”± SSH é€£ç·šè‡³è™›æ“¬æ©Ÿå™¨æ™‚ï¼Œé—œé–‰ä½¿ç”¨è€…å¯†ç¢¼èªè­‰ï¼Œæ”¹ç”± SSH key pairs ç™»å…¥ã€‚ å¦‚æœæ²’æœ‰æŒæœ‰ Github å¸³è™Ÿå„²å­˜çš„ public keyï¼Œè«‹æŠŠ Allow password authentication over SSH æ‰“å‹¾ï¼Œå¾…ä¸Šå‚³å®Œ public key å†æŠŠä½¿ç”¨å¯†ç¢¼ç™»å…¥é—œé–‰ã€‚ å¦å¤–ï¼Œæˆ‘å·²ç¶“é€é Github å„²å­˜éæˆ‘çš„ public key å‰¯æœ¬ï¼Œæ‰€ä»¥é€™é‚Šå¯ä»¥ç›´æ¥å¾ Github åŒ¯å…¥ public keyã€‚ å¦‚æœé€™é‚Šä¸åŒ¯å…¥çš„è©±ï¼Œä¹Ÿå¯ä»¥å¾…ç¨å¾Œé–‹æ©Ÿå¾Œå†ç”¨æŒ‡ä»¤ ssh-import-id-gh &lt;username&gt; åŒ¯å…¥ã€‚ é»é¸ã€ŒYesã€å¾Œé–‹å§‹åŒ¯å…¥ç¨‹åºã€‚ åŒ¯å…¥æˆåŠŸå¾Œå°±èƒ½ç¶“ç”±å«æœ‰ Github å‰¯æœ¬çš„ SSH key pairs ä¸»æ©Ÿé€£ç·šè‡³è™›æ“¬æ©Ÿå™¨ å®‰è£å®Œæˆå¾Œé¸æ“‡ã€ŒReboot Nowã€é‡æ–°å•Ÿå‹• åƒè€ƒè³‡æ–™ "],["ubuntu-çš„åŸºæœ¬è¨­å®š.html", "Chapter 2 Ubuntu çš„åŸºæœ¬è¨­å®š", " Chapter 2 Ubuntu çš„åŸºæœ¬è¨­å®š é€™ç« ä¸»é‡å¿ƒä¸»è¦æœƒåœ¨å¾æœ¬æ©Ÿå­˜å–è™›æ“¬æ©Ÿå™¨èˆ‡è™›æ“¬æ©Ÿå™¨çš„åŸºæœ¬è¨­å®šã€‚ "],["äº‹å‰æº–å‚™-1.html", "2.1 äº‹å‰æº–å‚™", " 2.1 äº‹å‰æº–å‚™ PS: powershell æŒ‡ä»¤å‰ç¶´ dir $: linux æŒ‡ä»¤å‰ç¶´ ls -al OUTPUT: æ¨™æº–è¼¸å‡ºæˆ–æ¨™æº–éŒ¯èª¤è¼¸å‡º total 12 drwxrwxr-x 3 kuaz kuaz 4096 Sep 22 02:11 ./ drwxr-x--- 15 kuaz kuaz 4096 Oct 10 22:30 ../ drwxrwxr-x 6 kuaz kuaz 4096 Oct 6 14:06 School/ "],["openssh.html", "2.2 OpenSSH", " 2.2 OpenSSH å‰é¢ç¬¬ä¸€ç« åœ¨å®‰è£æ™‚ï¼Œä¹Ÿæœ‰ç¢°åˆ° OpenSSH ä¼ºæœå™¨è¨­å®šçš„ç’°ç¯€ï¼Œä¸éé‚£ä¸¦ä¸å®Œæ•´ï¼Œæ˜¯çµ¦å·²ç¶“æ“æœ‰é€é ssh-keygen ç”¢ç”Ÿçš„ ssh key pairs çš„äººçœ‹çš„ã€‚åœ¨é€™å€‹å°ç¯€æœƒé€æ­¥è§£é‡‹ï¼Œå¾ OpenSSH client å®‰è£ã€ç”¢ç”Ÿ ssh key pairs æœ€å¾Œåˆ°é€£ç·šã€‚ 2.2.1 é©åˆå„å€‹ç³»çµ±çš„é€£ç·šæµç¨‹ è¦é€£æ¥åˆ°è™›æ“¬æ©Ÿå™¨çš„ OpenSSH ä¼ºæœå™¨ä¹‹å‰ï¼Œä½ éœ€è¦æœ‰ä¸€å€‹å¯ä»¥è®“ä½ é€£æ¥çš„ OpenSSH å®¢æˆ¶ç«¯ã€‚ 2.2.1.1 MacOS æˆ– å…¶ä»– Unix-like ç³»çµ± å¦‚æœä½ æ˜¯ Linux æˆ–æ˜¯ MacOS ç³»çµ±ï¼Œé€šå¸¸éƒ½æœ‰å…§å»º OpenSSH å®¢æˆ¶ç«¯ï¼Œå¯ä»¥ç›´æ¥è·³è‡³ ä»¥ Step 2 â€” ç”¢ç”Ÿ ssh key pairs çš„ç« ç¯€ï¼ŒWindows èˆ‡ Linux ä½¿ç”¨ OpenSSH Utility ç”¢ç”Ÿ ssh key pairs çš„æµç¨‹æ˜¯ä¸€æ¨£çš„ã€‚ 2.2.1.2 Windows ç³»çµ± è€Œ Windows ç”¨æˆ¶ä¸ç”¨æ“”å¿ƒï¼ŒWindows ç”¨æˆ¶é€£ç·šè‡³ OpenSSH ä¼ºæœå™¨çš„æ–¹æ³•æœ‰å¾ˆå¤šç¨®ï¼Œå°±æˆ‘å·²çŸ¥çš„æ–¹æ³•å¦‚ä¸‹: å·²ç¶“æ“æœ‰ SSH key pairs çš„å‰æä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ SSH é€šè¨Šå”å®šé€£ç·šçš„è»Ÿé«”ï¼Œå¦‚: PuTTY Termius Chrome ç€è¦½å™¨çš„ä»»ä½•ä¸€å€‹ SSH æ“´å……å¥—ä»¶ pros: å¾ˆå¿«ï¼›å®‰è£å®Œå°±èƒ½è¨­å®š SSH é€£ç·š ç›´æ¥åœ¨ Windows 10 å…§å•Ÿå‹• OpenSSH ç”¨æˆ¶ç«¯ï¼Œé€éå…§å»ºçš„ PowerShell SSH é€£ç·šè‡³è™›æ“¬ä¸»æ©Ÿã€‚ pros: è·Ÿç¬¬ä¸€å€‹æ–¹æ³•å·®ä¸å¤šå¿«ï¼Œå¯æ­é… Windows Terminal å®¢è£½åŒ–çµ‚ç«¯æ©Ÿä¸»é¡Œ åœ¨ Windows 10 å…§å®‰è£ Windows å­ç³»çµ± (Windows Subsystem for Linux; WSL)ï¼Œç„¶å¾Œç›´æ¥åœ¨ Linux ç’°å¢ƒé€é OpenSSH é€£ç·šè‡³è™›æ“¬ä¸»æ©Ÿã€‚ pros: å¯ä»¥å­¸ç¿’åˆ°å¾ˆå¤šæ±è¥¿ï¼Œ Linux å¯ä»¥ç”¨çš„åœ¨ Windows çš„ WSL å…§éƒ½å¯ä»¥ä½¿ç”¨ï¼Œæ“ä½œå¯ä»¥ç…§æ¬åˆ° WSL ä¸Šé¢ã€‚ç›®å‰æˆ‘æ˜¯ä½¿ç”¨é€™å€‹æ–¹å¼é€£ç·šã€‚ cons: å®‰è£éç¨‹æ‰€éœ€çš„æ™‚é–“æœƒæ ¹æ“šæ¯å€‹äººçš„ç¶“é©—æœ‰æ‰€å·®ç•°ï¼Œéœ€è¦å¾é ­é–‹å§‹è¨­å®š Linuxã€‚ åœ¨ Windows è¦ç”¢ç”Ÿ ssh key pairs æœ‰å…©ç¨®è¾¦æ³•ï¼Œç¬¬ä¸€ç¨®æ˜¯ç¶“ç”±å…§å»ºçš„ OpenSSH Client ç”¢ç”Ÿï¼Œå¦ä¸€ç¨®æ˜¯ç¶“ç”± PuTTY æ‰€é™„çš„å·¥å…·ç”¢ç”Ÿ (å¯ä»¥åƒè€ƒé™„éŒ„çš„ä½¿ç”¨ PuTTY é€£ç·šè‡³ OpenSSH ä¼ºæœå™¨)ã€‚ Linux çš„ä½¿ç”¨è€…å¯ä»¥ä½¿ç”¨å¥—ä»¶ç®¡ç†ç¨‹å¼å®‰è£ openssh-serverï¼Œå¦‚æœç³»çµ±æ˜¯å‰‡æŒ‡ä»¤ç‚ºï¼š sudo apt install openssh-server Step 1 â€” å®‰è£ OpenSSH Client Windows 10 å·²ç¶“æœ‰å…§å»ºåœ¨ Windows çš„ã€Œæ‡‰ç”¨ç¨‹å¼èˆ‡åŠŸèƒ½ã€å…§ï¼Œé è¨­æ˜¯æ²’æœ‰å®‰è£çš„ã€‚å•Ÿå‹•æµç¨‹å¦‚ä¸‹: é»æ“Šã€Œé–‹å§‹ã€ æ‰“é–‹ã€Œè¨­å®šâš™ã€ é¸å–ã€Œæ‡‰ç”¨ç¨‹å¼ã€ âœ ã€Œæ‡‰ç”¨ç¨‹å¼èˆ‡åŠŸèƒ½ã€ âœ æ‰¾åˆ°é»‘é«”å­—ã€Œç¨‹å¼èˆ‡åŠŸèƒ½ã€ï¼Œä¸¦é»é¸ä¸‹é¢çš„ã€Œé¸ç”¨åŠŸèƒ½ã€ åœ¨å·²å®‰è£çš„ç¯©é¸åˆ—ä¸Šé¢ç¯©é¸ ssh ï¼Œå¦‚æœæ²’æœ‰ï¼Œè«‹åœ¨é é¢é ‚ç«¯é»é¸ã€Œæ–°å¢åŠŸèƒ½ã€ï¼Œç„¶å¾Œ: æ‰¾åˆ°ã€ŒOpenSSH ç”¨æˆ¶ç«¯ã€å¾Œï¼Œé»é¸å®‰è£ å®‰è£å®Œæˆå¾Œï¼Œä½ å¯ä»¥æ‰“é–‹ã€Œå‘½ä»¤æç¤ºå­—å…ƒã€æˆ–æ˜¯ã€ŒPowerShellã€è¼¸å…¥ ssh ä¾†ç¢ºèªæ˜¯å¦å®‰è£å®Œæˆã€‚ ssh usage: ssh [-46AaCfGgKkMNnqsTtVvXxYy] [-B bind_interface] [-b bind_address] [-c cipher_spec] [-D [bind_address:]port] [-E log_file] [-e escape_char] [-F configfile] [-I pkcs11] [-i identity_file] [-J [user@]host[:port]] [-L address] [-l login_name] [-m mac_spec] [-O ctl_cmd] [-o option] [-p port] [-Q query_option] [-R address] [-S ctl_path] [-W host:port] [-w local_tun[:remote_tun]] destination [command] Step 2 â€” ç”¢ç”Ÿ ssh key pairs æ¥è‘—ï¼Œå¯ä»¥ä½¿ç”¨ ssh-keygen æŒ‡ä»¤ç”¢ç”Ÿ key pairsï¼ŒåŠ å¯†æ–¹å¼æœ‰ rsaã€dsaã€ed25519 èˆ‡ ecdsa ï¼Œé è¨­çš„åŠ å¯†æ–¹å¼æ˜¯ rsa ï¼Œè©³ç´°æŒ‡ä»¤ç”¨æ³•å¯ä»¥é€é ssh-keygen --help æŒ‡ä»¤æŸ¥è©¢ï¼Œé€™è£¡æˆ‘å€‘ç”¨æœ€ç°¡å–®çš„ ssh-keygen æŒ‡ä»¤å°±è¡Œã€‚ ssh-keygen Windows çš„ç”¨æˆ¶é è¨­æœƒæŠŠ key pair å„²å­˜åœ¨ C:\\Users\\&lt;USERNAME&gt;\\.ssh\\ çš„ä½ç½®ï¼Œè€Œ Linux çš„ç”¨æˆ¶æœƒå„²å­˜åœ¨ ~/.ssh/ çš„ä½ç½®ã€‚ Generating public/private rsa key pair. Enter file in which to save the key (C:\\Users\\&lt;USERNAME&gt;/.ssh/id_rsa): é€™è£¡æ˜¯è©¢å•ä½ è¦ä¸è¦æŠŠç”¢ç”Ÿçš„ ssh key é‡æ–°å‘½åï¼Œä¸€èˆ¬ä¸æœƒå‹•åˆ°å®ƒçš„åå­—ï¼ŒæŒ‰ Enterâ†©ï¸ï¼Œæ¥çºŒä¸‹ä¸€æ­¥ã€‚ Created directory &#39;C:\\Users\\&lt;USERNAME&gt;/.ssh&#39;. Enter passphrase (empty for no passphrase): Enter same passphrase again: ä¸€æ—¦ä½ è¨­å®šäº† key pairs çš„å¯†ç¢¼ï¼Œä½ æ¯æ¬¡é€£ç·šæ™‚ï¼Œéƒ½è¦å†è¼¸å…¥ä¸€æ¬¡å¯†ç¢¼æ‰èƒ½é€£ç·šã€‚å¦‚æœä¸æƒ³é‚£éº¼éº»ç…©çš„è©±ï¼Œå¯ä»¥æŒ‰ Enterâ†©ï¸ ä¿æŒç•™ç©ºã€‚ Your identification has been saved in C:\\Users\\&lt;USERNAME&gt;/.ssh/id_rsa. Your public key has been saved in C:\\Users\\&lt;USERNAME&gt;/.ssh/id_rsa.pub. The key fingerprint is: SHA256:8NE76AD294Tjze76pEPtvZgqaqw9OuCF7T8HWPo6fUc qaz85@DESKTOP-OH6HA84 The key&#39;s randomart image is: +---[RSA 3072]----+ | | | . | | o . . . | | . + o + . | | o + o S.+ | |.. = . =.E.. | |..o.o ..+.=. | | ..+++.o.=.o. | | o**++.=** .. | +----[SHA256]-----+ ç”¢ç”Ÿå®Œç•¢ï¼Œå„²å­˜åœ¨ C:\\Users\\&lt;USERNAME&gt;\\.ssh\\id_rsa çš„æª”æ¡ˆæ˜¯ private keyï¼Œè€Œå¦ä¸€å€‹ id_rsa.pub çš„æª”æ¡ˆæ˜¯ public keyã€‚ ç•¶ä½ éºå¤±äº†é ç«¯ä¸»æ©Ÿçš„ key pairsï¼Œä½ å†ä¹Ÿä¸èƒ½é€éé ç«¯å­˜å–æœ‰ä½¿ç”¨éè©² key pairs çš„ä¸»æ©Ÿï¼Œåªèƒ½é€éç›´æ¥æ¥è§¸é‚£å°ä¸»æ©Ÿä¾†æ›´æ–°çš„ key pairsã€‚ Step 3 â€” å°‡æ–°å¢çš„ key pairs ä¸Šå‚³è‡³ç›®çš„åœ°ä¸»æ©Ÿ ç•¶ä½ æ“æœ‰äº† å‰ä¸€æ­¥ç”¢ç”Ÿçš„ key pairsï¼Œæ¥ä¸‹ä¾†è¦æŠŠ public key ä¸Šå‚³è‡³è™›æ“¬æ©Ÿå™¨ã€‚å¦å¤– public key çµ¦åˆ¥äººçœ‹åˆ°æ˜¯æ²’å•é¡Œçš„ï¼Œå‰é¢ç¬¬ä¸€ç« çš„ OpenSSHè¨­å®š å°±å·²ç¶“æœ‰å‡ºç¾éæˆ‘çš„ public key äº†ï¼Œpublic key ä¸¦ä¸èƒ½ç”¨ä¾†ç”¢ç”Ÿ private keyï¼Œå®ƒæ˜¯ç”¨ä¾†èªè­‰é€™å€‹ key æ˜¯å¦è·Ÿä½ æ‰€æŒæœ‰çš„ private key ç›¸å‘¼æ‡‰ã€‚ å¦‚æœä½ æ˜¯çš„ç³»çµ±æ˜¯ Linux é‚£æŒ‡ä»¤æœƒç¨å¾®çŸ­ä¸€äº›ï¼Œä¸Šå‚³è‡³é ç«¯é›»è…¦çš„æŒ‡ä»¤å¦‚ä¸‹: ssh-copy-id -i ~/.ssh/id_ed25519.pub -p 22 asis@192.168.0.13 -i: i flag ä»£è¡¨çš„æ˜¯ä½ è¦ä¸Šå‚³çš„ public key æª”æ¡ˆè·¯å¾‘ -p: p flag å‰‡æ˜¯ç›®çš„åœ°ä¸»æ©Ÿçš„ OpenSSH ä¼ºæœå™¨çš„åŸ è™Ÿ id_ed25519.pub ç‚ºæˆ‘ç”¢ç”Ÿçš„å…¶ä»–çš„ key pairï¼Œå¦‚æœä½ å‰é¢æ˜¯ç…§è‘—æˆ‘çš„æ­¥é©Ÿç”¢ç”Ÿï¼Œé€™è£¡æ‡‰è©²æ”¹ç‚º id_rsa.pub é€™è£¡çš„ asis ç‚ºç¬¬ä¸€ç« çš„ä½¿ç”¨è€…è¨­å®šçš„é è¨­ä½¿ç”¨è€… 192.168.0.13 ç‚ºæˆ‘è™›æ“¬ä¸»æ©Ÿçš„ ip ä½å€ï¼ŒæŸ¥è©¢ ip ä½å€å¯ä»¥å…ˆæ‰‹å‹•ç™»å…¥è™›æ“¬ä¸»æ©Ÿå¾Œï¼Œç”¨ hostname -I æˆ–æ˜¯ ip addr show æŒ‡ä»¤æŸ¥è©¢ å®Œæˆå¾Œæœƒæç¤ºä½ å·²ç¶“å¯ä»¥ä½¿ç”¨ ssh é€£ç·š /usr/bin/ssh-copy-id: INFO: Source of key(s) to be installed: &quot;/home/kuaz/.ssh/id_ed25519.pub&quot; /usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed /usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys Number of key(s) added: 1 Now try logging into the machine, with: &quot;ssh -p &#39;22&#39; &#39;asis@192.168.0.13&#39;&quot; and check to make sure that only the key(s) you wanted were added. å¦‚æœä½ æ˜¯ Windows çš„ä½¿ç”¨è€…ä¹Ÿä¸ç”¨æ“”å¿ƒå¤šè¤‡é›œï¼Œä¸€æ¨£ä¸€è¡ŒæŒ‡ä»¤å°±èƒ½æå®šï¼Œé€™è£¡æˆ‘æ˜¯åƒè€ƒ(Christopher 2020)çš„æ•™å­¸ï¼ŒæŒ‡ä»¤å¦‚ä¸‹: cat $env:USERPROFILE\\.ssh\\id_rsa.pub | ssh asis@192.168.0.13 &quot;cat &gt;&gt; ~/.ssh/authorized_keys&quot; é€™è£¡çš„ $env:USERPROFILE ç‚º Windows å…§å»ºç’°å¢ƒè®Šæ•¸ï¼Œæœƒæ ¹æ“šç¾åœ¨çš„ä½¿ç”¨è€…è®Šæ›´ï¼Œå¦‚æœæˆ‘çš„ä½¿ç”¨è€…åç¨±ç‚º qaz855175b é‚£ $env:USERPROFILE å°æ‡‰çš„è·¯å¾‘å°±ç‚º C:\\Users\\qaz855175b\\ï¼Œç•¶ç„¶ä½ å¯ä»¥ç›´æ¥æŠŠæŒ‡ä»¤çš„ public key è·¯å¾‘æ›¿æ›ç‚º C:\\Users\\qaz855175b\\.ssh\\id_rsa.pub id_rsa.pub ç‚ºç”¢ç”Ÿçš„ public key é è¨­åç¨± é€™è£¡çš„ asis ç‚ºç¬¬ä¸€ç« çš„ä½¿ç”¨è€…è¨­å®šçš„é è¨­ä½¿ç”¨è€… 192.168.0.13 ç‚ºæˆ‘è™›æ“¬ä¸»æ©Ÿçš„ ip ä½å€ï¼ŒæŸ¥è©¢ ip ä½å€å¯ä»¥å…ˆæ‰‹å‹•ç™»å…¥è™›æ“¬ä¸»æ©Ÿå¾Œï¼Œç”¨ hostname -I æˆ–æ˜¯ ip addr show æŒ‡ä»¤æŸ¥è©¢ å…¶å¯¦ Linux çš„ ssh-copy-idã€å’Œç¬¬ä¸€ç« çš„å¾ Github åŒ¯å…¥ public key ssh-import-id-gh èˆ‡é€™è£¡çš„ cat file &gt;&gt; ~/.ssh/authorized_keys éƒ½æ˜¯åœ¨åšåŒä¸€ä»¶äº‹æƒ…ï¼ŒæŠŠ public key è²¼åˆ°é ç«¯ä¼ºæœå™¨çš„ä½¿ç”¨è€…çš„ authorized_keys æª”æ¡ˆè£¡é¢ã€‚ æ¥è‘—æŒ‰ Enterâ†©ï¸ï¼Œè·³å‡ºè¼¸å…¥å¯†ç¢¼æç¤ºï¼Œé€™è£¡è¼¸å…¥é è¨­çš„ä½¿ç”¨è€…å¯†ç¢¼ asis asis@192.168.0.13&#39;s password: è¼¸å…¥å®Œå¾Œé›–ç„¶æ²’æœ‰ä»»ä½•æç¤ºè¨Šæ¯ï¼Œä½†å…¶å¯¦å·²ç¶“å¯ä»¥ä½¿ç”¨ ssh é€£ç·šè‡³é ç«¯ä¸»æ©Ÿå•¦~ Step 4 â€” æ¸¬è©¦ SSH é€£ç·šï¼Œä½¿ç”¨ SSH é€£ç·šè‡³é ç«¯ä¸»æ©Ÿ æœ€å¾Œï¼Œä½¿ç”¨ ssh æŒ‡ä»¤é€£æ¥è‡³é ç«¯ä¸»æ©Ÿã€‚ ä½¿ç”¨ OpenSSH Client ç”¢ç”Ÿçš„ pair keys å¯ä»¥ç›´æ¥ä½¿ç”¨é€™å€‹æ–¹æ³•é€£ç·šã€‚é€™è£¡ä»‹ç´¹å¹¾å€‹å¸¸å¸¸èˆ‡ ssh ä¸€èµ·å‡ºç¾çš„ flag : -v: verbose; é¡¯ç¤ºé€£æ¥æ™‚æ›´è©³ç´°çš„è¨Šæ¯ï¼Œdebugæ™‚å¸¸ç”¨ -p: port; é ç«¯ä¼ºæœå™¨çš„åŸ è™Ÿ -i: æ‰‹å‹•æŒ‡å®š private key ä½å€ flag é€šå¸¸æœƒåœ¨æŒ‡ä»¤å¾Œé¢éš¨å¾Œå‡ºç¾ï¼Œflagå‰é¢æœƒæ’å…¥ -ï¼Œè€Œ flag å¾Œé¢æœ‰æ™‚æœƒéœ€è¦åŠ å…¥è©³ç´°çš„è¨­å®šï¼Œæœ‰æ™‚ä¸ç”¨ã€‚flag èˆ‡ flag ä¹‹é–“ç”¨ç©ºæ ¼éš”é–‹ï¼Œè©³ç´°æŒ‡ä»¤çš„ä½¿ç”¨æ–¹æ³•å¯ä»¥åœ¨ Linux ç³»çµ±ç”¨ man &lt;æŒ‡ä»¤åç¨±&gt; æŸ¥è©¢ å‡å¦‚æˆ‘å€‘è¦çœ‹é€£ç·šçš„è©³ç´°è¨Šæ¯ï¼Œä¸”æŒ‡å®šä¼ºæœå™¨ port ç‚º 60000èˆ‡æŒ‡å®š private key æª”æ¡ˆä½å€ç­‰ç­‰ï¼Œçµ„åˆèµ·ä¾†å°±æ˜¯: ssh -v -p 60000 -i ~/.ssh/id_rsa asis@192.168.0.13 ç›®å‰ä¸éœ€è¦åŠ ä¸Šä»»ä½• flagï¼Œé€£ç·šæŒ‡ä»¤ç‚º: ssh asis@192.168.0.13 ä¸€æ¨£åœ°ï¼Œasis æ˜¯ä½¿ç”¨è€…åç¨±ï¼Œè€Œ192.168.0.13 æ˜¯ OpenSSH ä¼ºæœå™¨çš„ ip ä½ç½®ï¼Œè¼¸å…¥å®Œå¾ŒæŒ‰ Enterâ†©ï¸ é€™é‚Šæ‰“ yes å³å¯ï¼Œç¢ºèªé€£æ¥ç›®çš„åœ°æ²’æœ‰éŒ¯ä¹‹å¾Œï¼ŒæœƒæŠŠ fingerprint å¯«å…¥ ~/.ssh/known_hosts ä¸­ï¼Œä»¥å¾Œä¸å†è©¢å•ã€‚ The authenticity of host &#39;192.168.0.13 (192.168.0.13)&#39; can&#39;t be established. ECDSA key fingerprint is SHA256:/HoocrLXe63zycdlmkh/+U3RuUfkawNq/xA0gTJmqmM. Are you sure you want to continue connecting (yes/no/[fingerprint])? é€™è£¡ä¸ç”¨æŒ‡å®š private key çš„åŸå› æ˜¯å› ç‚ºï¼Œç•¶ä½ ç”¨ ssh é€£ç·šè‡³ç›®çš„åœ°ä¼ºæœå™¨ä¸”ä½ æ²’æœ‰æŒ‡å®š Identity File (private key) æ™‚ï¼Œssh æœƒä¸€å€‹ key ä¸€å€‹ key æ‹¿å»å•ä¼ºæœå™¨é€™å€‹ key å¯ä¸å¯ä»¥ä½¿ç”¨ã€‚ é€£æ¥æˆåŠŸ! æ¸¬è©¦å®Œç¢ºèªæ²’å•é¡Œå°±å¯ä»¥æŠŠè™›æ“¬æ©Ÿæ™¾åœ¨ä¸€æ—äº†~ Step 5 â€” ä½¿é ç«¯çš„ OpenSSH ä¼ºæœå™¨æ›´åŠ å®‰å…¨ è®Šæ›´ SSH ä¼ºæœå™¨é è¨­çš„åŸ è™Ÿ sudo vi /etc/ssh/sshd_config å°‡ #Port 22 å–æ¶ˆè¨»è§£ï¼Œä¸¦æŠŠ 22 æ”¹æˆå…¶ä»–ä»‹æ–¼ 1-65535 ä¹‹é–“çš„æ•¸å­—ã€‚ # $OpenBSD: sshd_config,v 1.103 2018/04/09 20:41:22 tj Exp $ # This is the sshd server system-wide configuration file. See # sshd_config(5) for more information. # This sshd was compiled with PATH=/usr/bin:/bin:/usr/sbin:/sbin # The strategy used for options in the default sshd_config shipped with # OpenSSH is to specify options with their default value where # possible, but leave them commented. Uncommented options override the # default value. Include /etc/ssh/sshd_config.d/*.conf Port 60000 #AddressFamily any #ListenAddress 0.0.0.0 #ListenAddress :: é—œé–‰å¯†ç¢¼é©—è­‰ å°‡ PasswordAuthentication (ä»¥å¯†ç¢¼é©—è­‰) è¨­ç‚º noã€‚ä½¿ç”¨ SSH é€£ç·šæ™‚ï¼Œå¦‚æœæ²’æœ‰æŒ‡å®š SSH key pairï¼Œå¦‚æœ OpenSSH ä¼ºæœå™¨çš„è¨­å®šæ²’æœ‰é—œé–‰ï¼Œæ¥è‘—æœƒè¦æ±‚ä½ è¼¸å…¥ä½¿ç”¨è€…å¯†ç¢¼ä»¥å¯†ç¢¼é©—è­‰ã€‚é€šå¸¸é€™å€‹è¨­å®šæœƒé–‹å•Ÿæ˜¯å› ç‚ºè¦è¤‡è£½ ssh çš„ public keyã€‚ PasswordAuthentication no ç•¶ç„¶å¦‚æœå¯†ç¢¼é©—è­‰ç‚º noï¼Œä¸”åŒæ™‚éºå¤± SSH çš„ pair key æ™‚ï¼Œä½ å°±ç„¡æ³•ä»¥ SSH é€£ç·šè‡³é ç«¯ä¸»æ©Ÿã€‚ é—œé–‰é ç«¯ root ç™»å…¥ PermitRootLogin no é™åˆ¶èƒ½ä½¿ç”¨ SSH é€£ç·šçš„ä½¿ç”¨è€… AllowUsers asis é—œé–‰ç„¡å¯†ç¢¼çš„ä½¿ç”¨è€…ä½¿ç”¨ SSH PermitEmptyPasswords no æ¸¬è©¦ sshd_config æ˜¯å¦æœ‰æ•ˆ sudo sshd -t sudo systemctl restart sshd â— ssh.service - OpenBSD Secure Shell server Loaded: loaded (/lib/systemd/system/ssh.service; enabled; vendor preset: enabled) Active: active (running) since Sun 2021-08-15 16:08:55 UTC; 19h ago Docs: man:sshd(8) man:sshd_config(5) Process: 850 ExecStartPre=/usr/sbin/sshd -t (code=exited, status=0/SUCCESS) Main PID: 893 (sshd) Tasks: 1 (limit: 4617) Memory: 5.4M CGroup: /system.slice/ssh.service â””â”€893 sshd: /usr/sbin/sshd -D [listener] 0 of 10-100 startups Aug 15 16:08:54 asis01 systemd[1]: Starting OpenBSD Secure Shell server... Aug 15 16:08:55 asis01 sshd[893]: Server listening on 0.0.0.0 port 60000. Aug 15 16:08:55 asis01 sshd[893]: Server listening on :: port 60000. Aug 15 16:08:55 asis01 systemd[1]: Started OpenBSD Secure Shell server. ç”¨æŒ‡ä»¤ exit æ–·é–‹é€£ç·šï¼Œå†é‡æ–°æ¸¬è©¦ ssh é ç«¯é€£ç·šè‡³ä¼ºæœå™¨ï¼Œ ssh -p 60000 asis@192.168.0.13 Welcome to Ubuntu 20.04.2 LTS (GNU/Linux 5.4.0-81-generic x86_64) * Documentation: https://help.ubuntu.com * Management: https://landscape.canonical.com * Support: https://ubuntu.com/advantage System information as of Mon 16 Aug 2021 12:32:20 PM UTC System load: 0.0 Usage of /: 0.7% of 974.32GB Memory usage: 5% Swap usage: 0% Processes: 124 Users logged in: 0 IPv4 address for enp0s3: 192.168.0.13 IPv6 address for enp0s3: fd00:1cab:c0bb:acc2:a00:27ff:fed3:8136 * Super-optimized for small spaces - read how we shrank the memory footprint of MicroK8s to make it the smallest full K8s around. https://ubuntu.com/blog/microk8s-memory-optimisation 0 updates can be applied immediately. Last login: Mon Aug 16 12:31:35 2021 from 192.168.0.11 é€£ç·šæˆåŠŸ~ åƒè€ƒè³‡æ–™ "],["apt.html", "2.3 APT", " 2.3 APT åœ¨ Ubuntu ä¸Šå®‰è£ä»»ä½•ç¨‹å¼å¤§å¤šéƒ½æ˜¯ç”¨ APT (Advanced Packaging Tools) å®‰è£ï¼Œé€™è£¡æœ‰å…©å€‹æŒ‡ä»¤ï¼Œç”¨ &amp;&amp; ä¸²æ¥åœ¨ä¸€èµ·: sudo apt update &amp;&amp; sudo apt upgrade -y apt update: æ›´æ–°å¯å®‰è£çš„å¥—ä»¶åˆ—è¡¨æˆ–ç‰ˆæœ¬ apt upgrade: å®‰è£ç¨‹å¼ &amp;&amp;: &amp;&amp; ä¹‹å‰çš„æŒ‡ä»¤åŸ·è¡ŒæˆåŠŸæ‰æœƒæ¥çºŒåŸ·è¡Œ &amp;&amp; å¾Œé¢çš„æŒ‡ä»¤ -y, --yes, --assume-yes: è‡ªå‹•å°å®‰è£æç¤ºå›ç­” yesï¼Œå®‰è£æ™‚æœƒæç¤ºæ˜¯å¦ç¢ºèªè¦å®‰è£è©²è»Ÿé«”ï¼Œå› ç‚ºæˆ‘å€‘æ¸…æ¥šè‡ªå·±åœ¨åšä»€éº¼ç‚ºäº†æ–¹ä¾¿è€ŒæŠŠæç¤ºé—œæ‰ "],["ufw.html", "2.4 UFW", " 2.4 UFW UFW (Uncomplicated Firewall) æ˜¯é è¨­åœ¨ Ubuntu ç³»çµ±ä¸Šçš„é˜²ç«ç‰†ï¼Œé€™è£¡å…ˆç‚ºäº† OpenSSH ä¼ºæœå™¨è€Œæ‰“é–‹åŸ è™Ÿ 60000ã€‚ é¦–å…ˆç”¨ status æŸ¥è©¢ UFW çš„ç‹€æ…‹ï¼Œé€™è£¡éœ€è¦è¼¸å…¥è¶…ç´šä½¿ç”¨è€… (sudo) çš„å¯†ç¢¼ã€‚ sudo ufw status çœ‹ä¾†é è¨­çš„ UFW æ˜¯é—œé–‰çš„ Status: inactive æ¥è‘—ç”¨ systemctl æ‰“é–‹é˜²ç«ç‰† sudo systemctl enable ufw æŸ¥è©¢é˜²ç«ç‰†ç‹€æ…‹ sudo ufw status Status: active å…è¨±åŸ è™Ÿ 60000 å¾ä»»ä½•åœ°æ–¹é€£å…¥ sudo ufw allow 60000 æŸ¥è©¢é˜²ç«ç‰†ç‹€æ…‹ sudo ufw status ç›®å‰åªæœ‰å…©æ¢è¦å‰‡ï¼Œåˆ†åˆ¥æ˜¯ å¾ä»»ä½•åœ°æ–¹é€£å…¥åŸ è™Ÿ 60000 èˆ‡ ipv6 å¾ä»»ä½•åœ°æ–¹é€£å…¥åŸ è™Ÿ 60000 Status: active To Action From -- ------ ---- 60000 ALLOW Anywhere 60000 (v6) ALLOW Anywhere (v6) "],["bat-å¯é¸.html", "2.5 Bat ï¼ˆå¯é¸ï¼‰", " 2.5 Bat ï¼ˆå¯é¸ï¼‰ å¦ä¸€å€‹ç‰ˆæœ¬çš„ cat ï¼Œé‚„æœ‰èˆ‡ Git æ•´åˆã€‚ "],["exa-å¯é¸.html", "2.6 exa ï¼ˆå¯é¸ï¼‰", " 2.6 exa ï¼ˆå¯é¸ï¼‰ ls æ›´å¥½çš„ç‰ˆæœ¬ã€‚ "],["lamp.html", "Chapter 3 LAMP", " Chapter 3 LAMP LAMP æ˜¯ç”± 4 å€‹å–®å­—é–‹é ­çš„å­—çµ„æˆçš„è©ã€‚ LAMP è®“ä½ å¯ä»¥åœ¨ä¸€å°ç³»çµ±ç‚º Linux çš„é›»è…¦ä¸Šï¼Œç”¨ Apache æ¶è¨­ç¶²ç«™ä¼ºæœå™¨ï¼Œå…¶ä¸­å„²å­˜åœ¨ MySQL è£¡é¢ï¼Œæœ€å¾Œç”¨ PHP åŸ·è¡Œå‹•æ…‹çš„ç¶²ç«™ã€‚ é€™ç« æœƒæ•™ä½ æ€éº¼å®‰è£ LAMP ç¨‹å¼é›†ã€‚ "],["äº‹å‰æº–å‚™-2.html", "3.1 äº‹å‰æº–å‚™", " 3.1 äº‹å‰æº–å‚™ åœ¨å®‰è£è»Ÿé«”ä¹‹å‰ï¼Œä½ éœ€è¦æœ‰ä¸€å€‹å¯ä»¥åŸ·è¡Œ sudo æŒ‡ä»¤çš„ä½¿ç”¨è€…ã€‚ å¦‚æœä½ æ˜¯ç…§è‘—å…ˆå‰çš„æ•™å­¸åšçš„è©±ï¼Œé€™å€‹ä½¿ç”¨è€…ç‚ºå®‰è£æ™‚çš„é è¨­ä½¿ç”¨è€… asisã€‚ "],["apache.html", "3.2 Apache", " 3.2 Apache 3.2.1 Step 1 â€” å®‰è£ Apache å¾ä¾†æºæ›´æ–°å¥—ä»¶è³‡æ–™ï¼š sudo apt update ç¢ºèªæ˜¯å¦æ˜¯æˆ‘å€‘è¦å®‰è£çš„ Apache2 sudo apt info apache2 Package: apache2 Version: 2.4.41-4ubuntu3.4 Priority: optional Section: web Origin: Ubuntu Maintainer: Ubuntu Developers &lt;ubuntu-devel-discuss@lists.ubuntu.com&gt; Original-Maintainer: Debian Apache Maintainers &lt;debian-apache@lists.debian.org&gt; Bugs: https://bugs.launchpad.net/ubuntu/+filebug Installed-Size: 542 kB Provides: httpd, httpd-cgi Pre-Depends: dpkg (&gt;= 1.17.14) Depends: apache2-bin (= 2.4.41-4ubuntu3.4), apache2-data (= 2.4.41-4ubuntu3.4), apache2-utils (= 2.4.41-4ubuntu3.4), lsb-base, mime-support, perl:any, procps Recommends: ssl-cert Suggests: apache2-doc, apache2-suexec-pristine | apache2-suexec-custom, www-browser, ufw Conflicts: apache2.2-bin, apache2.2-common Breaks: libapache2-mod-proxy-uwsgi (&lt;&lt; 2.4.33) Replaces: apache2.2-bin, apache2.2-common, libapache2-mod-proxy-uwsgi (&lt;&lt; 2.4.33) Homepage: https://httpd.apache.org/ Task: lamp-server Download-Size: 95.5 kB APT-Sources: http://tw.archive.ubuntu.com/ubuntu focal-updates/main amd64 Packages Description: Apache HTTP Server The Apache HTTP Server Project&#39;s goal is to build a secure, efficient and extensible HTTP server as standards-compliant open source software. The result has long been the number one web server on the Internet. . Installing this package results in a full installation, including the configuration files, init scripts and support scripts. å®‰è£ Apache2 sudo apt install apache2 Reading package lists... Done Building dependency tree Reading state information... Done The following additional packages will be installed: apache2-bin apache2-data apache2-utils libapr1 libaprutil1 libaprutil1-dbd-sqlite3 libaprutil1-ldap libjansson4 liblua5.2-0 ssl-cert Suggested packages: apache2-doc apache2-suexec-pristine | apache2-suexec-custom www-browser openssl-blacklist The following NEW packages will be installed: apache2 apache2-bin apache2-data apache2-utils libapr1 libaprutil1 libaprutil1-dbd-sqlite3 libaprutil1-ldap libjansson4 liblua5.2-0 ssl-cert 0 upgraded, 11 newly installed, 0 to remove and 0 not upgraded. Need to get 1,865 kB of archives. After this operation, 8,083 kB of additional disk space will be used. Do you want to continue? [Y/n] ä¹Ÿå¯ä»¥åœ¨å®‰è£æ™‚åŠ ä¸Š --yes ç•¥éç¢ºèªå®‰è£æç¤ºã€‚ sudo apt install apache2 --yes 3.2.2 Step 2 â€” èª¿æ•´é˜²ç«ç‰† ufw è¨­å®š æœ‰äº›ç¨‹å¼æœƒè‡ªå‹•æŠŠè¨­å®šæª”åŠ å…¥ ufw ä¸­ï¼Œé€™æ¨£å°±å¯ä»¥é€éè¨­å®šæª”å•Ÿç”¨/é—œé–‰è¨­å®šé˜²ç«ç‰†å…è¨±çš„åŸ è™Ÿï¼Œä¸ç”¨å†ç‰¹åˆ¥è¨˜ä¸‹è©²è»Ÿé«”çš„è¨­å®šã€‚ å¯ä»¥é€éæŒ‡ä»¤é¡¯ç¤ºæœ‰ä»€éº¼å¯ç”¨çš„æ‡‰ç”¨ç¨‹å¼è¨­å®šæª”ã€‚ sudo ufw app list ä¸‹åˆ—æ˜¯ç›®å‰å¯ç”¨çš„è¨­å®šæª”ï¼š Available applications: Apache Apache Full Apache Secure OpenSSH Apacheï¼šæœƒåœ¨é˜²ç«ç‰†æ–°å¢ä¸€å€‹å…è¨±å¾ä»»ä½•åœ°æ–¹é€£ç·šè‡³åŸ è™Ÿ 80 çš„è¦å‰‡ã€‚ Apache Fullï¼šæœƒåœ¨é˜²ç«ç‰†æ–°å¢ä¸€å€‹å…è¨±å¾ä»»ä½•åœ°æ–¹é€£ç·šè‡³åŸ è™Ÿ 80 èˆ‡åŸ è™Ÿ 443 çš„è¦å‰‡ã€‚ Apache Secureï¼šåœ¨é˜²ç«ç‰†æ–°å¢ä¸€å€‹å…è¨±å¾ä»»ä½•åœ°æ–¹é€£ç·šè‡³åŸ è™Ÿ 443 çš„è¦å‰‡ã€‚ ä½¿ç”¨æ–¹å¼å¾ˆç°¡å–®ï¼Œè·Ÿå…è¨±åŸ è™Ÿæ™‚çš„æŒ‡ä»¤ä¸€æ¨£ï¼ŒæŠŠåŸ è™Ÿæ”¹æˆè¨­å®šæª”åç¨±å³å¯ã€‚ sudo ufw allow &quot;Apache&quot; Rule added Rule added (v6) ç¢ºèªå‰›æ‰æœ‰æ²’æœ‰æ–°å¢æˆåŠŸï¼š sudo ufw status Status: active To Action From -- ------ ---- 60000 ALLOW Anywhere Apache ALLOW Anywhere 60000 (v6) ALLOW Anywhere (v6) Apache (v6) ALLOW Anywhere (v6) æ¥è‘—å¯ä»¥é€éç€è¦½å™¨é€£ç·šåˆ°ä¸‹åˆ—ç¶²å€ï¼š http://&lt;è™›æ“¬ä¸»æ©Ÿçš„ ip åœ°å€&gt;/ å¿˜è¨˜æ€éº¼æ‰¾ ip å¯ä»¥ç”¨ä¸‹åˆ—ä¸‰ç¨®æ–¹æ³•æ‰¾åˆ°ï¼š ip show addr 1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 inet 127.0.0.1/8 scope host lo valid_lft forever preferred_lft forever inet6 ::1/128 scope host valid_lft forever preferred_lft forever 2: enp0s3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000 link/ether 08:00:27:59:13:f9 brd ff:ff:ff:ff:ff:ff inet 192.168.0.14/24 brd 192.168.0.255 scope global dynamic enp0s3 valid_lft 315329303sec preferred_lft 315329303sec inet6 fd00:1cab:c0bb:acc2:a00:27ff:fe59:13f9/64 scope global dynamic mngtmpaddr noprefixroute valid_lft 535427sec preferred_lft 401570sec inet6 fe80::a00:27ff:fe59:13f9/64 scope link valid_lft forever preferred_lft forever hostname -I 192.168.0.14 fd00:1cab:c0bb:acc2:a00:27ff:fe59:13f9 curl ifconfig.me XXX.XXX.XXX.XXX æ³¨æ„ï¼šé€™æ˜¯å°å¾ä½ çš„å€åŸŸç¶²è·¯é€£ç·šåˆ°å°å¤–çš„ç¶²è·¯ ipï¼Œå¦‚æœä½ ä¸çŸ¥é“æ˜¯ä»€éº¼ï¼Œç”¨æ–¹æ³• 1 è·Ÿ 2 ä»£æ›¿ã€‚ "],["mysql.html", "3.3 MySQL", " 3.3 MySQL 3.3.1 Step 1 â€” å®‰è£ MySQL é€é Apt å®‰è£ MySQLï¼š sudo apt install mysql-server -y 3.3.2 Step 2 â€” è¨­å®š MySQL æŒ‡ä»¤ mysql_secure_installation æœƒåšä»¥ä¸‹å¹¾ä»¶äº‹ï¼ˆè©³ç´°çš„èªªæ˜å¯ä»¥åœ¨é€™è£¡æ‰¾åˆ°ï¼‰ï¼š ä½ å¯ä»¥è¨­å®š root å¸³è™Ÿçš„å¯†ç¢¼ã€‚ ä½ å¯ä»¥ç§»é™¤ root å¸³è™Ÿé è¨­å¯ä»¥å¾ä»»ä½•åœ°æ–¹é€£ç·šè‡³æœ¬æ©Ÿçš„è¨­å®šã€‚ ä½ å¯ä»¥ç§»é™¤æ²’æœ‰åç¨±çš„åŒ¿åå¸³è™Ÿï¼ˆanonymous-userï¼‰è©³ç´°èªªæ˜å¯ä»¥å¾é€™è£¡æ‰¾åˆ°ã€‚ ä½ å¯ä»¥ç§»é™¤é è¨­çš„ test è³‡æ–™åº«ï¼ˆé€™å€‹è³‡æ–™åº«ä»»ä½•äººéƒ½å¯ä»¥å­˜å–ï¼Œç”šè‡³æ˜¯åŒ¿åå¸³è™Ÿï¼‰ï¼Œå’Œä»»ä½•ä½¿ç”¨è€…åç¨±æ˜¯ test_ é–‹é ­çš„ä½¿ç”¨è€…å¸³è™Ÿå¯ä»¥å­˜å–ä»»ä½•è³‡æ–™åº«çš„æ¬Šé™ã€‚ sudo mysql_secure_installation å»ºè­°é€™è£¡é¸ Noã€‚å¦‚æœé€™è£¡é¸äº† Yesï¼Œé‚£ä¹‹å¾Œåªè¦æ˜¯å‰µå»ºä½¿ç”¨è€…éƒ½æœƒè¦æ±‚ä½ ä½¿ç”¨å¯†ç¢¼å¼·åº¦å¾ˆé«˜çš„å¯†ç¢¼ã€‚ Securing the MySQL server deployment. Connecting to MySQL using a blank password. VALIDATE PASSWORD COMPONENT can be used to test passwords and improve security. It checks the strength of password and allows the users to set only those passwords which are secure enough. Would you like to setup VALIDATE PASSWORD component? Press y|Y for Yes, any other key for No: No è¨­å®š root å¯†ç¢¼ï¼Œé€™è£¡é¸ Yes Change the password for root ? ((Press y|Y for Yes, any other key for No) : Yes å¦‚æœé€™è£¡é¸äº† Yesï¼Œé‚£ MySQL æ¥ä¸‹ä¾†æœƒè¦æ±‚ä½ è¼¸å…¥å¯†ç¢¼å¼·åº¦è¼ƒé«˜çš„å¯†ç¢¼ã€‚ é€™å€‹éšæ®µæ˜¯å•ä½ è¦ä¸è¦åˆªé™¤åŒ¿åå¸³è™Ÿï¼Œé€™è£é¸æ“‡ Yes By default, a MySQL installation has an anonymous user, allowing anyone to log into MySQL without having to have a user account created for them. This is intended only for testing, and to make the installation go a bit smoother. You should remove them before moving into a production environment. Remove anonymous users? (Press y|Y for Yes, any other key for No) : Y é€™è£æ˜¯å•ä½ è¦ä¸è¦è®“ root å¸³è™Ÿå¯ä»¥å¾ä»»ä½•åœ°æ–¹é€£å…¥ï¼Œé€™è£¡ç•¶ç„¶æ˜¯é¸ No Normally, root should only be allowed to connect from &#39;localhost&#39;. This ensures that someone cannot guess at the root password from the network. Disallow root login remotely? (Press y|Y for Yes, any other key for No) : Y - Dropping test database... Success. - Removing privileges on test database... Success. Reloading the privilege tables will ensure that all changes made so far will take effect immediately. Reload privilege tables now? (Press y|Y for Yes, any other key for No) : Y Success. All done! æ¸¬è©¦ MySQL é€£ç·šï¼š {.bash prefixed} mysql -u root -p "],["php.html", "3.4 PHP", " 3.4 PHP 3.4.1 Step 1 â€” å®‰è£ php &amp; php-mysql æ’ä»¶ å…ˆç¢ºèª php æ˜¯ä¸æ˜¯æˆ‘å€‘è¦å®‰è£çš„ç‰ˆæœ¬ sudo apt info php å¯ä»¥çœ‹åˆ°ï¼Œç›®å‰ php çš„ä¾è³´å¥—ä»¶æ˜¯ php7.4ï¼Œä»£è¡¨å°‡å®‰è£çš„ç‰ˆæœ¬ç‚º php7.4 Package: php Version: 2:7.4+75 Priority: optional Section: php Source: php-defaults (75) Origin: Ubuntu Maintainer: Ubuntu Developers &lt;ubuntu-devel-discuss@lists.ubuntu.com&gt; Original-Maintainer: Debian PHP Maintainers &lt;team+pkg-php@tracker.debian.org&gt; Bugs: https://bugs.launchpad.net/ubuntu/+filebug Installed-Size: 13.3 kB Depends: php7.4 Download-Size: 2,712 B APT-Sources: http://tw.archive.ubuntu.com/ubuntu focal/main amd64 Packages Description: server-side, HTML-embedded scripting language (default) PHP (recursive acronym for PHP: Hypertext Preprocessor) is a widely-used open source general-purpose scripting language that is especially suited for web development and can be embedded into HTML. . This package is a dependency package, which depends on latest stable PHP version (currently 7.4). æ¥è‘—ï¼Œæˆ‘å€‘å†æŸ¥è©¢ä¸€æ¬¡ php7.4 æœƒå®‰è£ä»€éº¼æ±è¥¿ sudo apt info php7.4 é€™è£¡å¯ä»¥çœ‹åˆ° php7.4 å®‰è£äº†æœƒå®‰è£ä¸€äº›ä½¿ php7.4 é †åˆ©é‹ä½œçš„ä¾è³´å¥—ä»¶ï¼Œåƒæ˜¯ libapache2-mod-php7.4ã€php7.4-fpmã€php7.4-cgi èˆ‡ php7.4-common Package: php7.4 Version: 7.4.3-4ubuntu2.5 Priority: optional Section: php Origin: Ubuntu Maintainer: Ubuntu Developers &lt;ubuntu-devel-discuss@lists.ubuntu.com&gt; Original-Maintainer: Debian PHP Maintainers &lt;team+pkg-php@tracker.debian.org&gt; Bugs: https://bugs.launchpad.net/ubuntu/+filebug Installed-Size: 73.7 kB Provides: php Depends: libapache2-mod-php7.4 | php7.4-fpm | php7.4-cgi, php7.4-common Homepage: http://www.php.net/ Download-Size: 9,244 B APT-Sources: http://tw.archive.ubuntu.com/ubuntu focal-updates/main amd64 Packages Description: server-side, HTML-embedded scripting language (metapackage) This package is a metapackage that, when installed, guarantees that you have at least one of the four server-side versions of the PHP interpreter installed. Removing this package won&#39;t remove PHP from your system, however it may remove other packages that depend on this one. . PHP (recursive acronym for PHP: Hypertext Preprocessor) is a widely-used open source general-purpose scripting language that is especially suited for web development and can be embedded into HTML. ä¸€æ¨£åœ°ï¼Œé€™è£¡ä¹Ÿç”¨ç›¸åŒçš„æŒ‡ä»¤æŸ¥è©¢ php-mysql å¥—ä»¶ sudo apt info php-mysql å› ç‚º php å·²ç¶“æœ‰ php-common ä¾è³´çš„ï¼Œæ‰€ä»¥å¾…æœƒå…©å€‹å¥—ä»¶ä¸€èµ·å®‰è£æ™‚ï¼Œåªæœƒå®‰è£ä¸€å€‹ php-common Package: php-mysql Version: 2:7.4+75 Priority: optional Section: php Source: php-defaults (75) Origin: Ubuntu Maintainer: Ubuntu Developers &lt;ubuntu-devel-discuss@lists.ubuntu.com&gt; Original-Maintainer: Debian PHP Maintainers &lt;team+pkg-php@tracker.debian.org&gt; Bugs: https://bugs.launchpad.net/ubuntu/+filebug Installed-Size: 13.3 kB Depends: php-common, php7.4-mysql Task: lamp-server Download-Size: 2,000 B APT-Sources: http://tw.archive.ubuntu.com/ubuntu focal/main amd64 Packages Description: MySQL module for PHP [default] This package provides a MySQL module for PHP. . PHP (recursive acronym for PHP: Hypertext Preprocessor) is a widely-used open source general-purpose scripting language that is especially suited for web development and can be embedded into HTML. . This package is a dependency package, which depends on Debian&#39;s default PHP version (currently 7.4). ç¢ºèªå®Œæˆ‘å€‘è¦å®‰è£çš„ç‰ˆæœ¬æ˜¯å¦æ­£ç¢ºå¾Œï¼Œç”¨å¥—ä»¶ç®¡ç†ç¨‹å¼ apt å®‰è£å¥—ä»¶ã€‚ sudo apt install php php-mysql --yes ç¢ºèª php æ˜¯å¦å®‰è£å®Œæˆï¼Œå¯ä»¥ç”¨ which æŒ‡ä»¤ç¢ºèªï¼š which php ç•¶ç³»çµ±ä¸­æœ‰å®‰è£è¤‡æ•¸å€‹ç‰ˆæœ¬çš„ php æ™‚ï¼Œå®‰è£çš„ä½ç½®å¯èƒ½æœƒæœ‰æ‰€ä¸åŒï¼Œé€™åœ¨ç¬¬ 5 ç« ï¼Œå®‰è£ python æ™‚æœƒé‡åˆ°ã€‚ /usr/bin/php ç¢ºèª php å®‰è£ç‰ˆæœ¬ï¼š php --version PHP 7.4.3 (cli) (built: Jul 5 2021 15:13:35) ( NTS ) Copyright (c) The PHP Group Zend Engine v3.4.0, Copyright (c) Zend Technologies with Zend OPcache v7.4.3, Copyright (c), by Zend Technologies 3.4.2 Step 2 â€” å»ºç«‹è™›æ“¬ç¶²ç«™ï¼ˆVirtualHostï¼‰ æ–¼ apache2 çš„è¨­å®šè³‡æ–™å¤¾ä¸­ï¼Œæ–°å»ºä¸€å€‹å«åš asis.conf çš„è¨­å®šæª”ï¼š sudo vim /etc/apache2/sites-available/asis.conf å¯«å…¥æ¸¬è©¦ç”¨çš„è¨­å®š &lt;VirtualHost *:80&gt; ServerAdmin webmaster@localhost DocumentRoot /var/www/asis ErrorLog ${APACHE_LOG_DIR}/error.log CustomLog ${APACHE_LOG_DIR}/access.log combined &lt;/VirtualHost&gt; é€é list æŒ‡ä»¤å¯ä»¥çœ‹åˆ°ï¼Œè³‡æ–™å¤¾çš„æ“æœ‰è€…æ˜¯ rootã€‚ æˆ‘å€‘åœ¨å®‰è£ Apache2 çš„éƒ¨åˆ†å¾ http://&lt;è™›æ“¬ä¸»æ©Ÿçš„ ip åœ°å€&gt;/ çœ‹åˆ°çš„å°±æ˜¯ä½æ–¼ /var/www/html/ ä¸­çš„é¦–é ï¼Œæ¥ä¸‹ä¾†æˆ‘å€‘è¦åˆªé™¤ Apache2 é è¨­çš„è¨­å®šï¼Œä¸¦æ¸¬è©¦è‡ªå·±å»ºç«‹çš„è™›æ“¬ç¶²ç«™ï¼ˆVirtualHostï¼‰ã€‚ ls -al /var/www/ total 12 drwxr-xr-x 3 root root 4096 Sep 1 06:51 ./ drwxr-xr-x 14 root root 4096 Sep 1 06:51 ../ drwxr-xr-x 2 root root 4096 Sep 1 06:51 html/ ä¸€æ¨£åœ°ï¼Œä»¥åŒæ¨£åœ°æ–¹æ³•å»ºç«‹ asis è³‡æ–™å¤¾ sudo mkdir /var/www/asis ç”¢ç”Ÿä¸€å€‹æ¸¬è©¦ç”¨çš„é¦–é  sudo vim /var/www/asis/index.html &lt;!DOCTYPE html&gt; &lt;html lang=&quot;zh-TW&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;title&gt;Apache VirtualHost config test&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;h1&gt;æˆåŠŸ!&lt;/h1&gt; &lt;p&gt;æ‚¨çš„ Apache2 è™›æ“¬ç¶²ç«™çš„è¨­å®šé †åˆ©é‹ä½œä¸­ã€‚&lt;/p&gt; &lt;/body&gt; &lt;/html&gt; ä½¿ç”¨ a2dissite æŒ‡ä»¤é—œé–‰é è¨­çš„è¨­å®šæª”ï¼ˆæœ‰èˆˆè¶£å¯ä»¥çœ‹ä¸€ä¸‹é è¨­çš„è¨­å®šæª” 000-default.confï¼Œæœ‰åŠ©æ–¼äº†è§£è¨­å®šæª”æ¡ˆæ€éº¼ç·¨å¯«ï¼‰ sudo a2dissite 000-default.conf Site 000-default disabled. To activate the new configuration, you need to run: systemctl reload apache2 æ¥è‘—ï¼Œå•Ÿç”¨å‰›æ‰å‰µç«‹çš„è¨­å®šæª” asis.conf sudo a2ensite asis.conf é‡æ–°è®€å–å‰›æ‰è®Šæ›´çš„è¨­å®šï¼Œä½¿æ–°çš„è¨­å®šç”Ÿæ•ˆ sudo systemctl reload apache2 æ¥è‘—è‡³ç€è¦½å™¨æ‰“ä¸Šè™›æ“¬ä¸»æ©Ÿçš„ ip ä½å€ http://&lt;è™›æ“¬ä¸»æ©Ÿçš„ ip åœ°å€&gt;/ æˆ–æ˜¯ç›´æ¥åœ¨çµ‚ç«¯æ©Ÿä¸­ä½¿ç”¨æŒ‡ä»¤ curl æ¸¬è©¦ asis.conf è¨­å®šæª”ï¼š curl http://192.168.0.14 &lt;!DOCTYPE html&gt; &lt;html lang=&quot;zh-TW&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;title&gt;Apache VirtualHost config test&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;h1&gt;æˆåŠŸ!&lt;/h1&gt; &lt;p&gt;æ‚¨çš„ Apache2 è™›æ“¬ç¶²ç«™çš„è¨­å®šé †åˆ©é‹ä½œä¸­ã€‚&lt;/p&gt; &lt;/body&gt; &lt;/html&gt; "],["phpmyadmin.html", "3.5 phpMyAdmin", " 3.5 phpMyAdmin 3.5.1 Step 1 â€” å®‰è£ phpmyadmin ä¸€æ¨£åœ°ï¼Œç¢ºèª phpmyadmin çš„ç‰ˆæœ¬ sudo apt info phpmyadmin Package: phpmyadmin Version: 4:4.9.5+dfsg1-2 Priority: optional Section: universe/web Origin: Ubuntu Maintainer: Ubuntu Developers &lt;ubuntu-devel-discuss@lists.ubuntu.com&gt; Original-Maintainer: phpMyAdmin Packaging Team &lt;team+phpmyadmin@tracker.debian.org&gt; Bugs: https://bugs.launchpad.net/ubuntu/+filebug Installed-Size: 27.2 MB Depends: php, php-cli, php-mysql, php-json, php-mbstring, php-xml, debconf (&gt;= 0.5) | debconf-2.0, lib js-sphinxdoc (&gt;= 1.0), sensible-utils, dbconfig-mysql | dbconfig-no-thanks | dbconfig-common (&lt;&lt; 2.0.0 ), php-phpseclib (&gt;= 2.0), php-common, php-phpmyadmin-sql-parser (&gt;= 4.3.2), php-phpmyadmin-sql-parser (&lt;&lt; 5~~), php-phpmyadmin-motranslator (&gt;= 5.0), php-phpmyadmin-motranslator (&lt;&lt; 6~~), php-phpmyadmin- shapefile (&gt;= 2.0), php-phpmyadmin-shapefile (&lt;&lt; 3~~), php-phpseclib (&lt;&lt; 3~~), php-google-recaptcha (&gt; = 1.1), php-google-recaptcha (&lt;&lt; 2~~), php-psr-container (&gt;= 1.0), php-psr-container (&lt;&lt; 2~~), php-twi g (&gt;= 2.9), php-twig (&lt;&lt; 3~~), php-twig-extensions (&gt;= 1.5.1), php-twig-extensions (&lt;&lt; 1.6~~), php-sym fony-expression-language, libjs-openlayers, ucf (&gt;= 0.28) Recommends: apache2 | lighttpd | httpd, php-curl, php-gd, php-bz2, php-zip, php-tcpdf Suggests: default-mysql-server | virtual-mysql-server, www-browser, php-recode, php-opcache, php-gd2, php-pragmarx-google2fa, php-bacon-qr-code, php-samyoul-u2f-php-server Homepage: https://www.phpmyadmin.net/ Download-Size: 4,426 kB [...] ç¢ºèªå®Œç•¢å¾Œå®‰è£ sudo apt install phpmyadmin --yes é€™è£ç”¨ç©ºç™½éµå‹¾é¸ apache2 ä½¿ä¸­æ‹¬è™Ÿä¸­è®Šæˆæ˜Ÿè™Ÿ * é€™è£é¸æ“‡ Yes å³å¯é™¤éä½ æƒ³å° phpmyadmin åšæ›´è©³ç´°çš„è¨­å®š ç•™ç©ºæœƒè‡ªå‹•ç”¢ç”Ÿä¾› phpmyadmin é€£ç·šè‡³ MySQL ç”¨çš„å¯†ç¢¼ï¼Œæ‰€ä»¥é€™è£¡ç›´æ¥æŒ‰ Ok ç•¶å‡ºç¾æ­¤éŒ¯èª¤æ™‚ä¸ç”¨å¤ªæ…Œå¼µï¼Œæ˜¯å› ç‚ºå®‰è£ MySQL æ™‚ï¼Œæœ‰é–‹å•Ÿ Validate Password æ’ä»¶å°è‡´çš„ï¼Œåªéœ€è¦é€éä¸‹åˆ—æŒ‡ä»¤æš«æ™‚é—œé–‰å³å¯ã€‚ ä»¥ root ç™»å…¥è³‡æ–™åº« mysql -u root -p è§£é™¤å®‰è£æ’ä»¶ valid password uninstall component &#39;file://component_valid_password&#39;; exit; åœ¨å®‰è£ä¸€æ¬¡ phpmyadmin sudo apt install phpmyadmin --yes mysql -u root -p å°‡ valid password è£å›å» install component &#39;file://component_valid_password&#39; exit; å•Ÿå‹• phpMyAdmin çš„ä¾è³´æ’ä»¶ sudo phpenmod mbstring é‡æ–°å•Ÿå‹• Apache2 sudo systemctl restart apache2 å¾ç¶²ç«™é€²å…¥ phpMyAdmin æ“ä½œä»‹é¢ http://&lt;è™›æ“¬ä¸»æ©Ÿçš„ ip åœ°å€&gt;/phpmyadmin/ å¦‚æœæ‰¾ä¸åˆ°æ˜¯æ­£å¸¸çš„ï¼Œåœ¨ Ubuntu 20.04 å®‰è£ phpMyAdmin æ™‚ï¼Œæ²’æœ‰æ­£ç¢ºçš„è¨­å®šåˆ° phpMyAdminã€‚ å¯ä»¥åƒè€ƒé€™è£¡ä¸‰æ¨“çš„è§£æ³•ï¼š æ‰‹å‹•è»Ÿé€£çµåˆ° Apache2 çš„è¨­å®šè³‡æ–™å¤¾ sudo ln -s /etc/phpmyadmin/apache.conf /etc/apache2/conf-available/phpmyadmin.conf æ¥è‘—å•Ÿå‹• phpMyAdmin çš„è¨­å®šæª” sudo a2enconf phpmyadmin \bé‡æ–°å•Ÿå‹• Apache2 sudo systemctl restart apache2 å†å¾ç€è¦½å™¨å˜—è©¦ä¸€æ¬¡é€£ç·š http://&lt;è™›æ“¬ä¸»æ©Ÿçš„ ip åœ°å€&gt;/phpmyadmin/ æˆåŠŸï½ ğŸŠ 3.5.2 Step 2 â€” ä½¿ phpmyadmin æ›´åŠ å®‰å…¨ é è¨­çš„ http://host.ip/phpmyadmin ä½å€å¯¦åœ¨æ˜¯å¤ªå±éšªäº†ï¼Œå¦‚æœæœ‰äººæœ‰æ„ç ´å£ï¼Œåˆè¢«çŒœåˆ°ç®¡ç†å“¡çš„å¯†ç¢¼ï¼Œé‚£å°‡æœƒä¸€ç™¼ä¸å¯æ”¶æ‹¾ï¼Œæ‰€ä»¥æ¥ä¸‹ä¾†è¦æ”¹çš„æ˜¯ phpMyAdmin åœ¨ Apache2 ä¸­çš„è¨­å®šï¼Œå°‡é è¨­çš„ä½ç½®æ”¹æ‰è‡³å°‘æœƒå®‰å…¨ä¸€é»ã€‚ sudo vim /etc/phpmyadmin/apache.conf å› ç‚º /etc/phpmyadmin/apache.conf å·²è»Ÿé€£çµè‡³ /etc/apache2/conf-available/phpmyadmin.conf æ‰€ä»¥è®Šæ›´apache.conf æ™‚ï¼Œä½æ–¼ Apache2 ä¸­çš„è¨­å®šæª”ä¹Ÿæœƒè·Ÿè‘—è®Šæ›´ã€‚ # phpMyAdmin default Apache configuration Alias /sql /usr/share/phpmyadmin # è®Šæ›´é€™è£¡ &lt;Directory /usr/share/phpmyadmin&gt; Options SymLinksIfOwnerMatch DirectoryIndex index.php AllowOverride All # æ–°å¢é€™è¡Œ [...] &lt;/Directory&gt; [...] é‡æ–°å•Ÿå‹• Apache2 sudo systemctl restart apache2 http://&lt;è™›æ“¬ä¸»æ©Ÿçš„ ip åœ°å€&gt;/sql/ 3.5.3 Step 3 â€” å†å¤šä¸€å±¤å­˜å–çš„å¯†ç¢¼ä¿è­·ï¼ˆå¯é¸ï¼‰ æ–°å¢ä¸€å€‹å«åš .htaccess çš„æª”æ¡ˆ sudo vim /usr/share/phpmyadmin/.htaccess æ”¾å…¥è¨­å®š AuthType Basic AuthName &quot;é™åˆ¶å­˜å–çš„æª”æ¡ˆ&quot; AuthUserFile /etc/phpmyadmin/.htpasswd Require valid-user ç”¨ htpasswd æŒ‡ä»¤ä»¥ .htpasswd ç”Ÿæˆå¸³è™Ÿï¼Œé€™å€‹å¸³è™Ÿå«åš asisï¼Œæ­¤æ™‚æœƒæç¤ºä½ è¼¸å…¥å¯†ç¢¼ã€‚ sudo htpasswd -c /etc/phpmyadmin/.htpasswd asis å¦‚æœè¦æ–°å¢å…¶ä»–ä½¿ç”¨è€…ï¼Œä¸éœ€è¦åŠ ä¸Š -c çš„åƒæ•¸ sudo htpasswd /etc/phpmyadmin/.htpasswd otheruser å†é€²å…¥ä¸€æ¬¡ phpMyAdmin çš„ä½å€å˜—è©¦ï¼š æ­¤æ™‚æœƒè·³å‡ºä¸€å€‹ç™»å…¥ä»‹é¢ï¼Œéœ€è¦è¼¸å…¥å¯†ç¢¼æ‰èƒ½é€²å…¥ phpMyAdmin çš„é é¢ã€‚ å¦‚æœä¸éœ€è¦æ­¤è¨­å®šï¼Œç›´æ¥åˆªé™¤ä½æ–¼ /etc/phpmyadmin/.htpasswd çš„æª”æ¡ˆå³å¯ã€‚ "],["rstudio-rshiny-server.html", "Chapter 4 RStudio &amp; RShiny Server ", " Chapter 4 RStudio &amp; RShiny Server "],["äº‹å‰æº–å‚™-3.html", "4.1 äº‹å‰æº–å‚™", " 4.1 äº‹å‰æº–å‚™ å…ˆç¢ºèªç›®å‰çš„ä½¿ç”¨è€… asis æ“æœ‰ sudo çš„æ¬Šé™ã€‚ "],["r-base.html", "4.2 R base", " 4.2 R base å®‰è£è»Ÿé«”ä¹‹å‰ï¼Œå…ˆæ›´æ–°å¥—ä»¶ç®¡ç†ç¨‹å¼çš„ä¾†æº sudo apt update å†ä¾†å®‰è£å®‰è£ r-base æ‰€éœ€è¦çš„ç¨‹å¼ software-properties-common èˆ‡ dirmngrã€‚ sudo apt install software-properties-common dirmngr --yes åˆ‡æ›åˆ°æš«å­˜è³‡æ–™å¤¾å¾Œï¼Œå°‡ GPG ç°½åä¸‹è¼‰ä¸‹ä¾†ï¼Œæ·»åŠ è‡³ç›®çš„åœ° cd /tmp &amp;&amp; \\ wget -qO- https://cloud.r-project.org/bin/linux/ubuntu/marutter_pubkey.asc \\ | sudo tee -a /etc/apt/trusted.gpg.d/cran_ubuntu_key.asc æ·»åŠ  apt ä¾†æº sudo add-apt-repository \\ &quot;deb https://cloud.r-project.org/bin/linux/ubuntu $(lsb_release -cs)-cran40/&quot; å®‰è£ r-base sudo apt install r-base --yes "],["rstudio-server.html", "4.3 RStudio Server", " 4.3 RStudio Server Step 1 â€” å®‰è£ RStudio Server ä¼ºæœå™¨ sudo apt install gdebi-core åˆ‡åˆ°æš«å­˜è³‡æ–™å¤¾å¾Œï¼Œè‡ªå®˜ç¶²ä¸‹è¼‰ rstudio ä¼ºæœå™¨çš„å®‰è£ç¨‹å¼ã€‚ cd /tmp &amp;&amp; \\ wget https://download2.rstudio.org/server/bionic/amd64/rstudio-server-1.4.1717-amd64.deb é€é ubuntu çš„å¯†é‘°ä¼ºæœå™¨å–å›å°æ‡‰çš„ç°½å gpg --keyserver keyserver.ubuntu.com --recv-keys 3F32EE77E331692F å®‰è£ç¢ºèªæª”æ¡ˆç°½åæ‰€éœ€è¦çš„ç¨‹å¼ sudo apt install dpkg-sig --yes æª¢æŸ¥æª”æ¡ˆç°½åï¼ŒåŠ ä¸Š --verify é¸é …é©—è­‰æª”æ¡ˆç°½å dpkg-sig --verify rstudio-server-1.4.1717-amd64.deb å‡ºç¾ GOODSIG å­—æ¨£ä»£è¡¨è©²æª”æ¡ˆæ²’æœ‰å•é¡Œï¼Œå¯ä»¥ç¹¼çºŒå®‰è£ Processing rstudio-server-1.4.1717-amd64.deb... GOODSIG _gpgbuilder FE8564CFF1AB93F1728645193F32EE77E331692F 1621900692 æœ€å¾Œå†ä½¿ç”¨ gdebi æŒ‡ä»¤å®‰è£ .deb æ ¼å¼è»Ÿé«” sudo gdebi rstudio-server-1.4.1717-amd64.deb å°‡é˜²ç«ç‰†çš„ 8787 åŸ è™Ÿæ‰“é–‹ sudo ufw allow 8787 æ¥è‘—ç”¨ç€è¦½å™¨é€²å…¥ä¸‹åˆ—ç¶²å€ http://&lt;è™›æ“¬ä¸»æ©Ÿçš„ ip åœ°å€&gt;:8787 æˆ–æ˜¯åœ¨shellä¸­ç›´æ¥ä½¿ç”¨ curl æŒ‡ä»¤æŸ¥çœ‹ curl &lt;è™›æ“¬ä¸»æ©Ÿçš„ ip åœ°å€&gt;:8787 Step 2 â€” è¨­å®š Apache çš„åå‘ä»£ç†ï¼ˆReverse Proxyï¼‰ ç”¨æŒ‡ä»¤ a2enmod å°‡ Apache å…§å»ºçš„æ’ä»¶å•Ÿç”¨ sudo a2enmod proxy sudo a2enmod proxy_http sudo a2enmod proxy_wstunnel ç¹¼çºŒç·¨è¼¯3.4.2 ç¯€æ‰€å»ºç«‹çš„ asis.conf sudo vim /etc/apache2/sites-available/asis.conf åœ¨ VirtualHost ç¯€é»ä¸‹é¢æ–°å¢ RStudio Proxy çš„å€å¡Š &lt;VirtualHost *:80&gt; ServerAdmin webmaster@localhost DocumentRoot /var/www/asis ErrorLog ${APACHE_LOG_DIR}/error.log CustomLog ${APACHE_LOG_DIR}/access.log combined ### # RStudio Proxy ### &lt;proxy *&gt; Allow from localhost &lt;/proxy&gt; RedirectMatch permanent ^/rstudio$ /rstudio/ RewriteEngine on RewriteCond %{HTTP:Upgrade} =websocket RewriteRule /rstudio/(.*) ws://localhost:8787/$1 [P,L] RewriteCond %{HTTP:Upgrade} !=websocket RewriteRule /rstudio/(.*) http://localhost:8787/$1 [P,L] ProxyPass /rstudio/ http://localhost:8787/ ProxyPassReverse /rstudio/ http://localhost:8787/ ProxyRequests Off &lt;/VirtualHost&gt; å®Œæˆå¾Œéœ€è¦é‡æ–°å•Ÿå‹• Apache sudo systemctl restart apache2 æœ€å¾Œä»¥ç€è¦½å™¨æ‰“é–‹ä¸‹é¢çš„é€£çµæœƒç™¼ç¾ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨å…·æœ‰åå­—çš„è·¯å¾‘ï¼Œé€éåå‘ä»£ç†ï¼Œé€£çµåˆ°ç›®çš„åœ° 8787 åŸ è™Ÿã€‚ http://&lt;è™›æ“¬ä¸»æ©Ÿçš„ ip åœ°å€&gt;/rstudio/ åœ¨ Step 1 é–‹çš„ 8787 åŸ è™Ÿå¯ä»¥é—œæ‰äº†ã€‚åœ¨ status çš„å¾Œé¢åŠ ä¸Š numbered å¯ä»¥å°‡è¨­å®šçš„ç·¨è™Ÿä¹Ÿä¸€èµ·åˆ—å‡ºä¾†ï¼Œå†è—‰ç”±ç·¨è™Ÿç·¨è¼¯è©²è¨­å®šã€‚ sudo ufw status numbered Status: active To Action From -- ------ ---- [ 1] 60000 ALLOW IN Anywhere [ 2] mosh ALLOW IN Anywhere [ 3] Apache ALLOW IN Anywhere [ 4] Apache Secure ALLOW IN Anywhere [ 5] 8787 ALLOW IN Anywhere [ 6] 60000 (v6) ALLOW IN Anywhere (v6) [ 7] mosh (v6) ALLOW IN Anywhere (v6) [ 8] Apache (v6) ALLOW IN Anywhere (v6) [ 9] Apache Secure (v6) ALLOW IN Anywhere (v6) [10] 8787 (v6) ALLOW IN Anywhere (v6) åˆªé™¤ç¬¬ 5 å€‹è¨­å®šï¼ˆ8787ï¼‰ sudo ufw delete 5 åˆªé™¤ç¬¬ 9 å€‹è¨­å®šï¼ˆ8787 (v6)ï¼‰ï¼Œå› ç‚ºç¬¬ 5 å€‹è¨­å®šåˆªé™¤ä¹‹å¾Œï¼Œç¬¬ 10 é †ä½çš„è¨­å®šå°±æœƒå¾€å‰ç§»ï¼Œé‡æ–°ç·¨è™Ÿã€‚ sudo ufw delete 9 æ›´å‹•å¾Œçš„è¨­å®šã€‚ Status: active To Action From -- ------ ---- 60000 ALLOW Anywhere mosh ALLOW Anywhere Apache ALLOW Anywhere Apache Secure ALLOW Anywhere 60000 (v6) ALLOW Anywhere (v6) mosh (v6) ALLOW Anywhere (v6) Apache (v6) ALLOW Anywhere (v6) Apache Secure (v6) ALLOW Anywhere (v6) "],["rshiny-server.html", "4.4 RShiny Server", " 4.4 RShiny Server Step 1 â€” å®‰è£ RShiny Server sudo su - \\ -c &quot;R -e \\&quot;install.packages(&#39;shiny&#39;, repos=&#39;https://cran.rstudio.com/&#39;)\\&quot;&quot; cd /tmp &amp;&amp; \\ wget https://download3.rstudio.org/ubuntu-14.04/x86_64/shiny-server-1.5.16.958-amd64.deb sha256sum shiny-server-1.5.16.958-amd64.deb sudo gdebi shiny-server-1.5.16.958-amd64.deb ç‰ˆæœ¬ å³ä¸‹è§’ blablabla æ²’è£ rmarkdown package Step 2 â€” è¨­å®š Apache çš„ Proxy sudo vim /etc/apache2/sites-available/asis.conf &lt;VirtualHost *:80&gt; [...] ### # RStudio Proxy ### [...] ### # RShiny Server Proxy ### RedirectMatch permanent ^/shiny$ /shiny/ RewriteCond %{HTTP:Upgrade} =websocket RewriteRule /shiny/(.*) ws://localhost:3838/$1 [P,L] RewriteCond %{HTTP:Upgrade} !=websocket RewriteRule /shiny/(.*) http://localhost:3838/$1 [P,L] ProxyPass /shiny/ http://localhost:3838/ ProxyPassReverse /shiny/ http://localhost:3838/ &lt;/VirtualHost&gt; http://&lt;è™›æ“¬ä¸»æ©Ÿçš„ ip åœ°å€&gt;/shiny/ Step 3 â€” Shiny Server é€²éšè¨­å®š sudo vim /etc/shiny-server/shiny-server.conf # ä¸»è¦åŸ·è¡Œ App ç‚ºçš„ä½¿ç”¨è€…ç‚ºè©² App çš„æ“æœ‰è€…ï¼Œæ²’æœ‰æ“æœ‰è€…çš„ App å°‡ç”±å‚™å–ä½¿ç”¨è€… shiny åŸ·è¡Œã€‚ run_as :HOME_USER: shiny; access_log /var/log/shiny-server/access.log tiny; server { listen 3838; # 110.09.21 è·Ÿæ˜è¼è€å¸«çš„çµæœæ˜¯åªç•™ä¸‹ &#39;è€å¸«&#39; èˆ‡ &#39;å­¸ç”Ÿç¾¤çµ„&#39; # # # é‡æ–°å°å‘èˆŠç¾¤çµ„ /asisstuc è‡³æ–°ç¾¤çµ„ /asis # location /asisstuc { # redirect &quot;https://&lt;è™›æ“¬ä¸»æ©Ÿ ip ä½å€&gt;/shiny/asis/&quot; 302 true; # } # # location /asis { # user_dirs; # members_of asis; # directory_index on; # } # # location /ecofin { # user_dirs; # members_of ecofin; # directory_index on; # } # # location /fta { # user_dirs; # members_of fta; # directory_index on; # } # é‡æ–°å°å‘èˆŠç¾¤çµ„ /asisstuc è‡³å­¸ç”Ÿç¾¤çµ„ /stu location /asisstuc { redirect &quot;https://&lt;è™›æ“¬ä¸»æ©Ÿ ip ä½å€&gt;/shiny/stu/&quot; 302 true; } location /defstu { redirect &quot;https://&lt;è™›æ“¬ä¸»æ©Ÿ ip ä½å€&gt;/shiny/stu/&quot; 302 true; } location /asisstuc { redirect &quot;https://&lt;è™›æ“¬ä¸»æ©Ÿ ip ä½å€&gt;/shiny/stu/&quot; 302 true; } location /stu { user_dirs; members_of stu; directory_index on; } location /teacher { user_dirs; members_of teacher; directory_index off; } # Shiny é¦–é  location / { site_dir /srv/shiny-server; log_dir /var/log/shiny-server; directory_index on; } } sudo systemctl restart shiny-server é€™è£è¦å…ˆè·³è‡³ç¬¬å››æ­¥å…ˆå»ºç«‹ä½¿ç”¨è€…ç¾¤çµ„å¾Œå†é‡æ–°å•Ÿå‹• Shiny-serverã€‚å› ç‚ºè¨­å®šæª”ä¸­è¨­æœ‰ä½¿ç”¨è€…ç¾¤çµ„ï¼ˆasisã€ecofinã€ftaã€teacherï¼‰ï¼Œå¦‚æœ Shiny Server åœ¨å•Ÿå‹•ä¸­æ‰¾ä¸åˆ°æ™‚æœƒè·³å‡ºéŒ¯èª¤ã€‚ Step 4 â€” ä½¿ç”¨ä½¿ç”¨è€…æ¸¬è©¦è¨­å®šæ˜¯å¦æœ‰æ•ˆ sudo groupadd asis sudo groupadd ecofin sudo groupadd fta sudo groupadd teacher sudo vim /etc/default/useradd # Default values for useradd(8) # # The SHELL variable specifies the default login shell on your # system. # Similar to DSHELL in adduser. However, we use &quot;sh&quot; here because # useradd is a low level utility and should be as general # as possible SHELL=/usr/bin/bash # è®Šæ›´é€™è£¡ sudo mkdir /etc/skel/ShinyApps/ sudo ln -s /srv/shiny-server/sample-apps \\ /etc/skel/ShinyApps/example sudo useradd --badnames -N -g asis -m 08170875 --badnames: -N, --no-user-group: -g, --gid GROUP: -m, --create-home: sudo useradd --badnames -N -g ecofin -m 08220000 "],["jupyterlab-on-jupyterhub.html", "Chapter 5 JupyterLab on JupyterHub", " Chapter 5 JupyterLab on JupyterHub æœ¬ç¯‡æ•™å­¸å®Œå…¨ç…§è‘—(mangecoeur et al. 2021)æ‰€å¯«çš„æ•™å­¸æ“ä½œã€‚ åƒè€ƒè³‡æ–™ "],["äº‹å‰æº–å‚™-4.html", "5.1 äº‹å‰æº–å‚™", " 5.1 äº‹å‰æº–å‚™ "],["è¨­ç½®-python-3-ç’°å¢ƒ.html", "5.2 è¨­ç½® Python 3 ç’°å¢ƒ", " 5.2 è¨­ç½® Python 3 ç’°å¢ƒ sudo apt update &amp;&amp; sudo apt install python3-dev python3-pip --yes sudo -H python3 -m pip install --upgrade pip sudo apt install python3-venv å› ç‚º python é€šå¸¸éƒ½æ˜¯æŒ‡ python2ï¼Œæ‰€ä»¥æˆ‘å€‘é‚„è¦å†å¤šè£ä¸€å€‹å«åš python-is-python3 çš„å¥—ä»¶ï¼Œå°‡ python è¨­ç‚º python3 çš„å¦ä¸€å€‹åå­—ã€‚ sudo apt install python-is-python3 --yes "],["jupyterlab-èˆ‡-jupyterhub.html", "5.3 JupyterLab èˆ‡ JupyterHub", " 5.3 JupyterLab èˆ‡ JupyterHub 5.3.1 æ–¼è™›æ“¬ç’°å¢ƒä¸­è¨­ç½® JupyterLab èˆ‡ JupyterHub sudo python3 -m venv /opt/jupyterhub sudo /opt/jupyterhub/bin/python -m pip install wheel sudo /opt/jupyterhub/bin/python -m pip install jupyterlab jupyterhub sudo /opt/jupyterhub/bin/python -m pip install ipywidgets curl -fsSL https://deb.nodesource.com/setup_lts.x | sudo -E bash - sudo apt-get install -y nodejs sudo npm install -g configurable-http-proxy 5.3.2 è¨­å®š JupyterHub sudo mkdir -p /opt/jupyterhub/etc/jupyterhub/ cd /opt/jupyterhub/etc/jupyterhub/ sudo /opt/jupyterhub/bin/jupyterhub --generate-config sudo vim jupyterhub_config.py c.JupyterHub.bind_url = &#39;http://:8000/jhub&#39; c.Spawner.default_url = &#39;/lab&#39; c.Authenticator.admin_users = {&#39;asis&#39;} c.Spawner.cmd = [&#39;jupyter-labhub&#39;] c.Spawner.args = [&#39;--collaborative&#39;] 5.3.3 æ–°å¢é–‹æ©Ÿè‡ªå‹•å•Ÿå‹• JupyterHub çš„æœå‹™ sudo mkdir -p /opt/jupyterhub/etc/systemd sudo vim /opt/jupyterhub/etc/systemd/jupyterhub.service sudo ln -s /opt/jupyterhub/etc/systemd/jupyterhub.service /etc/systemd/system/jupyterhub.service sudo systemctl daemon-reload sudo systemctl enable jupyterhub.service sudo systemctl start jupyterhub.service sudo systemctl status jupyterhub.service "],["jupyterhub-ä¸­çš„é‹ç®—æ ¸å¿ƒ.html", "5.4 JupyterHub ä¸­çš„é‹ç®—æ ¸å¿ƒ", " 5.4 JupyterHub ä¸­çš„é‹ç®—æ ¸å¿ƒ 5.4.1 Conda çš„ PythonğŸ ç’°å¢ƒ cd ~ curl https://repo.anaconda.com/pkgs/misc/gpgkeys/anaconda.asc | gpg --dearmor &gt; conda.gpg sudo install -o root -g root -m 644 conda.gpg /etc/apt/trusted.gpg.d/ rm conda.gpg echo &quot;deb [arch=amd64] https://repo.anaconda.com/pkgs/misc/debrepo/conda stable main&quot; | sudo tee /etc/apt/sources.list.d/conda.list sudo apt update &amp;&amp; sudo apt install conda --yes sudo mkdir /opt/conda/envs cd /opt/conda/envs/ &amp;&amp; sudo vim environment.yml name: python channels: - defaults dependencies: - python=3.9 - ipykernel - pip: - ipython-sql - PyMySQL - matplotlib - plotly - dash - pandas prefix: /opt/conda/envs/python sudo /opt/conda/bin/conda env create -f environment.yml sudo /opt/conda/envs/python/bin/python -m ipykernel install --prefix=/opt/jupyterhub/ --name &#39;python3&#39; --display-name &quot;Python (default)&quot; 5.4.2 R ç’°å¢ƒ sudo su - -c &quot;R -e \\&quot;install.packages(&#39;IRkernel&#39;)\\&quot;&quot; sudo su - -c &quot;R -e \\&quot; IRkernel::installspec( name=&#39;ir41&#39;, displayname=&#39;R 4.1&#39;, user=FALSE, prefix=&#39;/opt/jupyterhub&#39; ) \\&quot;&quot; Error in IRkernel::installspec(name = &quot;ir41&quot;, displayname = &quot;R 4.1&quot;) : jupyter-client has to be installed but â€œjupyter kernelspec --versionâ€ exited with code 127. In addition: Warning message: In system2(&quot;jupyter&quot;, c(&quot;kernelspec&quot;, &quot;--version&quot;), FALSE, FALSE) : error in running command Execution halted ä¸»è¦åŸå› æ˜¯å› ç‚ºï¼Œç³»çµ±æ‰¾ä¸åˆ° jupyter æŒ‡ä»¤ã€‚å¯ä»¥è‡ªå·±åœ¨çµ‚ç«¯æ©Ÿé‡ç¾ä¸€æ¬¡ï¼š jupyter kernelspec --version Command &#39;jupyter&#39; not found, but can be installed with: sudo snap install jupyter # version 1.0.0, or sudo apt install jupyter-core # version 4.6.3-3 See &#39;snap info jupyter&#39; for additional versions. æ‰¾ä¸åˆ°æŒ‡ä»¤ï¼Œå‡ºç¾äº†æ¨è–¦å®‰è£æ–¹å¼ï¼Œä¸éé€™ä¸æ˜¯æˆ‘å€‘è¦çš„ã€‚ é€™è£¡æœƒç”¨ä¸€å€‹æŠ€å·§è®“ç³»çµ±æ‰¾å¾—åˆ°ä½æ–¼ /opt/jupyter/bin/jupyter çš„æŒ‡ä»¤ã€‚ è—‰ç”±è»Ÿé€£çµåˆ°ç³»çµ±çš„ path è®Šæ•¸ä¸­è®“ R æ‰¾å¾—åˆ°ã€‚ é¦–å…ˆå…ˆå°å‡º PATH è®Šæ•¸ï¼š echo $PATH /home/asis/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin æ”¾ç½®æ–¼å…¶ä¸­ä¸€å€‹ä½ç½®å°±è¡Œï¼Œæ³¨æ„ä¸è¦æ”¾ç½®åœ¨ /home åº•ä¸‹ï¼ŒåŸ·è¡Œ R æ™‚äº‹ä½¿ç”¨ root æ¬Šé™ï¼Œç”¨ root æ¬Šé™åŸ·è¡Œæ™‚ï¼Œä¸¦ä¸æœƒç¿» /home/asis/ åº•ä¸‹çš„è³‡æ–™å¤¾ã€‚ é€™è£¡æˆ‘å€‘é¸ç”¨ /usr/local/bin ä½œç‚ºè»Ÿé€£çµæ”¾ç½® jupyter åŸ·è¡Œæª”ã€‚ sudo ln -s /opt/jupyterhub/bin/jupyter /usr/local/bin æ¥è‘—ç”¨ which æŒ‡ä»¤æŸ¥è©¢æŒ‡ä»¤æ˜¯å¦å­˜åœ¨ï¼š which jupyter åˆ—å‡ºäºŒé€²åˆ¶åŸ·è¡Œæª”å­˜åœ¨ä½ç½®ï¼š ls -al $(which jupyter) lrwxrwxrwx 1 root root 27 Sep 17 16:23 /usr/local/bin/jupyter -&gt; /opt/jupyterhub/bin/jupyter* å¯ä»¥çœ‹åˆ°æŒ‡ä»¤ jupyter ä¹‹æ‰€ä»¥æœƒå­˜åœ¨æ˜¯å› ç‚ºè»Ÿé€£çµè‡³ /opt/jupyterhub/bin/jupyter å¾Œï¼Œå› ç‚º /usr/local/bin åœ¨è®Šæ•¸ path å…§ï¼Œè®“ç³»çµ±æ‰¾å¾—åˆ°ï¼Œæ‰å¯ä»¥ä½¿ç”¨é€™å€‹æŒ‡ä»¤ã€‚ å†åŸ·è¡Œä¸€æ¬¡å‰›é–‹å§‹çš„æŒ‡ä»¤ï¼š sudo su - -c &quot;R -e \\&quot; IRkernel::installspec( name=&#39;ir41&#39;, displayname=&#39;R 4.1&#39;, user=FALSE, prefix=&#39;/opt/jupyterhub&#39; ) \\&quot;&quot; jupyter kernelspec list Available kernels: ir41 /opt/jupyterhub/share/jupyter/kernels/ir41 python3 /opt/jupyterhub/share/jupyter/kernels/python3 5.4.3 C èˆ‡ C++ ç’°å¢ƒ sudo vim /opt/conda/envs/c_cpp.yml name: c-cpp channels: - defaults - conda-forge dependencies: - xeus-cling - python=3.* - pip - ipykernel prefix: /opt/conda/envs/c-cpp sudo conda env create -f c_cpp.yml sudo jupyter kernelspec install /opt/conda/envs/c-cpp/share/jupyter/kernels/xcpp11 --sys-prefix sudo jupyter kernelspec install /opt/conda/envs/c-cpp/share/jupyter/kernels/xcpp14 --sys-prefix sudo jupyter kernelspec install /opt/conda/envs/c-cpp/share/jupyter/kernels/xcpp17 --sys-prefix sudo /opt/conda/envs/c-cpp/bin/python3.9 -m pip install git+https://github.com/XaverKlemenschits/jupyter-c-kernel.git sudo vim /opt/conda/envs/c-cpp/share/jupyter/kernels/c/kernel.json { &quot;display_name&quot;: &quot;C&quot;, &quot;argv&quot;: [ &quot;/opt/conda/envs/c-cpp/bin/python3&quot;, &quot;-m&quot;, &quot;jupyter_c_kernel&quot;, &quot;-f&quot;, &quot;{connection_file}&quot; ], &quot;language&quot;: &quot;C&quot; } sudo mv ~/Downloads/logo** /opt/conda/envs/c-cpp/share/jupyter/c/ ls -al /opt/conda/envs/c-cpp/share/jupyter/kernels/c drwxrwxr-x 2 root root 4096 Oct 23 17:20 ./ drwxrwxr-x 7 root root 4096 Oct 23 15:31 ../ -rw-rw-r-- 1 root root 181 Oct 23 15:26 kernel.json -rw-r--r-- 1 root root 1536 Oct 23 17:02 logo-32x32.png -rw-r--r-- 1 root root 4079 Oct 23 17:02 logo-64x64.png sudo jupyter kernelspec install /opt/conda/envs/c-cpp/share/jupyter/c --sys-prefix "],["è¨­ç½®-apache-çš„-reverse-proxy.html", "5.5 è¨­ç½® Apache çš„ Reverse Proxy", " 5.5 è¨­ç½® Apache çš„ Reverse Proxy sudo vim /etc/apache2/sites-available/asis.conf &lt;VirtualHost *:80&gt; [...] ### # JupyterHub Reverse Proxy ### # add trailing slash RedirectMatch ^/jhub$ /jhub/ RewriteCond %{HTTP:Connection} Upgrade [NC] RewriteCond %{HTTP:Upgrade} websocket [NC] RewriteRule /jhub/(.*) ws://127.0.0.1:8000/jhub/$1 [P,L] RewriteRule /jhub/(.*) http://127.0.0.1:8000/jhub/$1 [P,L] &lt;Location /jhub/&gt; # preserve Host header to avoid cross-origin problems # this setting screws up Rstudio, use for JupyterHub only ProxyPreserveHost On # proxy to JupyterHub, omit location parameter from ProxyPass etc ProxyPass http://127.0.0.1:8000/jhub/ ProxyPassReverse http://127.0.0.1:8000/jhub/ &lt;/Location&gt; &lt;/VirtualHost&gt; http://&lt;è™›æ“¬ä¸»æ©Ÿçš„ipä½å€&gt;/jhub/ "],["jupyterhub-æ“´å……å¥—ä»¶.html", "5.6 JupyterHub æ“´å……å¥—ä»¶", " 5.6 JupyterHub æ“´å……å¥—ä»¶ jupyterlab-drawio sudo /opt/jupyterhub/bin/pip install jupyterlab-drawio jupyterlab-git sudo /opt/jupyterhub/bin/pip \\ install --upgrade jupyterlab jupyterlab-git jupyterlab-variable-inspector sudo /opt/jupyterhub/bin/pip \\ install lckr_jupyterlab_variableinspector sudo su - -c &quot;R -e \\&quot;install.packages(&#39;repr&#39;)\\&quot;&quot; jupyterext-text-shortcuts sudo jupyter labextension install @techrah/text-shortcuts jupyterlab-spreadsheet sudo jupyter labextension install jupyterlab-spreadsheet ipympl sudo /opt/jupyterhub/bin/pip install ipympl jupyter-dash (å¾…æ›´æ–°ï¼Œç›®å‰ä¸èƒ½ç”¨ 2021.09.18) sudo /opt/jupyterhub/bin/pip install jupyter-dash jupyterlab-link-share sudo /opt/jupyterhub/bin/pip install jupyterlab-link-share language-packs sudo /opt/jupyterhub/bin/pip install jupyterlab-language-pack-zh-TW sudo /opt/jupyterhub/bin/pip install jupyterlab-language-pack-zh-CN jupyterlab-lsp sudo /opt/jupyterhub/bin/pip install &#39;jupyterlab&gt;=3.0.0,&lt;4.0.0a0&#39; jupyterlab-lsp sudo apt install libcurl4-openssl-dev libxml2-dev --yes sudo su - -c &quot;R -e \\&quot;install.packages(&#39;languageserver&#39;)\\&quot;&quot;&quot; sudo /opt/jupyterhub/bin/pip install -U jedi-language-server nbgitpuller sudo /opt/jupyterhub/bin/pip install nbgitpuller sudo systemctl restart jupyterhub.service "],["é™„éŒ„.html", "é™„éŒ„", " é™„éŒ„ å› ç‚ºå…§å®¹å¤ªå¤šï¼Œæ›¸æœ¬ç¯‡æ”¶éŒ„çš„æœƒè®Šå¾—å¤ªæ··é›œï¼Œæ‰€ä»¥æˆ‘æŠŠä¸€äº›å…§å®¹æ”¾åˆ°é€™è£¡ã€‚ "],["putty.html", "PuTTY", " PuTTY ä½¿ç”¨ PuTTY é€£ç·šè‡³ OpenSSH ä¼ºæœå™¨ ä»¥ PuTTY ç”¢ç”Ÿ key å¦ä¸€å€‹æ–¹æ³•ä¸æœƒéœ€è¦ä½ æ‰‹å‹•å®‰è£ OpenSSH Clientï¼Œä¸éã€ä¸€æ¨£åœ°ï¼Œè¦å®‰è£PuTTY ç¨‹å¼ã€‚ Step 1 â€” å®‰è£ PuTTY åˆ°é–‹ç™¼è€…çš„ç¶²ç«™ï¼Œç„¶å¾Œä¸‹è¼‰é©åˆä½  Windows çš„ç‰ˆæœ¬ (å‰¯æª”åç‚º *.msi çš„å®‰è£ç¨‹å¼) https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html æ ¹æ“šä½ çš„éœ€æ±‚è¨­å®šå®‰è£ç¨‹å¼ å¾…å®‰è£ç¨‹å¼å®‰è£å®Œæˆ å®‰è£å®Œæˆå¾Œï¼Œé»é¸ã€Œé–‹å§‹ã€ï¼Œæ‰¾åˆ° PuTTYgené–‹å•Ÿï¼Œæˆ–æ˜¯é»é¸ã€Œé–‹å§‹ã€ï¼Œéµå…¥ puttygen å¾ŒæŒ‰ Enterâ†©ï¸ Step 2 â€” ç¶“ç”± PuTTYgen ç”¢ç”Ÿ ssh key pairs è·Ÿ OpenSSH Client ä¸€æ¨£åœ°ï¼Œä½ å¯ä»¥åœ¨ä¸‹æ–¹çš„ Types é¸æ“‡ä½ åå¥½çš„åŠ å¯†æ–¹å¼ã€‚é»é¸ã€ŒGenerateã€é–‹å§‹ç”¢ç”Ÿ keyï¼Œæ­¤æ™‚ä¸è¦å‚»å‚»åœ°åœ¨é‚£é‚Šç­‰ï¼Œè¦åœ¨ç¨‹å¼é€²åº¦æ¢ä¸‹æ–¹ç©ºç™½è™•éš¨æ„ç§»å‹•ä½ çš„æ»‘é¼ é¼ æ¨™ã€‚ å®Œæˆå¾Œï¼Œå¯ä»¥åœ¨ Comment çš„è¼¸å…¥æ¡†è¨»è§£ä¸€ä¸‹é€™å€‹ key æ˜¯å¾å“ªè£¡ä¾†çš„ï¼Œä»¥å¾Œæ“æœ‰å¤šå€‹ key pairs æ™‚æ‰ä¸æœƒææ··ã€‚ç•¶ç„¶ä½ ä¹Ÿå¯ä»¥ç”¨å¯†ç¢¼ä¿è­·é€™å€‹ key pairsï¼Œå¦‚æœæœ‰éœ€è¦åœ¨ Key passphrase èˆ‡ Confirm passphrase è¼¸å…¥ä¸€æ¨¡ä¸€æ¨£çš„å¯†ç¢¼ã€‚ Step 3 â€” å¦¥å–„ä¿å­˜å¥½ç”¢ç”Ÿçš„ Key åˆ†åˆ¥æŒ‰ä¸‹ã€ŒSave public keyã€èˆ‡ã€ŒSave private keyã€æ‰¾åˆ°é©åˆçš„åœ°æ–¹å„²å­˜å®ƒã€‚ ä¸Šå‚³ä»¥ PuTTY ç”¢ç”Ÿçš„ ssh key pairs PuTTY ç”¢ç”Ÿçš„ public key èˆ‡ private key æ ¼å¼æ¯”è¼ƒç‰¹åˆ¥ï¼Œä¸¦ä¸èƒ½ç›´æ¥æŠŠ public key è£¡é¢çš„æ–‡å­—ç›´æ¥è²¼åˆ°é ç«¯é›»è…¦çš„ ~/.ssh/authorized_keys æª”æ¡ˆè£¡é¢ï¼Œéœ€è¦ç¶“ç”± PuTTYgen.exe è®€å– *.ppk æ‰èƒ½å¾—åˆ°æ­£ç¢ºæ ¼å¼çš„ public keyã€‚é¦–å…ˆæŠŠ PuTTYgen ç¨‹å¼æ‰“é–‹ã€‚ æ¥è‘—æŒ‰ã€ŒLoadã€æŠŠå‰›å‰›ç”¢ç”Ÿçš„ *.ppk æª”æ¡ˆè®€å–é€²ä¾†ã€‚æœƒçœ‹åˆ°ä¸€è¡Œå­—ã€ŒPublic key for pasting into OpenSSH authorized_keys fileã€ä¸‹é¢çš„å¯è¤‡è£½å€åŸŸå°±æ˜¯ public keyï¼ŒæŠŠå®ƒæ•´æ®µè¤‡è£½èµ·ä¾†ã€‚ æ¥è‘—æ‰“é–‹ã€ŒPowerShellã€æˆ–æ˜¯ã€Œå‘½ä»¤æç¤ºå­—å…ƒã€ï¼Œè¼¸å…¥: echo &quot;&lt;YOUR_PUBLIC_KEY&gt;&quot; | ssh asis@192.168.0.13 &quot;cat &gt;&gt; ~/.ssh/authorized_keys&quot; å°‡ &lt;YOUR_PUBLIC_KEY&gt; æ›¿æ›æˆè‡ªå·±çš„ public key é€™è£¡çš„ asis ç‚ºç¬¬ä¸€ç« çš„ä½¿ç”¨è€…è¨­å®šçš„é è¨­ä½¿ç”¨è€… 192.168.0.13 ç‚ºæˆ‘è™›æ“¬ä¸»æ©Ÿçš„ ip ä½å€ï¼ŒæŸ¥è©¢ ip ä½å€å¯ä»¥å…ˆæ‰‹å‹•ç™»å…¥è™›æ“¬ä¸»æ©Ÿå¾Œï¼Œç”¨ hostname -I æˆ–æ˜¯ ip addr show æŒ‡ä»¤æŸ¥è©¢ æ¥è‘—æŒ‰ Enterâ†©ï¸ï¼Œè·³å‡ºè¼¸å…¥å¯†ç¢¼æç¤ºï¼Œé€™è£¡è¼¸å…¥é è¨­çš„ä½¿ç”¨è€…å¯†ç¢¼ asis asis@192.168.0.13&#39;s password: è¼¸å…¥å®Œæˆä¸æœƒå‡ºç¾ä»»ä½•è¨Šæ¯æ˜¯æ­£å¸¸çš„ï¼Œä»£è¡¨æ“ä½œæ²’æœ‰å•é¡Œä¸”å·²ç¶“å¯ä»¥ä½¿ç”¨ PuTTY é€£ç·šäº†ã€‚ PuTTYgen ç”¢ç”Ÿçš„ key pairs çš„é€£ç·šæ–¹å¼: SSH é€£ç·šæ–¹å¼å¤§åŒå°ç•°: é¦–å…ˆé»é¸ã€Œé–‹å§‹ã€ï¼Œéµå…¥ PuTTY æ‰“é–‹å®¢æˆ¶ç«¯ åœ¨å·¦é‚Šçš„ ã€ŒCategory:ã€ ä¸‹ï¼Œé¸å– ã€ŒSessionã€ æ–¼ Host Name è¼¸å…¥ã€Œä½¿ç”¨è€…@ç›®çš„åœ° IPã€ï¼Œåƒæ˜¯ã€Œasis@192.168.0.13ã€ ä½ å¯ä»¥é»é¸ä¸‹é¢çš„ã€ŒDefault Settingsã€å¾Œï¼Œæ¥è‘—æŒ‰ã€ŒSaveã€æœƒæŠŠå‰›å‰›è¼¸å…¥çš„ IP èˆ‡ Port å„²å­˜è‡³ã€ŒDefault Settingsã€å…§ï¼Œç•¶ç„¶ä½ ä¹Ÿå¯ä»¥è‡ªå·±å–ä¸€å€‹æ–°çš„åå­—ã€‚ æ¥è‘—å±•é–‹å·¦é‚Š ã€ŒCategory:ã€ ä¸‹çš„ã€ŒConnectionã€ âœ é»é¸ã€ŒSSHã€ âœ å†é»é¸ã€ŒAuthã€ï¼Œæ–¼æœ€ä¸‹é¢çš„ã€ŒPrivate key file for authentication:ã€é»é¸ã€ŒBrowseâ€¦ã€é¸å– *.ppk æª”æ¡ˆä½ç½® å®Œæˆå¾Œé»é¸ã€ŒOpenã€é€£ç·š èˆ‡ä½¿ç”¨ ssh æŒ‡ä»¤é€£ç·šç›¸åŒï¼Œéƒ½æœƒå…ˆæé†’ä½ ç›®çš„åœ°æ˜¯å¦æ­£ç¢ºã€‚ç¢ºèªç„¡èª¤æŒ‰ä¸‹ã€ŒAcceptã€ é€£æ¥æˆåŠŸ! æ›´æ”¹é è¨­çš„æ–‡æœ¬ç·¨è¼¯å™¨ é€™å€‹æŒ‡ä»¤å¯ä»¥è®Šæ›´ç³»çµ±ç·¨è¼¯æ–‡ä»¶æ‰€ç”¨çš„ç¨‹å¼ sudo update-alternatives --config editor æŒ‰äº† Enterâ†©ï¸ ä¹‹å¾Œï¼Œæœƒå‡ºç¾ç¾åœ¨å¯ç”¨çš„ç·¨è¼¯å™¨ï¼Œè¼¸å…¥å°æ‡‰çš„ç·¨è™Ÿå³å¯è®Šæ›´ã€‚æœ‰æ¨™ * è™Ÿçš„ç·¨è¼¯å™¨ç‚ºç›®å‰è¨­å®šçš„é è¨­ç·¨è¼¯å™¨ã€‚ There are 4 choices for the alternative editor (providing /usr/bin/editor). Selection Path Priority Status ------------------------------------------------------------ 0 /bin/nano 40 auto mode 1 /bin/ed -100 manual mode 2 /bin/nano 40 manual mode * 3 /usr/bin/vim.basic 30 manual mode 4 /usr/bin/vim.tiny 15 manual mode Press &lt;enter&gt; to keep the current choice[*], or type selection number: 3 "],["å¸³è™Ÿç®¡ç†.html", "å¸³è™Ÿç®¡ç†", " å¸³è™Ÿç®¡ç† Work in Process ä¸¦ä¸æ˜¯æœ€æ–°ç‰ˆæœ¬ users.sh #!/bin/bash # author: kuaz # last modified: 2021.09.13 # # This is script is used to: # 1. Create Accounts via ./depts/${dept}.txt (one student ID per line). # 2. Remove Accounts via ./depts/${dept}.txt # ç’°å¢ƒè®Šæ•¸ depts_dir=&#39;depts&#39; # æ”¾ç½®ç”¨ä¾†å»ºç½® linux å¸³è™Ÿçš„ç³»è³‡æ–™å¤¾ pass_dir=&#39;passwd&#39; # æ”¾ç½®å»ºç½®å®Œæˆçš„ linux å¸³è™Ÿå¯†ç¢¼çš„è³‡æ–™å¤¾ï¼Œå»ºåˆ¶å®Œå¾Œ # å¯æ­é…å»ºç½® MySQL å¸³è™Ÿèˆ‡è³‡æ–™åº«è…³æœ¬ï¼ˆgenerate-sql.shï¼‰ä½¿ç”¨ gp=false # ä¸éœ€è¦ç”¨éš¨æ©Ÿå¯†ç¢¼å»ºç«‹å¸³è™Ÿçš„æ——æ¨™ new=false ubuntu_version=$(lsb_release -d | cut -d &#39; &#39; -f 2 | cut -d &#39;.&#39; -f 1) check_permission() { if [ $(id -u) -ne 0 ]; then echo &quot;å¿…é ˆä»¥ root æ¬Šé™åŸ·è¡Œæ­¤è…³æœ¬ï¼&quot;; exit 1; fi } check_depts_dir() { if [ -d ${depts_dir} ]; then grps=&quot;$(ls ./${depts_dir} | grep &quot;.txt&quot; | cut -d &quot;.&quot; -f 1)&quot; for grp in ${grps} do table=$(wc -l ./${depts_dir}/${grp}.txt) file=$(echo $table | cut -d &#39; &#39; -f 2) count=$(echo $table | cut -d &#39; &#39; -f 1) if [ $count -lt 1 ]; then echo &quot;è«‹å†æª¢æŸ¥ä¸€æ¬¡ ./${depts_dir}/ å…§æ˜¯å¦å«æœ‰æ­£ç¢ºæ ¼å¼çš„å­¸è™Ÿæª”æ¡ˆï¼&quot; echo &quot;æœ‰å•é¡Œçš„æª”æ¡ˆ: $file&quot; exit 1 else echo &quot;æ–¼ $file ç™¼ç¾äº† $count å€‹å­¸ç”Ÿ&quot; fi done else echo &quot;ç³»è³‡æ–™å¤¾ ${depts_dir} ä¸å­˜åœ¨ï¼è«‹å†ç¢ºèªä¸€æ¬¡ã€‚&quot; exit 1; fi } make_pass_dir() { if [ ! -d ${pass_dir} ]; then echo &quot;å­˜æ”¾å¯†ç¢¼çš„ ${pass_dir} è³‡æ–™å¤¾ä¸å­˜åœ¨ï¼Œå°‡å»ºç«‹ ${pass_dir} è³‡æ–™å¤¾&quot; mkdir ${pass_dir} else read -p &quot;å­˜æ”¾å¯†ç¢¼çš„ ${pass_dir} è³‡æ–™å¤¾å·²å­˜åœ¨ï¼æ˜¯å¦è¦å°‡å…¶ç§»é™¤å¾Œç¹¼çºŒå»ºç«‹å¸³è™Ÿ? (yes/No)&quot; yn case $yn in [Yy]* ) rm -rf ${pass_dir} make_pass_dir ;; [No]* ) exit 1;; esac fi } create_users() { make_pass_dir for grp in ${grps} do if $(grep -q &quot;^${grp}&quot; /etc/group); then echo &quot;ç¾¤çµ„ &#39;${grp}&#39; å·²å­˜åœ¨ï¼Œä¸éœ€å†å»ºç«‹ã€‚&quot; else groupadd ${grp} fi if [ ${new} = false ] &amp;&amp; [ ! -d /srv/shiny-server/${grp} ]; then echo &quot;/srv/shiny-server/${grp} è³‡æ–™å¤¾ä¸å­˜åœ¨ï¼Œå°‡å»ºç«‹ç¾¤çµ„è³‡æ–™å¤¾&quot; mkdir /srv/shiny-server/${grp} fi # create user while read stu; do cur_user=${stu} if $(id &quot;${cur_user}&quot; &gt; /dev/null 2&gt;&amp;1); then echo &quot;ä½¿ç”¨è€… &#39;${cur_user}&#39; å·²å­˜åœ¨ã€‚&quot; else # åœ¨ Ubuntu 16.04 ç‰ˆæœ¬çš„ useradd æ²’æœ‰ --badnames é¸é … if [ ${ubuntu_version} == &quot;16&quot; ]; then useradd -N -g ${grp} -m ${cur_user} else useradd --badnames -N -g ${grp} -m ${cur_user} fi if [ ${gp} = false ]; then cur_user_password=${cur_user} else cur_user_password=$(openssl rand -base64 6) fi echo &quot;${cur_user}:${cur_user_password}&quot; | chpasswd echo &quot;${cur_user},${cur_user_password}&quot; | tee -a ./${pass_dir}/${grp}.csv &gt; /dev/null 2&gt;&amp;1 if [ ${new} = false ]; then # éœ€è¦å…ˆåœ¨ /etc/skel/ å»ºç«‹ ShinyApps è³‡æ–™å¤¾ï¼Œæ‰å¯æˆåŠŸé€£çµ ln -s /home/${cur_user}/ShinyApps /srv/shiny-server/${grp}/${cur_user} fi fi done &lt; ./${depts_dir}/${grp}.txt done } delete_users() { for grp in ${grps} do while read stu; do userdel -r ${stu} &gt; /dev/null 2&gt;&amp;1 if [ ${new} = false ]; then rm -rf /srv/shiny-server/${grp}/${stu} fi done &lt; ./${depts_dir}/${grp}.txt done read -p &quot;ä½¿ç”¨è€…å·²ç§»é™¤ï¼Œæ˜¯å¦è¦é †ä¾¿ç§»é™¤å­˜æ”¾å¯†ç¢¼çš„è³‡æ–™å¤¾ ${pass_dir}? (yes/No)&quot; yn case $yn in [Yy]* ) rm -rf ${pass_dir} ;; [No]* ) exit 0;; esac } create_prompt() { if [ ${new} = false ]; then read -p &quot;å³å°‡å»ºç«‹ä½¿ç”¨è€…å¸³æˆ¶ï¼Œç¢ºèªä½¿ç”¨è€…è³‡æ–™æ˜¯å¦ç„¡èª¤? (Yes/No)&quot; yn else read -p &quot;å³å°‡ä»¥æ–°çš„ shiny-server æ¨¡å¼å»ºç«‹ä½¿ç”¨è€…å¸³æˆ¶ï¼Œç¢ºèªä½¿ç”¨è€…è³‡æ–™æ˜¯å¦ç„¡èª¤? (Yes/No)&quot; yn fi case $yn in [Yy]* ) create_users;; [Nn]* ) exit;; esac } delete_prompt() { read -p &quot;å³å°‡ &#39;åˆªé™¤&#39; ä½¿ç”¨è€…å¸³æˆ¶ï¼Œæ–¼ /home/&lt;ä½¿ç”¨è€…&gt; çš„è³‡æ–™å°‡æœƒæ¶ˆå¤±ï¼Œæ˜¯å¦åŸ·è¡Œ? (Yes/No)&quot; yn case $yn in [Yy]* ) delete_users;; [Nn]* ) exit;; esac } display_help() { echo &quot;ä½¿ç”¨æ–¹æ³•: $0 [é¸é …...] {create|delete}&quot; echo echo &quot;é¸é …: &quot; echo &quot; -gp, --generate-password ä»¥ openssl ç”¢ç”Ÿéš¨æ©Ÿçš„ä½¿ç”¨è€…å¯†ç¢¼&quot; echo &quot; -n, --new-shiny-server åªå»ºç«‹ä½¿ç”¨è€…ï¼Œä¸è»Ÿé€£çµè‡³ /srv/shiny-server/ è³‡æ–™å¤¾ï¼›æ–°çš„ shiny-server ä¸ä½¿ç”¨è»Ÿé€£çµ&quot; echo echo &quot;æ­¤è…³æœ¬è¢«ç”¨ä¾†: &quot; echo &quot;1. æ ¹æ“š ./${depts_dir}/ è£¡é¢çš„ &lt;ç³»æ‰€åç¨±.txt&gt; å»ºç«‹å¸³è™Ÿï¼Œ&quot; echo &quot; ç³»æ‰€åç¨±æœƒè¢«ç”¨ä¾†ç•¶ä½œ linux ä½¿ç”¨è€…çš„ä½¿ç”¨è€…ä¸»è¦ç¾¤çµ„ï¼ˆprimary groupï¼‰ï¼Œ&quot; echo &quot; &lt;ç³»æ‰€åç¨±.txt&gt; å…§çš„æ ¼å¼ç‚ºä¸€å€‹å­¸è™Ÿä½”ç”¨ä¸€è¡Œã€‚&quot; echo echo &quot; æ¨¹ç‹€çµæ§‹:&quot; echo &quot; ./depts/&quot; echo &quot; â”œâ”€â”€ asis.txt&quot; echo &quot; â””â”€â”€ ecofin.txt&quot; echo echo &quot; asis.txt æª”æ¡ˆçµæ§‹&quot; echo &quot; â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&quot; echo &quot; â”‚ ./depts/asis.txt &quot; echo &quot; â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&quot; echo &quot; 1 â”‚ 08170875&quot; echo &quot; 2 â”‚ 08170396&quot; echo &quot; 3 â”‚ ...&quot; echo &quot; â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&quot; echo &quot;2. æ ¹æ“š ./${depts_dir}/ è£¡é¢çš„ &lt;ç³»æ‰€åç¨±.txt&gt; åˆªé™¤ä½¿ç”¨è€…çš„å®¶è³‡æ–™å¤¾èˆ‡å¸³è™Ÿç›¸é—œè³‡æ–™&quot; } while : do case &quot;$1&quot; in -h | --help) display_help exit 0 ;; -gp | --generate-password) gp=true shift 1 break ;; -n | --new-shiny-server) new=true shift 1 break ;; --) shift break ;; -*) echo &quot;éŒ¯èª¤: æœªçŸ¥çš„é¸é …: $1&quot; &gt;&amp;2 display_help exit 1 ;; *) break ;; esac done case &quot;$1&quot; in create) check_permission check_depts_dir create_prompt ;; delete) check_permission check_depts_dir delete_prompt ;; *) display_help exit 1 ;; esac generate-sql.sh #!/bin/bash # author: kuaz # last modified: 2021.09.13 # # é€™å€‹è…³æœ¬è¢«ç”¨ä¾†: # 1. æ ¹æ“šå·²çŸ¥çš„å¸³è™Ÿå¯†ç¢¼å»ºç«‹ MySQL å¸³æˆ¶ # 2. æ ¹æ“šå¸³è™Ÿå»ºç«‹è³‡æ–™åº«ï¼Œç·¨ç¢¼ç‚º &#39;utf8mb4&#39; # 3. ä»¥ä¸ŠæŒ‡ä»¤æœƒå„²å­˜åœ¨ç•¶å‰è³‡æ–™å¤¾çš„ create-account.sql è£¡é¢ # 4. æ ¹æ“šå·²çŸ¥çš„å¸³è™Ÿåˆªé™¤è©² MySQL å¸³æˆ¶èˆ‡è³‡æ–™åº« # 5. è‹¥åŠ ä¸Š -r, --run å³å¯é †ä¾¿åŸ·è¡Œè©²è…³æœ¬ # ç’°å¢ƒè®Šæ•¸ pass_dir=&#39;passwd&#39; # æ”¾ç½®å¯†ç¢¼çš„è³‡æ–™å¤¾ï¼Œç”±å¦ä¸€å€‹è…³æœ¬ ./create-users.sh ç”¢ç”Ÿ filename=&#39;-accounts.sql&#39; # create/drop-accounts.sql æª”æ¡ˆå‰ç¶´æœƒæ ¹æ“šé¸é …è®ŠåŒ– run=false # é è¨­ç”¢ç”Ÿè…³æœ¬å¾Œä¸æœƒåŸ·è¡Œ check_pass_dir() { if [ -d ${pass_dir} ]; then grps=&quot;$(ls ${pass_dir} | grep &quot;.csv&quot; | cut -d &quot;.&quot; -f 1)&quot; else echo &quot;å¯†ç¢¼è³‡æ–™å¤¾ ${pass_dir} ä¸å­˜åœ¨ï¼è«‹å…ˆåŸ·è¡Œéå»ºç«‹å¸³è™Ÿè…³æœ¬ï¼ˆcreate-users.shï¼‰å¾Œï¼Œå†åŸ·è¡Œä¸€æ¬¡æ­¤è…³æœ¬ã€‚&quot; exit 1; fi } write_to_mysql_db() { if [ ${run} = true ]; then echo &quot;è«‹è¼¸å…¥ MySQL å¸³æˆ¶ root çš„å¯†ç¢¼: ğŸ‘‡&quot; mysql -u root -p &lt; ${filename} clean_sql_script else echo &quot;å·²æ–¼ $(pwd) ç”¢ç”Ÿ ${filename} ğŸ‰&quot; fi } create_users_and_databases() { echo &quot;set global validate_password.policy=LOW;&quot; | tee -a ${filename} &gt; /dev/null 2&gt;&amp;1; for grp in ${grps} do while read line; do stu=&quot;$(echo ${line} | cut -d &#39;,&#39; -f 1)&quot; pass=&quot;$(echo ${line} | cut -d &#39;,&#39; -f 2)&quot; echo &quot;create user &#39;${stu}&#39;@&#39;localhost&#39; identified by &#39;${pass}&#39;;&quot; \\ | tee -a ${filename} &gt; /dev/null 2&gt;&amp;1 echo &quot;create database \\`${stu}\\` character set utf8mb4 collate utf8mb4_unicode_ci;&quot; \\ | tee -a ${filename} &gt; /dev/null 2&gt;&amp;1 echo &quot;grant all privileges on \\`${stu}\\`.* to &#39;${stu}&#39;@&#39;localhost&#39;;&quot; \\ | tee -a ${filename} &gt; /dev/null 2&gt;&amp;1 done &lt; ${pass_dir}/${grp}.csv done echo &quot;flush privileges;&quot; | tee -a ${filename} &gt; /dev/null 2&gt;&amp;1; write_to_mysql_db } drop_users_and_databases() { for grp in ${grps} do while read line; do stu=&quot;$(echo ${line} | cut -d &#39;,&#39; -f 1)&quot; echo &quot;drop user &#39;${stu}&#39;@&#39;localhost&#39;;&quot; \\ | tee -a ${filename} &gt; /dev/null 2&gt;&amp;1 echo &quot;drop database \\`${stu}\\`;&quot; \\ | tee -a ${filename} &gt; /dev/null 2&gt;&amp;1 done &lt; ${pass_dir}/${grp}.csv done write_to_mysql_db } display_help() { echo &quot;é€™å€‹è…³æœ¬è¢«ç”¨ä¾†:&quot; echo &quot;1. æ ¹æ“šå·²çŸ¥çš„å¸³è™Ÿå¯†ç¢¼å»ºç«‹ MySQL å¸³æˆ¶&quot; echo &quot;2. æ ¹æ“šå¸³è™Ÿå»ºç«‹è³‡æ–™åº«ï¼Œç·¨ç¢¼ç‚º &#39;utf8mb4&#39;&quot; echo &quot;3. ä»¥ä¸ŠæŒ‡ä»¤æœƒå„²å­˜åœ¨ç•¶å‰è³‡æ–™å¤¾çš„ create-account.sql è£¡é¢&quot; echo &quot;4. æ ¹æ“šå·²çŸ¥çš„å¸³è™Ÿåˆªé™¤è©² MySQL å¸³æˆ¶èˆ‡è³‡æ–™åº«&quot; echo &quot;5. è‹¥åŠ ä¸Š -r, --run å³å¯é †ä¾¿åŸ·è¡Œè©²è…³æœ¬&quot; echo echo &quot;ä½¿ç”¨æ–¹æ³•: $0 [option...] {create|drop}&quot; echo echo &quot;options: &quot; echo &quot; -r, --run åŸ·è¡Œè…³æœ¬&quot; echo &quot; -h, --help é¡¯ç¤ºèªªæ˜&quot; echo &quot; æ²’æœ‰åŠ ä»»ä½•é¸é …: åƒ…ç”¢ç”Ÿ .sql è…³æœ¬&quot; echo exit 0 } clean_sql_script() { read -p &quot;æ˜¯å¦è¦æ¸…é™¤ ${filename}? (Yes/No)&quot; yn case $yn in [Yy]* ) rm ${filename} ;; [Nn]* ) exit 0;; esac echo &quot;DONE ğŸ‰&quot; } while : do case &quot;$1&quot; in -r | --run) run=true shift 1 ;; -h | --help) display_help exit 0 ;; --) shift break ;; -*) echo &quot;éŒ¯èª¤: æœªçŸ¥çš„é¸é …: $1&quot; &gt;&amp;2 display_help exit 1 ;; *) break ;; esac done case &quot;$1&quot; in create) check_pass_dir if [ $? -ne 1 ]; then filename=&quot;$1$filename&quot; create_users_and_databases fi ;; drop) check_pass_dir if [ $? -ne 1 ]; then filename=&quot;$1$filename&quot; drop_users_and_databases fi ;; *) display_help exit 0 ;; esac "],["mysql-8.0-root-å¯†ç¢¼é‡è¨­.html", "Mysql 8.0 root å¯†ç¢¼é‡è¨­", " Mysql 8.0 root å¯†ç¢¼é‡è¨­ å…ˆå»ºç«‹ä¸€å€‹å«æœ‰æ”¹è®Š root å¯†ç¢¼çš„ sql èªæ³•æ–‡å­—æª”æ¡ˆ vim mysql-init ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED with caching_sha2_password by &#39;&lt;æ–°çš„ root å¯†ç¢¼&gt;&#39;; å¦‚å­˜å¥½å¾Œå°‡æ“æœ‰è€…èˆ‡ä½¿ç”¨è€…ç¾¤çµ„æ”¹æˆ mysql å¾Œï¼Œç§»è‡³ /tmp è³‡æ–™å¤¾ï¼Œä½¿ mysql ä½¿ç”¨è€…å¯ä»¥å­˜å–ã€‚ chown mysql.mysql mysql-init &amp;&amp; mv mysql-init /tmp åˆ‡æ›è‡³ root ä½¿ç”¨è€…é€²è¡Œå¾ŒçºŒæ“ä½œ sudo su - å°‡ç›®å‰çš„ mysql é—œé–‰ killall -9 mysqld æˆ–æ˜¯ä½¿ç”¨ systemctl æŒ‡ä»¤é—œé–‰ mysql æœå‹™ {.bash prefixed} systemctl stop mysql.service æ¥è‘—ä½¿ç”¨ mysqld æŒ‡ä»¤å•Ÿå‹• mysql ä¸¦æŒ‡å®š --userã€--defaults-file èˆ‡ --init-file åƒæ•¸ã€‚ mysqld --defaults-file=/etc/mysql/mysql.conf.d/mysqld.cnf \\ --user=mysql \\ --init-file=/tmp/mysql-init &amp; --defaults-file: MySQL é è¨­å•Ÿå‹•çš„è¨­å®šæª”æ¡ˆ --user: ä»¥ä½¿ç”¨è€… mysql åŸ·è¡Œ --init-file: åˆå§‹åŒ–æ™‚ï¼ŒåŸ·è¡Œ /tmp/mysql-init æŒ‡ä»¤ï¼Œè®Šæ›´å¯†ç¢¼ &amp;: å°‡ mysql deamon æ”¾è‡³èƒŒæ™¯åŸ·è¡Œã€‚ æ­¤æ™‚ï¼Œæ‡‰è©²å¯ä»¥æ­£å¸¸ç™»å…¥äº†ã€‚ å¦‚æœä¸è¡Œçš„è©±ï¼Œè«‹æª¢æŸ¥ä½æ–¼ /var/log/mysql/error.log çš„éŒ¯èª¤ç´€éŒ„ï¼Œå¦‚æœæœ‰çœ‹åˆ°é¡ä¼¼ /var/run/mysqld çš„éŒ¯èª¤ï¼Œéœ€è¦æ‰‹å‹•å»ºç«‹è³‡æ–™å¤¾ï¼Œä¸¦æŠŠæ¬Šé™è®Šæ›´ç‚º mysql ç”¨æˆ¶çš„æ¬Šé™ã€‚ æ“ä½œå®Œä¹‹å¾Œå†å¾é—œé–‰ mysql æœå‹™é–‹å§‹ï¼Œå†å˜—è©¦ä¸€æ¬¡ã€‚ åƒè€ƒæŒ‡ä»¤å¦‚ä¸‹ï¼š mkdir /var/run/mysqld &amp;&amp; chown mysql.mysql /var/run/mysqld æœ€å¾Œä»¥æ­£å¸¸çš„æœå‹™å•Ÿå‹• mysqlï¼š systemctl restart mysql.service é€€å‡º root å¸³è™Ÿ exit è©¦ä»¥æ–°å¯†ç¢¼ç™»å…¥ mysql root å¸³è™Ÿï¼š mysql -u root -p æˆåŠŸ ğŸŠ Welcome to the MySQL monitor. Commands end with ; or \\g. Your MySQL connection id is 17 Server version: 8.0.26-0ubuntu0.20.04.3 (Ubuntu) Copyright (c) 2000, 2021, Oracle and/or its affiliates. Oracle is a registered trademark of Oracle Corporation and/or its affiliates. Other names may be trademarks of their respective owners. Type &#39;help;&#39; or &#39;\\h&#39; for help. Type &#39;\\c&#39; to clear the current input statement. mysql&gt; "],["åƒè€ƒè³‡æ–™.html", "åƒè€ƒè³‡æ–™", " åƒè€ƒè³‡æ–™ "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
